var EL=Object.defineProperty,bL=Object.defineProperties;var CL=Object.getOwnPropertyDescriptors;var Kd=Object.getOwnPropertySymbols;var pS=Object.prototype.hasOwnProperty,gS=Object.prototype.propertyIsEnumerable;var fS=(n,e,t)=>e in n?EL(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,B=(n,e)=>{for(var t in e||={})pS.call(e,t)&&fS(n,t,e[t]);if(Kd)for(var t of Kd(e))gS.call(e,t)&&fS(n,t,e[t]);return n},me=(n,e)=>bL(n,CL(e));var mS=(n,e)=>{var t={};for(var r in n)pS.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&Kd)for(var r of Kd(n))e.indexOf(r)<0&&gS.call(n,r)&&(t[r]=n[r]);return t};var H=(n,e,t)=>new Promise((r,i)=>{var o=l=>{try{a(t.next(l))}catch(u){i(u)}},s=l=>{try{a(t.throw(l))}catch(u){i(u)}},a=l=>l.done?r(l.value):Promise.resolve(l.value).then(o,s);a((t=t.apply(n,e)).next())});var Ty;function Ay(){return Ty}function li(n){let e=Ty;return Ty=n,e}var IL=Symbol("NotFound"),Qd=class extends Error{name="\u0275NotFound";constructor(e){super(e)}};function Qs(n){return n===IL||n?.name==="\u0275NotFound"}function eh(n,e){return Object.is(n,e)}var Rt=null,Yd=!1,My=1,DL=null,dn=Symbol("SIGNAL");function _e(n){let e=Rt;return Rt=n,e}function th(){return Rt}var Vo={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Ys(n){if(Yd)throw new Error("");if(Rt===null)return;Rt.consumerOnSignalRead(n);let e=Rt.nextProducerIndex++;if(oh(Rt),e<Rt.producerNode.length&&Rt.producerNode[e]!==n&&tc(Rt)){let t=Rt.producerNode[e];ih(t,Rt.producerIndexOfThis[e])}Rt.producerNode[e]!==n&&(Rt.producerNode[e]=n,Rt.producerIndexOfThis[e]=tc(Rt)?vS(n,Rt,e):0),Rt.producerLastReadVersion[e]=n.version}function yS(){My++}function nh(n){if(!(tc(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===My)){if(!n.producerMustRecompute(n)&&!nc(n)){Xd(n);return}n.producerRecomputeValue(n),Xd(n)}}function xy(n){if(n.liveConsumerNode===void 0)return;let e=Yd;Yd=!0;try{for(let t of n.liveConsumerNode)t.dirty||SL(t)}finally{Yd=e}}function Ry(){return Rt?.consumerAllowSignalWrites!==!1}function SL(n){n.dirty=!0,xy(n),n.consumerMarkedDirty?.(n)}function Xd(n){n.dirty=!1,n.lastCleanEpoch=My}function jo(n){return n&&(n.nextProducerIndex=0),_e(n)}function Zs(n,e){if(_e(e),!(!n||n.producerNode===void 0||n.producerIndexOfThis===void 0||n.producerLastReadVersion===void 0)){if(tc(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)ih(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function nc(n){oh(n);for(let e=0;e<n.producerNode.length;e++){let t=n.producerNode[e],r=n.producerLastReadVersion[e];if(r!==t.version||(nh(t),r!==t.version))return!0}return!1}function rh(n){if(oh(n),tc(n))for(let e=0;e<n.producerNode.length;e++)ih(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function vS(n,e,t){if(_S(n),n.liveConsumerNode.length===0&&wS(n))for(let r=0;r<n.producerNode.length;r++)n.producerIndexOfThis[r]=vS(n.producerNode[r],n,r);return n.liveConsumerIndexOfThis.push(t),n.liveConsumerNode.push(e)-1}function ih(n,e){if(_S(n),n.liveConsumerNode.length===1&&wS(n))for(let r=0;r<n.producerNode.length;r++)ih(n.producerNode[r],n.producerIndexOfThis[r]);let t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){let r=n.liveConsumerIndexOfThis[e],i=n.liveConsumerNode[e];oh(i),i.producerIndexOfThis[r]=e}}function tc(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function oh(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function _S(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}function wS(n){return n.producerNode!==void 0}function sh(n){DL?.(n)}function ah(n,e){let t=Object.create(TL);t.computation=n,e!==void 0&&(t.equal=e);let r=()=>{if(nh(t),Ys(t),t.value===ec)throw t.error;return t.value};return r[dn]=t,sh(t),r}var Zd=Symbol("UNSET"),Jd=Symbol("COMPUTING"),ec=Symbol("ERRORED"),TL=me(B({},Vo),{value:Zd,dirty:!0,error:null,equal:eh,kind:"computed",producerMustRecompute(n){return n.value===Zd||n.value===Jd},producerRecomputeValue(n){if(n.value===Jd)throw new Error("");let e=n.value;n.value=Jd;let t=jo(n),r,i=!1;try{r=n.computation(),_e(null),i=e!==Zd&&e!==ec&&r!==ec&&n.equal(e,r)}catch(o){r=ec,n.error=o}finally{Zs(n,t)}if(i){n.value=e;return}n.value=r,n.version++}});function AL(){throw new Error}var ES=AL;function bS(n){ES(n)}function Ny(n){ES=n}var ML=null;function Py(n,e){let t=Object.create(lh);t.value=n,e!==void 0&&(t.equal=e);let r=()=>CS(t);return r[dn]=t,sh(t),[r,s=>Js(t,s),s=>ky(t,s)]}function CS(n){return Ys(n),n.value}function Js(n,e){Ry()||bS(n),n.equal(n.value,e)||(n.value=e,xL(n))}function ky(n,e){Ry()||bS(n),Js(n,e(n.value))}var lh=me(B({},Vo),{equal:eh,value:void 0,kind:"signal"});function xL(n){n.version++,yS(),xy(n),ML?.(n)}function pe(n){return typeof n=="function"}function Xs(n){let t=n(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var ch=Xs(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function rc(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var wt=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(pe(r))try{r()}catch(o){e=o instanceof ch?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{IS(o)}catch(s){e=e??[],s instanceof ch?e=[...e,...s.errors]:e.push(s)}}if(e)throw new ch(e)}}add(e){var t;if(e&&e!==this)if(this.closed)IS(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&rc(t,e)}remove(e){let{_finalizers:t}=this;t&&rc(t,e),e instanceof n&&e._removeParent(this)}};wt.EMPTY=(()=>{let n=new wt;return n.closed=!0,n})();var Oy=wt.EMPTY;function uh(n){return n instanceof wt||n&&"closed"in n&&pe(n.remove)&&pe(n.add)&&pe(n.unsubscribe)}function IS(n){pe(n)?n():n.unsubscribe()}var pr={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var ea={setTimeout(n,e,...t){let{delegate:r}=ea;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=ea;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function dh(n){ea.setTimeout(()=>{let{onUnhandledError:e}=pr;if(e)e(n);else throw n})}function ic(){}var DS=Fy("C",void 0,void 0);function SS(n){return Fy("E",void 0,n)}function TS(n){return Fy("N",n,void 0)}function Fy(n,e,t){return{kind:n,value:e,error:t}}var Uo=null;function ta(n){if(pr.useDeprecatedSynchronousErrorHandling){let e=!Uo;if(e&&(Uo={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:r}=Uo;if(Uo=null,t)throw r}}else n()}function AS(n){pr.useDeprecatedSynchronousErrorHandling&&Uo&&(Uo.errorThrown=!0,Uo.error=n)}var Bo=class extends wt{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,uh(e)&&e.add(this)):this.destination=PL}static create(e,t,r){return new na(e,t,r)}next(e){this.isStopped?Vy(TS(e),this):this._next(e)}error(e){this.isStopped?Vy(SS(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Vy(DS,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},RL=Function.prototype.bind;function Ly(n,e){return RL.call(n,e)}var jy=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){hh(r)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){hh(r)}else hh(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){hh(t)}}},na=class extends Bo{constructor(e,t,r){super();let i;if(pe(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&pr.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Ly(e.next,o),error:e.error&&Ly(e.error,o),complete:e.complete&&Ly(e.complete,o)}):i=e}this.destination=new jy(i)}};function hh(n){pr.useDeprecatedSynchronousErrorHandling?AS(n):dh(n)}function NL(n){throw n}function Vy(n,e){let{onStoppedNotification:t}=pr;t&&ea.setTimeout(()=>t(n,e))}var PL={closed:!0,next:ic,error:NL,complete:ic};var ra=typeof Symbol=="function"&&Symbol.observable||"@@observable";function xn(n){return n}function Uy(...n){return By(n)}function By(n){return n.length===0?xn:n.length===1?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}var Ne=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){let o=OL(t)?t:new na(t,r,i);return ta(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=MS(r),new r((i,o)=>{let s=new na({next:a=>{try{t(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[ra](){return this}pipe(...t){return By(t)(this)}toPromise(t){return t=MS(t),new t((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=e=>new n(e),n})();function MS(n){var e;return(e=n??pr.Promise)!==null&&e!==void 0?e:Promise}function kL(n){return n&&pe(n.next)&&pe(n.error)&&pe(n.complete)}function OL(n){return n&&n instanceof Bo||kL(n)&&uh(n)}function $y(n){return pe(n?.lift)}function Pe(n){return e=>{if($y(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function xe(n,e,t,r,i){return new zy(n,e,t,r,i)}var zy=class extends Bo{constructor(e,t,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(l){e.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function ia(){return Pe((n,e)=>{let t=null;n._refCount++;let r=xe(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let i=n._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}var oa=class extends Ne{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,$y(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new wt;let t=this.getSubject();e.add(this.source.subscribe(xe(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=wt.EMPTY)}return e}refCount(){return ia()(this)}};var xS=Xs(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Et=(()=>{class n extends Ne{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new fh(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new xS}next(t){ta(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){ta(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){ta(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:o}=this;return r||i?Oy:(this.currentObservers=null,o.push(t),new wt(()=>{this.currentObservers=null,rc(o,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){let t=new Ne;return t.source=this,t}}return n.create=(e,t)=>new fh(e,t),n})(),fh=class extends Et{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,e)}error(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&r!==void 0?r:Oy}};var qt=class extends Et{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var mn=new Ne(n=>n.complete());function RS(n){return n&&pe(n.schedule)}function NS(n){return n[n.length-1]}function ph(n){return pe(NS(n))?n.pop():void 0}function Gi(n){return RS(NS(n))?n.pop():void 0}function kS(n,e,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{u(r.next(d))}catch(f){s(f)}}function l(d){try{u(r.throw(d))}catch(f){s(f)}}function u(d){d.done?o(d.value):i(d.value).then(a,l)}u((r=r.apply(n,e||[])).next())})}function PS(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function $o(n){return this instanceof $o?(this.v=n,this):new $o(n)}function OS(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(m){return function(v){return Promise.resolve(v).then(m,f)}}function a(m,v){r[m]&&(i[m]=function(w){return new Promise(function(A,N){o.push([m,w,A,N])>1||l(m,w)})},v&&(i[m]=v(i[m])))}function l(m,v){try{u(r[m](v))}catch(w){p(o[0][3],w)}}function u(m){m.value instanceof $o?Promise.resolve(m.value.v).then(d,f):p(o[0][2],m)}function d(m){l("next",m)}function f(m){l("throw",m)}function p(m,v){m(v),o.shift(),o.length&&l(o[0][0],o[0][1])}}function FS(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof PS=="function"?PS(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=n[o]&&function(s){return new Promise(function(a,l){s=n[o](s),i(a,l,s.done,s.value)})}}function i(o,s,a,l){Promise.resolve(l).then(function(u){o({value:u,done:a})},s)}}var gh=n=>n&&typeof n.length=="number"&&typeof n!="function";function mh(n){return pe(n?.then)}function yh(n){return pe(n[ra])}function vh(n){return Symbol.asyncIterator&&pe(n?.[Symbol.asyncIterator])}function _h(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function FL(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var wh=FL();function Eh(n){return pe(n?.[wh])}function bh(n){return OS(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:r,done:i}=yield $o(t.read());if(i)return yield $o(void 0);yield yield $o(r)}}finally{t.releaseLock()}})}function Ch(n){return pe(n?.getReader)}function bt(n){if(n instanceof Ne)return n;if(n!=null){if(yh(n))return LL(n);if(gh(n))return VL(n);if(mh(n))return jL(n);if(vh(n))return LS(n);if(Eh(n))return UL(n);if(Ch(n))return BL(n)}throw _h(n)}function LL(n){return new Ne(e=>{let t=n[ra]();if(pe(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function VL(n){return new Ne(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function jL(n){return new Ne(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,dh)})}function UL(n){return new Ne(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function LS(n){return new Ne(e=>{$L(n,e).catch(t=>e.error(t))})}function BL(n){return LS(bh(n))}function $L(n,e){var t,r,i,o;return kS(this,void 0,void 0,function*(){try{for(t=FS(n);r=yield t.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}e.complete()})}function yn(n,e,t,r=0,i=!1){let o=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function Ih(n,e=0){return Pe((t,r)=>{t.subscribe(xe(r,i=>yn(r,n,()=>r.next(i),e),()=>yn(r,n,()=>r.complete(),e),i=>yn(r,n,()=>r.error(i),e)))})}function Dh(n,e=0){return Pe((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function VS(n,e){return bt(n).pipe(Dh(e),Ih(e))}function jS(n,e){return bt(n).pipe(Dh(e),Ih(e))}function US(n,e){return new Ne(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}function BS(n,e){return new Ne(t=>{let r;return yn(t,e,()=>{r=n[wh](),yn(t,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){t.error(s);return}o?t.complete():t.next(i)},0,!0)}),()=>pe(r?.return)&&r.return()})}function Sh(n,e){if(!n)throw new Error("Iterable cannot be null");return new Ne(t=>{yn(t,e,()=>{let r=n[Symbol.asyncIterator]();yn(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function $S(n,e){return Sh(bh(n),e)}function zS(n,e){if(n!=null){if(yh(n))return VS(n,e);if(gh(n))return US(n,e);if(mh(n))return jS(n,e);if(vh(n))return Sh(n,e);if(Eh(n))return BS(n,e);if(Ch(n))return $S(n,e)}throw _h(n)}function tt(n,e){return e?zS(n,e):bt(n)}function ue(...n){let e=Gi(n);return tt(n,e)}function sa(n,e){let t=pe(n)?n:()=>n,r=i=>i.error(t());return new Ne(e?i=>e.schedule(r,0,i):r)}function Hy(n){return!!n&&(n instanceof Ne||pe(n.lift)&&pe(n.subscribe))}var ci=Xs(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function Re(n,e){return Pe((t,r)=>{let i=0;t.subscribe(xe(r,o=>{r.next(n.call(e,o,i++))}))})}var{isArray:zL}=Array;function HL(n,e){return zL(e)?n(...e):n(e)}function Th(n){return Re(e=>HL(n,e))}var{isArray:qL}=Array,{getPrototypeOf:GL,prototype:WL,keys:KL}=Object;function Ah(n){if(n.length===1){let e=n[0];if(qL(e))return{args:e,keys:null};if(QL(e)){let t=KL(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}function QL(n){return n&&typeof n=="object"&&GL(n)===WL}function Mh(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function oc(...n){let e=Gi(n),t=ph(n),{args:r,keys:i}=Ah(n);if(r.length===0)return tt([],e);let o=new Ne(YL(r,e,i?s=>Mh(i,s):xn));return t?o.pipe(Th(t)):o}function YL(n,e,t=xn){return r=>{HS(e,()=>{let{length:i}=n,o=new Array(i),s=i,a=i;for(let l=0;l<i;l++)HS(e,()=>{let u=tt(n[l],e),d=!1;u.subscribe(xe(r,f=>{o[l]=f,d||(d=!0,a--),a||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function HS(n,e,t){n?yn(t,n,e):e()}function qS(n,e,t,r,i,o,s,a){let l=[],u=0,d=0,f=!1,p=()=>{f&&!l.length&&!u&&e.complete()},m=w=>u<r?v(w):l.push(w),v=w=>{o&&e.next(w),u++;let A=!1;bt(t(w,d++)).subscribe(xe(e,N=>{i?.(N),o?m(N):e.next(N)},()=>{A=!0},void 0,()=>{if(A)try{for(u--;l.length&&u<r;){let N=l.shift();s?yn(e,s,()=>v(N)):v(N)}p()}catch(N){e.error(N)}}))};return n.subscribe(xe(e,m,()=>{f=!0,p()})),()=>{a?.()}}function mt(n,e,t=1/0){return pe(e)?mt((r,i)=>Re((o,s)=>e(r,o,i,s))(bt(n(r,i))),t):(typeof e=="number"&&(t=e),Pe((r,i)=>qS(r,i,n,t)))}function aa(n=1/0){return mt(xn,n)}function GS(){return aa(1)}function la(...n){return GS()(tt(n,Gi(n)))}function sc(n){return new Ne(e=>{bt(n()).subscribe(e)})}function qy(...n){let e=ph(n),{args:t,keys:r}=Ah(n),i=new Ne(o=>{let{length:s}=t;if(!s){o.complete();return}let a=new Array(s),l=s,u=s;for(let d=0;d<s;d++){let f=!1;bt(t[d]).subscribe(xe(o,p=>{f||(f=!0,u--),a[d]=p},()=>l--,void 0,()=>{(!l||!f)&&(u||o.next(r?Mh(r,a):a),o.complete())}))}});return e?i.pipe(Th(e)):i}function vn(n,e){return Pe((t,r)=>{let i=0;t.subscribe(xe(r,o=>n.call(e,o,i++)&&r.next(o)))})}function ui(n){return Pe((e,t)=>{let r=null,i=!1,o;r=e.subscribe(xe(t,void 0,void 0,s=>{o=bt(n(s,ui(n)(e))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function WS(n,e,t,r,i){return(o,s)=>{let a=t,l=e,u=0;o.subscribe(xe(s,d=>{let f=u++;l=a?n(l,d,f):(a=!0,d),r&&s.next(l)},i&&(()=>{a&&s.next(l),s.complete()})))}}function Wi(n,e){return pe(e)?mt(n,e,1):mt(n,1)}function Ki(n){return Pe((e,t)=>{let r=!1;e.subscribe(xe(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function di(n){return n<=0?()=>mn:Pe((e,t)=>{let r=0;e.subscribe(xe(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function xh(n=ZL){return Pe((e,t)=>{let r=!1;e.subscribe(xe(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function ZL(){return new ci}function ac(n){return Pe((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function hi(n,e){let t=arguments.length>=2;return r=>r.pipe(n?vn((i,o)=>n(i,o,r)):xn,di(1),t?Ki(e):xh(()=>new ci))}function ca(n){return n<=0?()=>mn:Pe((e,t)=>{let r=[];e.subscribe(xe(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(let i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function Gy(n,e){let t=arguments.length>=2;return r=>r.pipe(n?vn((i,o)=>n(i,o,r)):xn,ca(1),t?Ki(e):xh(()=>new ci))}function Wy(n,e){return Pe(WS(n,e,arguments.length>=2,!0))}function Ky(...n){let e=Gi(n);return Pe((t,r)=>{(e?la(n,t,e):la(n,t)).subscribe(r)})}function Rn(n,e){return Pe((t,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();t.subscribe(xe(r,l=>{i?.unsubscribe();let u=0,d=o++;bt(n(l,d)).subscribe(i=xe(r,f=>r.next(e?e(l,f,d,u++):f),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function Rh(n){return Pe((e,t)=>{bt(n).subscribe(xe(t,()=>t.complete(),ic)),!t.closed&&e.subscribe(t)})}function Vt(n,e,t){let r=pe(n)||e||t?{next:n,error:e,complete:t}:n;return r?Pe((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(xe(o,l=>{var u;(u=r.next)===null||u===void 0||u.call(r,l),o.next(l)},()=>{var l;a=!1,(l=r.complete)===null||l===void 0||l.call(r),o.complete()},l=>{var u;a=!1,(u=r.error)===null||u===void 0||u.call(r,l),o.error(l)},()=>{var l,u;a&&((l=r.unsubscribe)===null||l===void 0||l.call(r)),(u=r.finalize)===null||u===void 0||u.call(r)}))}):xn}function KS(n){let e=_e(null);try{return n()}finally{_e(e)}}var Fh="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",j=class extends Error{code;constructor(e,t){super(dc(e,t)),this.code=e}};function JL(n){return`NG0${Math.abs(n)}`}function dc(n,e){return`${JL(n)}${e?": "+e:""}`}var hc=globalThis;function nt(n){for(let e in n)if(n[e]===nt)return e;throw Error("")}function JS(n,e){for(let t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function _n(n){if(typeof n=="string")return n;if(Array.isArray(n))return`[${n.map(_n).join(", ")}]`;if(n==null)return""+n;let e=n.overriddenName||n.name;if(e)return`${e}`;let t=n.toString();if(t==null)return""+t;let r=t.indexOf(`
`);return r>=0?t.slice(0,r):t}function av(n,e){return n?e?`${n} ${e}`:n:e||""}var XL=nt({__forward_ref__:nt});function Pr(n){return n.__forward_ref__=Pr,n.toString=function(){return _n(this())},n}function Gt(n){return lv(n)?n():n}function lv(n){return typeof n=="function"&&n.hasOwnProperty(XL)&&n.__forward_ref__===Pr}function XS(n,e,t,r){throw new Error(`ASSERTION ERROR: ${n}`+(r==null?"":` [Expected=> ${t} ${r} ${e} <=Actual]`))}function K(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function kn(n){return{providers:n.providers||[],imports:n.imports||[]}}function fc(n){return e2(n,Lh)}function cv(n){return fc(n)!==null}function e2(n,e){return n.hasOwnProperty(e)&&n[e]||null}function t2(n){let e=n?.[Lh]??null;return e||null}function Yy(n){return n&&n.hasOwnProperty(Ph)?n[Ph]:null}var Lh=nt({\u0275prov:nt}),Ph=nt({\u0275inj:nt}),oe=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,t){this._desc=e,this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=K({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function uv(n){return n&&!!n.\u0275providers}var dv=nt({\u0275cmp:nt}),hv=nt({\u0275dir:nt}),fv=nt({\u0275pipe:nt}),pv=nt({\u0275mod:nt}),cc=nt({\u0275fac:nt}),Ko=nt({__NG_ELEMENT_ID__:nt}),QS=nt({__NG_ENV_ID__:nt});function pc(n){return typeof n=="string"?n:n==null?"":String(n)}function eT(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():pc(n)}function gv(n,e){throw new j(-200,n)}function Vh(n,e){throw new j(-201,!1)}var Zy;function tT(){return Zy}function Nn(n){let e=Zy;return Zy=n,e}function mv(n,e,t){let r=fc(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&8)return null;if(e!==void 0)return e;Vh(n,"Injector")}var n2={},zo=n2,Jy="__NG_DI_FLAG__",Xy=class{injector;constructor(e){this.injector=e}retrieve(e,t){let r=Ho(t)||0;try{return this.injector.get(e,r&8?null:zo,r)}catch(i){if(Qs(i))return i;throw i}}},kh="ngTempTokenPath",r2="ngTokenPath",i2=/\n/gm,o2="\u0275",YS="__source";function s2(n,e=0){let t=Ay();if(t===void 0)throw new j(-203,!1);if(t===null)return mv(n,void 0,e);{let r=a2(e),i=t.retrieve(n,r);if(Qs(i)){if(r.optional)return null;throw i}return i}}function se(n,e=0){return(tT()||s2)(Gt(n),e)}function L(n,e){return se(n,Ho(e))}function Ho(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function a2(n){return{optional:!!(n&8),host:!!(n&1),self:!!(n&2),skipSelf:!!(n&4)}}function ev(n){let e=[];for(let t=0;t<n.length;t++){let r=Gt(n[t]);if(Array.isArray(r)){if(r.length===0)throw new j(900,!1);let i,o=0;for(let s=0;s<r.length;s++){let a=r[s],l=l2(a);typeof l=="number"?l===-1?i=a.token:o|=l:i=a}e.push(se(i,o))}else e.push(se(r))}return e}function yv(n,e){return n[Jy]=e,n.prototype[Jy]=e,n}function l2(n){return n[Jy]}function c2(n,e,t,r){let i=n[kh];throw e[YS]&&i.unshift(e[YS]),n.message=u2(`
`+n.message,i,t,r),n[r2]=i,n[kh]=null,n}function u2(n,e,t,r=null){n=n&&n.charAt(0)===`
`&&n.charAt(1)==o2?n.slice(2):n;let i=_n(e);if(Array.isArray(e))i=e.map(_n).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):_n(a)))}i=`{${o.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(i2,`
  `)}`}function qo(n,e){let t=n.hasOwnProperty(cc);return t?n[cc]:null}function jh(n,e){n.forEach(t=>Array.isArray(t)?jh(t,e):e(t))}function vv(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function gc(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function nT(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(i===1)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;){let o=i-2;n[i]=n[o],i--}n[e]=t,n[e+1]=r}}function rT(n,e,t){let r=da(n,e);return r>=0?n[r|1]=t:(r=~r,nT(n,r,e,t)),r}function Uh(n,e){let t=da(n,e);if(t>=0)return n[t|1]}function da(n,e){return d2(n,e,1)}function d2(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){let o=r+(i-r>>1),s=n[o<<t];if(e===s)return o<<t;s>e?i=o:r=o+1}return~(i<<t)}var Zi={},Pn=[],Ji=new oe(""),_v=new oe("",-1),wv=new oe(""),uc=class{get(e,t=zo){if(t===zo)throw new Qd(`NullInjectorError: No provider for ${_n(e)}!`);return t}};function Ev(n){return n[pv]||null}function pi(n){return n[dv]||null}function bv(n){return n[hv]||null}function iT(n){return n[fv]||null}function ha(n){return{\u0275providers:n}}function oT(...n){return{\u0275providers:Cv(!0,n),\u0275fromNgModule:!0}}function Cv(n,...e){let t=[],r=new Set,i,o=s=>{t.push(s)};return jh(e,s=>{let a=s;Oh(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&sT(i,o),t}function sT(n,e){for(let t=0;t<n.length;t++){let{ngModule:r,providers:i}=n[t];Iv(i,o=>{e(o,r)})}}function Oh(n,e,t,r){if(n=Gt(n),!n)return!1;let i=null,o=Yy(n),s=!o&&pi(n);if(!o&&!s){let l=n.ngModule;if(o=Yy(l),o)i=l;else return!1}else{if(s&&!s.standalone)return!1;i=n}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let l=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let u of l)Oh(u,e,t,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let u;try{jh(o.imports,d=>{Oh(d,e,t,r)&&(u||=[],u.push(d))})}finally{}u!==void 0&&sT(u,e)}if(!a){let u=qo(i)||(()=>new i);e({provide:i,useFactory:u,deps:Pn},i),e({provide:wv,useValue:i,multi:!0},i),e({provide:Ji,useValue:()=>se(i),multi:!0},i)}let l=o.providers;if(l!=null&&!a){let u=n;Iv(l,d=>{e(d,u)})}}else return!1;return i!==n&&n.providers!==void 0}function Iv(n,e){for(let t of n)uv(t)&&(t=t.\u0275providers),Array.isArray(t)?Iv(t,e):e(t)}var h2=nt({provide:String,useValue:nt});function aT(n){return n!==null&&typeof n=="object"&&h2 in n}function f2(n){return!!(n&&n.useExisting)}function p2(n){return!!(n&&n.useFactory)}function Go(n){return typeof n=="function"}function lT(n){return!!n.useClass}var mc=new oe(""),Nh={},ZS={},Qy;function yc(){return Qy===void 0&&(Qy=new uc),Qy}var Nt=class{},Wo=class extends Nt{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,nv(e,s=>this.processProvider(s)),this.records.set(_v,ua(void 0,this)),i.has("environment")&&this.records.set(Nt,ua(void 0,this));let o=this.records.get(mc);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(wv,Pn,{self:!0}))}retrieve(e,t){let r=Ho(t)||0;try{return this.get(e,zo,r)}catch(i){if(Qs(i))return i;throw i}}destroy(){lc(this),this._destroyed=!0;let e=_e(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),_e(e)}}onDestroy(e){return lc(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){lc(this);let t=li(this),r=Nn(void 0),i;try{return e()}finally{li(t),Nn(r)}}get(e,t=zo,r){if(lc(this),e.hasOwnProperty(QS))return e[QS](this);let i=Ho(r),o,s=li(this),a=Nn(void 0);try{if(!(i&4)){let u=this.records.get(e);if(u===void 0){let d=_2(e)&&fc(e);d&&this.injectableDefInScope(d)?u=ua(tv(e),Nh):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u)}let l=i&2?yc():this.parent;return t=i&8&&t===zo?null:t,l.get(e,t)}catch(l){if(Qs(l)){if((l[kh]=l[kh]||[]).unshift(_n(e)),s)throw l;return c2(l,e,"R3InjectorError",this.source)}else throw l}finally{Nn(a),li(s)}}resolveInjectorInitializers(){let e=_e(null),t=li(this),r=Nn(void 0),i;try{let o=this.get(Ji,Pn,{self:!0});for(let s of o)s()}finally{li(t),Nn(r),_e(e)}}toString(){let e=[],t=this.records;for(let r of t.keys())e.push(_n(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=Gt(e);let t=Go(e)?e:Gt(e&&e.provide),r=m2(e);if(!Go(e)&&e.multi===!0){let i=this.records.get(t);i||(i=ua(void 0,Nh,!0),i.factory=()=>ev(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t){let r=_e(null);try{return t.value===ZS?gv(_n(e)):t.value===Nh&&(t.value=ZS,t.value=t.factory()),typeof t.value=="object"&&t.value&&v2(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{_e(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=Gt(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function tv(n){let e=fc(n),t=e!==null?e.factory:qo(n);if(t!==null)return t;if(n instanceof oe)throw new j(204,!1);if(n instanceof Function)return g2(n);throw new j(204,!1)}function g2(n){if(n.length>0)throw new j(204,!1);let t=t2(n);return t!==null?()=>t.factory(n):()=>new n}function m2(n){if(aT(n))return ua(void 0,n.useValue);{let e=Dv(n);return ua(e,Nh)}}function Dv(n,e,t){let r;if(Go(n)){let i=Gt(n);return qo(i)||tv(i)}else if(aT(n))r=()=>Gt(n.useValue);else if(p2(n))r=()=>n.useFactory(...ev(n.deps||[]));else if(f2(n))r=()=>se(Gt(n.useExisting));else{let i=Gt(n&&(n.useClass||n.provide));if(y2(n))r=()=>new i(...ev(n.deps));else return qo(i)||tv(i)}return r}function lc(n){if(n.destroyed)throw new j(205,!1)}function ua(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function y2(n){return!!n.deps}function v2(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function _2(n){return typeof n=="function"||typeof n=="object"&&n.ngMetadataName==="InjectionToken"}function nv(n,e){for(let t of n)Array.isArray(t)?nv(t,e):t&&uv(t)?nv(t.\u0275providers,e):e(t)}function En(n,e){let t;n instanceof Wo?(lc(n),t=n):t=new Xy(n);let r,i=li(t),o=Nn(void 0);try{return e()}finally{li(i),Nn(o)}}function Sv(){return tT()!==void 0||Ay()!=null}function Tv(n){if(!Sv())throw new j(-203,!1)}var mr=0,Ae=1,fe=2,Wt=3,Wn=4,Kn=5,vc=6,fa=7,en=8,Qo=9,kr=10,Pt=11,pa=12,Av=13,Yo=14,Qn=15,Zo=16,Jo=17,Xo=18,_c=19,Mv=20,fi=21,Bh=22,wc=23,On=24,es=25,yr=26,cT=1;var Xi=7,Ec=8,bc=9,bn=10;function Or(n){return Array.isArray(n)&&typeof n[cT]=="object"}function vr(n){return Array.isArray(n)&&n[cT]===!0}function xv(n){return(n.flags&4)!==0}function eo(n){return n.componentOffset>-1}function $h(n){return(n.flags&1)===1}function Fr(n){return!!n.template}function ga(n){return(n[fe]&512)!==0}function ts(n){return(n[fe]&256)===256}var Rv="svg",uT="math";function Yn(n){for(;Array.isArray(n);)n=n[mr];return n}function Nv(n,e){return Yn(e[n])}function _r(n,e){return Yn(e[n.index])}function zh(n,e){return n.data[e]}function Zn(n,e){let t=e[n];return Or(t)?t:t[mr]}function Hh(n){return(n[fe]&128)===128}function dT(n){return vr(n[Wt])}function Cc(n,e){return e==null?null:n[e]}function Pv(n){n[Jo]=0}function kv(n){n[fe]&1024||(n[fe]|=1024,Hh(n)&&ma(n))}function hT(n,e){for(;n>0;)e=e[Yo],n--;return e}function Ic(n){return!!(n[fe]&9216||n[On]?.dirty)}function qh(n){n[kr].changeDetectionScheduler?.notify(8),n[fe]&64&&(n[fe]|=1024),Ic(n)&&ma(n)}function ma(n){n[kr].changeDetectionScheduler?.notify(0);let e=Qi(n);for(;e!==null&&!(e[fe]&8192||(e[fe]|=8192,!Hh(e)));)e=Qi(e)}function Ov(n,e){if(ts(n))throw new j(911,!1);n[fi]===null&&(n[fi]=[]),n[fi].push(e)}function fT(n,e){if(n[fi]===null)return;let t=n[fi].indexOf(e);t!==-1&&n[fi].splice(t,1)}function Qi(n){let e=n[Wt];return vr(e)?e[Wt]:e}function pT(n){return n[fa]??=[]}function gT(n){return n.cleanup??=[]}var De={lFrame:RT(null),bindingsEnabled:!0,skipHydrationRootTNode:null},Dc=function(n){return n[n.Off=0]="Off",n[n.Exhaustive=1]="Exhaustive",n[n.OnlyDirtyViews=2]="OnlyDirtyViews",n}(Dc||{}),w2=0,rv=!1;function mT(){return De.lFrame.elementDepthCount}function yT(){De.lFrame.elementDepthCount++}function vT(){De.lFrame.elementDepthCount--}function Fv(){return De.bindingsEnabled}function _T(){return De.skipHydrationRootTNode!==null}function wT(n){return De.skipHydrationRootTNode===n}function ET(){De.skipHydrationRootTNode=null}function We(){return De.lFrame.lView}function Jn(){return De.lFrame.tView}function wr(n){return De.lFrame.contextLView=n,n[en]}function Er(n){return De.lFrame.contextLView=null,n}function hn(){let n=Lv();for(;n!==null&&n.type===64;)n=n.parent;return n}function Lv(){return De.lFrame.currentTNode}function bT(){let n=De.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function ya(n,e){let t=De.lFrame;t.currentTNode=n,t.isParent=e}function Vv(){return De.lFrame.isParent}function CT(){De.lFrame.isParent=!1}function jv(n){XS("Must never be called in production mode"),w2=n}function Uv(){return rv}function Bv(n){let e=rv;return rv=n,e}function Gh(){let n=De.lFrame,e=n.bindingRootIndex;return e===-1&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function IT(n){return De.lFrame.bindingIndex=n}function Wh(){return De.lFrame.bindingIndex++}function DT(n){let e=De.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function ST(){return De.lFrame.inI18n}function TT(n,e){let t=De.lFrame;t.bindingIndex=t.bindingRootIndex=n,Kh(e)}function AT(){return De.lFrame.currentDirectiveIndex}function Kh(n){De.lFrame.currentDirectiveIndex=n}function MT(n){let e=De.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function $v(n){De.lFrame.currentQueryIndex=n}function E2(n){let e=n[Ae];return e.type===2?e.declTNode:e.type===1?n[Kn]:null}function zv(n,e,t){if(t&4){let i=e,o=n;for(;i=i.parent,i===null&&!(t&1);)if(i=E2(o),i===null||(o=o[Yo],i.type&10))break;if(i===null)return!1;e=i,n=o}let r=De.lFrame=xT();return r.currentTNode=e,r.lView=n,!0}function Qh(n){let e=xT(),t=n[Ae];De.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function xT(){let n=De.lFrame,e=n===null?null:n.child;return e===null?RT(n):e}function RT(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function NT(){let n=De.lFrame;return De.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var Hv=NT;function Yh(){let n=NT();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function PT(n){return(De.lFrame.contextLView=hT(n,De.lFrame.contextLView))[en]}function ns(){return De.lFrame.selectedIndex}function to(n){De.lFrame.selectedIndex=n}function qv(){let n=De.lFrame;return zh(n.tView,n.selectedIndex)}function gi(){De.lFrame.currentNamespace=Rv}function kT(){return De.lFrame.currentNamespace}var OT=!0;function Zh(){return OT}function Jh(n){OT=n}function iv(n,e=null,t=null,r){let i=Gv(n,e,t,r);return i.resolveInjectorInitializers(),i}function Gv(n,e=null,t=null,r,i=new Set){let o=[t||Pn,oT(n)];return r=r||(typeof n=="object"?void 0:_n(n)),new Wo(o,e||yc(),r||null,i)}var wn=class n{static THROW_IF_NOT_FOUND=zo;static NULL=new uc;static create(e,t){if(Array.isArray(e))return iv({name:""},t,e,"");{let r=e.name??"";return iv({name:r},e.parent,e.providers,r)}}static \u0275prov=K({token:n,providedIn:"any",factory:()=>se(_v)});static __NG_ELEMENT_ID__=-1},rt=new oe(""),rs=(()=>{class n{static __NG_ELEMENT_ID__=b2;static __NG_ENV_ID__=t=>t}return n})(),ov=class extends rs{_lView;constructor(e){super(),this._lView=e}get destroyed(){return ts(this._lView)}onDestroy(e){let t=this._lView;return Ov(t,e),()=>fT(t,e)}};function b2(){return new ov(We())}var gr=class{_console=console;handleError(e){this._console.error("ERROR",e)}},Fn=new oe("",{providedIn:"root",factory:()=>{let n=L(Nt),e;return t=>{e??=n.get(gr),e.handleError(t)}}}),FT={provide:Ji,useValue:()=>void L(gr),multi:!0};function mi(n,e){let[t,r,i]=Py(n,e?.equal),o=t,s=o[dn];return o.set=r,o.update=i,o.asReadonly=LT.bind(o),o}function LT(){let n=this[dn];if(n.readonlyFn===void 0){let e=()=>this();e[dn]=n,n.readonlyFn=e}return n.readonlyFn}var Yi=class{},Sc=new oe("",{providedIn:"root",factory:()=>!1});var Wv=new oe(""),Kv=new oe("");var Xh=(()=>{class n{view;node;constructor(t,r){this.view=t,this.node=r}static __NG_ELEMENT_ID__=C2}return n})();function C2(){return new Xh(We(),hn())}var no=(()=>{class n{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new qt(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new Ne(t=>{t.next(!1),t.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}has(t){return this.pendingTasks.has(t)}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=K({token:n,providedIn:"root",factory:()=>new n})}return n})();function Tc(...n){}var Qv=(()=>{class n{static \u0275prov=K({token:n,providedIn:"root",factory:()=>new sv})}return n})(),sv=class{dirtyEffectCount=0;queues=new Map;add(e){this.enqueue(e),this.schedule(e)}schedule(e){e.dirty&&this.dirtyEffectCount++}remove(e){let t=e.zone,r=this.queues.get(t);r.has(e)&&(r.delete(e),e.dirty&&this.dirtyEffectCount--)}enqueue(e){let t=e.zone;this.queues.has(t)||this.queues.set(t,new Set);let r=this.queues.get(t);r.has(e)||r.add(e)}flush(){for(;this.dirtyEffectCount>0;){let e=!1;for(let[t,r]of this.queues)t===null?e||=this.flushQueue(r):e||=t.run(()=>this.flushQueue(r));e||(this.dirtyEffectCount=0)}}flushQueue(e){let t=!1;for(let r of e)r.dirty&&(this.dirtyEffectCount--,t=!0,r.run());return t}};function Ea(n){return{toString:n}.toString()}var ef="__parameters__";function P2(n){return function(...t){if(n){let r=n(...t);for(let i in r)this[i]=r[i]}}}function g1(n,e,t){return Ea(()=>{let r=P2(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(l,u,d){let f=l.hasOwnProperty(ef)?l[ef]:Object.defineProperty(l,ef,{value:[]})[ef];for(;f.length<=d;)f.push(null);return(f[d]=f[d]||[]).push(s),l}}return i.prototype.ngMetadataName=n,i.annotationCls=i,i})}var m1=yv(g1("Optional"),8);var y1=yv(g1("SkipSelf"),4);function k2(n){return typeof n=="function"}var af=class{previousValue;currentValue;firstChange;constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}};function v1(n,e,t,r){e!==null?e.applyValueToInputSignal(e,r):n[t]=r}var jr=(()=>{let n=()=>_1;return n.ngInherit=!0,n})();function _1(n){return n.type.prototype.ngOnChanges&&(n.setInput=F2),O2}function O2(){let n=E1(this),e=n?.current;if(e){let t=n.previous;if(t===Zi)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function F2(n,e,t,r,i){let o=this.declaredInputs[r],s=E1(n)||L2(n,{previous:Zi,current:null}),a=s.current||(s.current={}),l=s.previous,u=l[o];a[o]=new af(u&&u.currentValue,t,l===Zi),v1(n,e,i,t)}var w1="__ngSimpleChanges__";function E1(n){return n[w1]||null}function L2(n,e){return n[w1]=e}var VT=[];var Ge=function(n,e=null,t){for(let r=0;r<VT.length;r++){let i=VT[r];i(n,e,t)}};function V2(n,e,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=_1(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}i&&(t.preOrderHooks??=[]).push(0-n,i),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}function b1(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){let o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:u,ngOnDestroy:d}=o;s&&(n.contentHooks??=[]).push(-t,s),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),l&&(n.viewHooks??=[]).push(-t,l),u&&((n.viewHooks??=[]).push(t,u),(n.viewCheckHooks??=[]).push(t,u)),d!=null&&(n.destroyHooks??=[]).push(t,d)}}function rf(n,e,t){C1(n,e,3,t)}function of(n,e,t,r){(n[fe]&3)===t&&C1(n,e,t,r)}function Yv(n,e){let t=n[fe];(t&3)===e&&(t&=16383,t+=1,n[fe]=t)}function C1(n,e,t,r){let i=r!==void 0?n[Jo]&65535:0,o=r??-1,s=e.length-1,a=0;for(let l=i;l<s;l++)if(typeof e[l+1]=="number"){if(a=e[l],r!=null&&a>=r)break}else e[l]<0&&(n[Jo]+=65536),(a<o||o==-1)&&(j2(n,t,e,l),n[Jo]=(n[Jo]&4294901760)+l+2),l++}function jT(n,e){Ge(4,n,e);let t=_e(null);try{e.call(n)}finally{_e(t),Ge(5,n,e)}}function j2(n,e,t,r){let i=t[r]<0,o=t[r+1],s=i?-t[r]:t[r],a=n[s];i?n[fe]>>14<n[Jo]>>16&&(n[fe]&3)===e&&(n[fe]+=16384,jT(a,o)):jT(a,o)}var _a=-1,os=class{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,t,r){this.factory=e,this.canSeeViewProviders=t,this.injectImpl=r}};function U2(n){return(n.flags&8)!==0}function B2(n){return(n.flags&16)!==0}function $2(n,e,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let o=t[r++],s=t[r++],a=t[r++];n.setAttribute(e,s,a,o)}else{let o=i,s=t[++r];z2(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),r++}}return r}function I1(n){return n===3||n===4||n===6}function z2(n){return n.charCodeAt(0)===64}function xc(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?UT(n,t,i,null,e[++r]):UT(n,t,i,null,null))}}return n}function UT(n,e,t,r,i){let o=0,s=n.length;if(e===-1)s=-1;else for(;o<n.length;){let a=n[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<n.length;){let a=n[o];if(typeof a=="number")break;if(a===t){i!==null&&(n[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),i!==null&&n.splice(o++,0,i)}function D1(n){return n!==_a}function lf(n){return n&32767}function H2(n){return n>>16}function cf(n,e){let t=H2(n),r=e;for(;t>0;)r=r[Yo],t--;return r}var s_=!0;function BT(n){let e=s_;return s_=n,e}var q2=256,S1=q2-1,T1=5,G2=0,Lr={};function W2(n,e,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(Ko)&&(r=t[Ko]),r==null&&(r=t[Ko]=G2++);let i=r&S1,o=1<<i;e.data[n+(i>>T1)]|=o}function uf(n,e){let t=A1(n,e);if(t!==-1)return t;let r=e[Ae];r.firstCreatePass&&(n.injectorIndex=e.length,Zv(r.data,n),Zv(e,null),Zv(r.blueprint,null));let i=D_(n,e),o=n.injectorIndex;if(D1(i)){let s=lf(i),a=cf(i,e),l=a[Ae].data;for(let u=0;u<8;u++)e[o+u]=a[s+u]|l[s+u]}return e[o+8]=i,o}function Zv(n,e){n.push(0,0,0,0,0,0,0,0,e)}function A1(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function D_(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;i!==null;){if(r=P1(i),r===null)return _a;if(t++,i=i[Yo],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return _a}function a_(n,e,t){W2(n,e,t)}function K2(n,e){if(e==="class")return n.classes;if(e==="style")return n.styles;let t=n.attrs;if(t){let r=t.length,i=0;for(;i<r;){let o=t[i];if(I1(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof t[i]=="string";)i++;else{if(o===e)return t[i+1];i=i+2}}}return null}function M1(n,e,t){if(t&8||n!==void 0)return n;Vh(e,"NodeInjector")}function x1(n,e,t,r){if(t&8&&r===void 0&&(r=null),(t&3)===0){let i=n[Qo],o=Nn(void 0);try{return i?i.get(e,r,t&8):mv(e,r,t&8)}finally{Nn(o)}}return M1(r,e,t)}function R1(n,e,t,r=0,i){if(n!==null){if(e[fe]&2048&&!(r&2)){let s=X2(n,e,t,r,Lr);if(s!==Lr)return s}let o=N1(n,e,t,r,Lr);if(o!==Lr)return o}return x1(e,t,r,i)}function N1(n,e,t,r,i){let o=Z2(t);if(typeof o=="function"){if(!zv(e,n,r))return r&1?M1(i,t,r):x1(e,t,r,i);try{let s;if(s=o(r),s==null&&!(r&8))Vh(t);else return s}finally{Hv()}}else if(typeof o=="number"){let s=null,a=A1(n,e),l=_a,u=r&1?e[Qn][Kn]:null;for((a===-1||r&4)&&(l=a===-1?D_(n,e):e[a+8],l===_a||!zT(r,!1)?a=-1:(s=e[Ae],a=lf(l),e=cf(l,e)));a!==-1;){let d=e[Ae];if($T(o,a,d.data)){let f=Q2(a,e,t,s,r,u);if(f!==Lr)return f}l=e[a+8],l!==_a&&zT(r,e[Ae].data[a+8]===u)&&$T(o,a,e)?(s=d,a=lf(l),e=cf(l,e)):a=-1}}return i}function Q2(n,e,t,r,i,o){let s=e[Ae],a=s.data[n+8],l=r==null?eo(a)&&s_:r!=s&&(a.type&3)!==0,u=i&1&&o===a,d=Y2(a,s,t,l,u);return d!==null?df(e,s,d,a):Lr}function Y2(n,e,t,r,i){let o=n.providerIndexes,s=e.data,a=o&1048575,l=n.directiveStart,u=n.directiveEnd,d=o>>20,f=r?a:a+d,p=i?a+d:u;for(let m=f;m<p;m++){let v=s[m];if(m<l&&t===v||m>=l&&v.type===t)return m}if(i){let m=s[l];if(m&&Fr(m)&&m.type===t)return l}return null}function df(n,e,t,r){let i=n[t],o=e.data;if(i instanceof os){let s=i;s.resolving&&gv(eT(o[t]));let a=BT(s.canSeeViewProviders);s.resolving=!0;let l=o[t].type||o[t],u,d=s.injectImpl?Nn(s.injectImpl):null,f=zv(n,r,0);try{i=n[t]=s.factory(void 0,o,n,r),e.firstCreatePass&&t>=r.directiveStart&&V2(t,o[t],e)}finally{d!==null&&Nn(d),BT(a),s.resolving=!1,Hv()}}return i}function Z2(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(Ko)?n[Ko]:void 0;return typeof e=="number"?e>=0?e&S1:J2:e}function $T(n,e,t){let r=1<<n;return!!(t[e+(n>>T1)]&r)}function zT(n,e){return!(n&2)&&!(n&1&&e)}var is=class{_tNode;_lView;constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return R1(this._tNode,this._lView,e,Ho(r),t)}};function J2(){return new is(hn(),We())}function io(n){return Ea(()=>{let e=n.prototype.constructor,t=e[cc]||l_(e),r=Object.prototype,i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){let o=i[cc]||l_(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function l_(n){return lv(n)?()=>{let e=l_(Gt(n));return e&&e()}:qo(n)}function X2(n,e,t,r,i){let o=n,s=e;for(;o!==null&&s!==null&&s[fe]&2048&&!ga(s);){let a=N1(o,s,t,r|2,Lr);if(a!==Lr)return a;let l=o.parent;if(!l){let u=s[Mv];if(u){let d=u.get(t,Lr,r);if(d!==Lr)return d}l=P1(s),s=s[Yo]}o=l}return i}function P1(n){let e=n[Ae],t=e.type;return t===2?e.declTNode:t===1?n[Kn]:null}function kc(n){return K2(hn(),n)}function eV(){return Cf(hn(),We())}function Cf(n,e){return new Ur(_r(n,e))}var Ur=(()=>{class n{nativeElement;constructor(t){this.nativeElement=t}static __NG_ELEMENT_ID__=eV}return n})();function k1(n){return(n.flags&128)===128}var S_=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(S_||{}),O1=new Map,tV=0;function nV(){return tV++}function rV(n){O1.set(n[_c],n)}function c_(n){O1.delete(n[_c])}var HT="__ngContext__";function Oc(n,e){Or(e)?(n[HT]=e[_c],rV(e)):n[HT]=e}function F1(n){return V1(n[pa])}function L1(n){return V1(n[Wn])}function V1(n){for(;n!==null&&!vr(n);)n=n[Wn];return n}var u_;function T_(n){u_=n}function j1(){if(u_!==void 0)return u_;if(typeof document<"u")return document;throw new j(210,!1)}var If=new oe("",{providedIn:"root",factory:()=>iV}),iV="ng",Df=new oe(""),oo=new oe("",{providedIn:"platform",factory:()=>"unknown"});var Sf=new oe(""),Tf=new oe("",{providedIn:"root",factory:()=>j1().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var oV="h",sV="b";var U1=!1,B1=new oe("",{providedIn:"root",factory:()=>U1});var aV=(n,e,t,r)=>{};function lV(n,e,t,r){aV(n,e,t,r)}var cV=()=>null;function $1(n,e,t=!1){return cV(n,e,t)}function z1(n,e){let t=n.contentQueries;if(t!==null){let r=_e(null);try{for(let i=0;i<t.length;i+=2){let o=t[i],s=t[i+1];if(s!==-1){let a=n.data[s];$v(o),a.contentQueries(2,e[s],s)}}}finally{_e(r)}}}function d_(n,e,t){$v(0);let r=_e(null);try{e(n,t)}finally{_e(r)}}function H1(n,e,t){if(xv(e)){let r=_e(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=n.data[s];if(a.contentQueries){let l=t[s];a.contentQueries(1,l,s)}}}finally{_e(r)}}}var yi=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(yi||{});var tf;function uV(){if(tf===void 0&&(tf=null,hc.trustedTypes))try{tf=hc.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return tf}function qT(n){return uV()?.createScriptURL(n)||n}var hf=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Fh})`}};function Fc(n){return n instanceof hf?n.changingThisBreaksApplicationSecurity:n}function A_(n,e){let t=q1(n);if(t!=null&&t!==e){if(t==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${Fh})`)}return t===e}function q1(n){return n instanceof hf&&n.getTypeName()||null}var dV=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function G1(n){return n=String(n),n.match(dV)?n:"unsafe:"+n}var Af=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(Af||{});function Je(n){let e=K1();return e?e.sanitize(Af.URL,n)||"":A_(n,"URL")?Fc(n):G1(pc(n))}function W1(n){let e=K1();if(e)return qT(e.sanitize(Af.RESOURCE_URL,n)||"");if(A_(n,"ResourceURL"))return qT(Fc(n));throw new j(904,!1)}function hV(n,e){return e==="src"&&(n==="embed"||n==="frame"||n==="iframe"||n==="media"||n==="script")||e==="href"&&(n==="base"||n==="link")?W1:Je}function M_(n,e,t){return hV(e,t)(n)}function K1(){let n=We();return n&&n[kr].sanitizer}function Q1(n){return n instanceof Function?n():n}function fV(n,e,t){let r=n.length;for(;;){let i=n.indexOf(e,t);if(i===-1)return i;if(i===0||n.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}t=i+1}}var Y1="ng-template";function pV(n,e,t,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&fV(e[i+1].toLowerCase(),t,0)!==-1)return!0}else if(x_(n))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===t)return!0}return!1}function x_(n){return n.type===4&&n.value!==Y1}function gV(n,e,t){let r=n.type===4&&!t?Y1:n.value;return e===r}function mV(n,e,t){let r=4,i=n.attrs,o=i!==null?_V(i):0,s=!1;for(let a=0;a<e.length;a++){let l=e[a];if(typeof l=="number"){if(!s&&!br(r)&&!br(l))return!1;if(s&&br(l))continue;s=!1,r=l|r&1;continue}if(!s)if(r&4){if(r=2|r&1,l!==""&&!gV(n,l,t)||l===""&&e.length===1){if(br(r))return!1;s=!0}}else if(r&8){if(i===null||!pV(n,i,l,t)){if(br(r))return!1;s=!0}}else{let u=e[++a],d=yV(l,i,x_(n),t);if(d===-1){if(br(r))return!1;s=!0;continue}if(u!==""){let f;if(d>o?f="":f=i[d+1].toLowerCase(),r&2&&u!==f){if(br(r))return!1;s=!0}}}}return br(r)||s}function br(n){return(n&1)===0}function yV(n,e,t,r){if(e===null)return-1;let i=0;if(r||!t){let o=!1;for(;i<e.length;){let s=e[i];if(s===n)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return wV(e,n)}function vV(n,e,t=!1){for(let r=0;r<e.length;r++)if(mV(n,e[r],t))return!0;return!1}function _V(n){for(let e=0;e<n.length;e++){let t=n[e];if(I1(t))return e}return n.length}function wV(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let r=n[t];if(typeof r=="number")return-1;if(r===e)return t;t++}return-1}function GT(n,e){return n?":not("+e.trim()+")":e}function EV(n){let e=n[0],t=1,r=2,i="",o=!1;for(;t<n.length;){let s=n[t];if(typeof s=="string")if(r&2){let a=n[++t];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!br(s)&&(e+=GT(o,i),i=""),r=s,o=o||!br(r);t++}return i!==""&&(e+=GT(o,i)),e}function bV(n){return n.map(EV).join(",")}function CV(n){let e=[],t=[],r=1,i=2;for(;r<n.length;){let o=n[r];if(typeof o=="string")i===2?o!==""&&e.push(o,n[++r]):i===8&&t.push(o);else{if(!br(i))break;i=o}r++}return t.length&&e.push(1,...t),e}var Br={};function IV(n,e){return n.createText(e)}function DV(n,e,t){n.setValue(e,t)}function Z1(n,e,t){return n.createElement(e,t)}function ff(n,e,t,r,i){n.insertBefore(e,t,r,i)}function J1(n,e,t){n.appendChild(e,t)}function WT(n,e,t,r,i){r!==null?ff(n,e,t,r,i):J1(n,e,t)}function SV(n,e,t){n.removeChild(null,e,t)}function TV(n,e,t){n.setAttribute(e,"style",t)}function AV(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function X1(n,e,t){let{mergedAttrs:r,classes:i,styles:o}=t;r!==null&&$2(n,e,r),i!==null&&AV(n,e,i),o!==null&&TV(n,e,o)}function R_(n,e,t,r,i,o,s,a,l,u,d){let f=yr+r,p=f+i,m=MV(f,p),v=typeof u=="function"?u():u;return m[Ae]={type:n,blueprint:m,template:t,queries:null,viewQuery:a,declTNode:e,data:m.slice().fill(null,f),bindingStartIndex:f,expandoStartIndex:p,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:l,consts:v,incompleteFirstPass:!1,ssrId:d}}function MV(n,e){let t=[];for(let r=0;r<e;r++)t.push(r<n?null:Br);return t}function xV(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=R_(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function N_(n,e,t,r,i,o,s,a,l,u,d){let f=e.blueprint.slice();return f[mr]=i,f[fe]=r|4|128|8|64|1024,(u!==null||n&&n[fe]&2048)&&(f[fe]|=2048),Pv(f),f[Wt]=f[Yo]=n,f[en]=t,f[kr]=s||n&&n[kr],f[Pt]=a||n&&n[Pt],f[Qo]=l||n&&n[Qo]||null,f[Kn]=o,f[_c]=nV(),f[vc]=d,f[Mv]=u,f[Qn]=e.type==2?n[Qn]:f,f}function RV(n,e,t){let r=_r(e,n),i=xV(t),o=n[kr].rendererFactory,s=P_(n,N_(n,i,null,eA(t),r,e,null,o.createRenderer(r,t),null,null,null));return n[e.index]=s}function eA(n){let e=16;return n.signals?e=4096:n.onPush&&(e=64),e}function tA(n,e,t,r){if(t===0)return-1;let i=e.length;for(let o=0;o<t;o++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function P_(n,e){return n[pa]?n[Av][Wn]=e:n[pa]=e,n[Av]=e,e}function F(n=1){nA(Jn(),We(),ns()+n,!1)}function nA(n,e,t,r){if(!r)if((e[fe]&3)===3){let o=n.preOrderCheckHooks;o!==null&&rf(e,o,t)}else{let o=n.preOrderHooks;o!==null&&of(e,o,0,t)}to(t)}var Mf=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(Mf||{});function h_(n,e,t,r){let i=_e(null);try{let[o,s,a]=n.inputs[t],l=null;(s&Mf.SignalBased)!==0&&(l=e[o][dn]),l!==null&&l.transformFn!==void 0?r=l.transformFn(r):a!==null&&(r=a.call(e,r)),n.setInput!==null?n.setInput(e,l,r,t,o):v1(e,l,o,r)}finally{_e(i)}}function rA(n,e,t,r,i){let o=ns(),s=r&2;try{to(-1),s&&e.length>yr&&nA(n,e,yr,!1),Ge(s?2:0,i,t),t(r,i)}finally{to(o),Ge(s?3:1,i,t)}}function k_(n,e,t){jV(n,e,t),(t.flags&64)===64&&UV(n,e,t)}function iA(n,e,t=_r){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?t(e,n):n[s];n[i++]=a}}}function NV(n,e,t,r){let o=r.get(B1,U1)||t===yi.ShadowDom,s=n.selectRootElement(e,o);return PV(s),s}function PV(n){kV(n)}var kV=()=>null;function OV(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function FV(n,e,t,r,i,o){let s=e[Ae];if(O_(n,s,e,t,r)){eo(n)&&VV(e,n.index);return}LV(n,e,t,r,i,o)}function LV(n,e,t,r,i,o){if(n.type&3){let s=_r(n,e);t=OV(t),r=o!=null?o(r,n.value||"",t):r,i.setProperty(s,t,r)}else n.type&12}function VV(n,e){let t=Zn(e,n);t[fe]&16||(t[fe]|=64)}function jV(n,e,t){let r=t.directiveStart,i=t.directiveEnd;eo(t)&&RV(e,t,n.data[r+t.componentOffset]),n.firstCreatePass||uf(t,e);let o=t.initialInputs;for(let s=r;s<i;s++){let a=n.data[s],l=df(e,n,s,t);if(Oc(l,e),o!==null&&HV(e,s-r,l,a,t,o),Fr(a)){let u=Zn(t.index,e);u[en]=df(e,n,s,t)}}}function UV(n,e,t){let r=t.directiveStart,i=t.directiveEnd,o=t.index,s=AT();try{to(o);for(let a=r;a<i;a++){let l=n.data[a],u=e[a];Kh(a),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&BV(l,u)}}finally{to(-1),Kh(s)}}function BV(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function oA(n,e){let t=n.directiveRegistry,r=null;if(t)for(let i=0;i<t.length;i++){let o=t[i];vV(e,o.selectors,!1)&&(r??=[],Fr(o)?r.unshift(o):r.push(o))}return r}function $V(n,e,t,r,i,o){let s=_r(n,e);zV(e[Pt],s,o,n.value,t,r,i)}function zV(n,e,t,r,i,o,s){if(o==null)n.removeAttribute(e,i,t);else{let a=s==null?pc(o):s(o,r||"",i);n.setAttribute(e,i,a,t)}}function HV(n,e,t,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;a+=2){let l=s[a],u=s[a+1];h_(r,t,l,u)}}function qV(n,e){let t=n[Qo];if(!t)return;t.get(Fn,null)?.(e)}function O_(n,e,t,r,i){let o=n.inputs?.[r],s=n.hostDirectiveInputs?.[r],a=!1;if(s)for(let l=0;l<s.length;l+=2){let u=s[l],d=s[l+1],f=e.data[u];h_(f,t[u],d,i),a=!0}if(o)for(let l of o){let u=t[l],d=e.data[l];h_(d,u,r,i),a=!0}return a}function GV(n,e){let t=Zn(e,n),r=t[Ae];WV(r,t);let i=t[mr];i!==null&&t[vc]===null&&(t[vc]=$1(i,t[Qo])),Ge(18),F_(r,t,t[en]),Ge(19,t[en])}function WV(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function F_(n,e,t){Qh(e);try{let r=n.viewQuery;r!==null&&d_(1,r,t);let i=n.template;i!==null&&rA(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[Xo]?.finishViewCreation(n),n.staticContentQueries&&z1(n,e),n.staticViewQueries&&d_(2,n.viewQuery,t);let o=n.components;o!==null&&KV(e,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[fe]&=-5,Yh()}}function KV(n,e){for(let t=0;t<e.length;t++)GV(n,e[t])}function QV(n,e,t,r){let i=_e(null);try{let o=e.tView,a=n[fe]&4096?4096:16,l=N_(n,o,t,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),u=n[e.index];l[Zo]=u;let d=n[Xo];return d!==null&&(l[Xo]=d.createEmbeddedView(o)),F_(o,l,t),l}finally{_e(i)}}function KT(n,e){return!e||e.firstChild===null||k1(n)}var QT=!1,YV=new oe(""),ZV;function L_(n,e){return ZV(n,e)}var Vr=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(Vr||{});function V_(n){return(n.flags&32)===32}function va(n,e,t,r,i){if(r!=null){let o,s=!1;vr(r)?o=r:Or(r)&&(s=!0,r=r[mr]);let a=Yn(r);n===0&&t!==null?i==null?J1(e,t,a):ff(e,t,a,i||null,!0):n===1&&t!==null?ff(e,t,a,i||null,!0):n===2?SV(e,a,s):n===3&&e.destroyNode(a),o!=null&&cj(e,n,o,t,i)}}function JV(n,e){sA(n,e),e[mr]=null,e[Kn]=null}function XV(n,e,t,r,i,o){r[mr]=i,r[Kn]=e,xf(n,r,t,1,i,o)}function sA(n,e){e[kr].changeDetectionScheduler?.notify(9),xf(n,e,e[Pt],2,null,null)}function ej(n){let e=n[pa];if(!e)return Jv(n[Ae],n);for(;e;){let t=null;if(Or(e))t=e[pa];else{let r=e[bn];r&&(t=r)}if(!t){for(;e&&!e[Wn]&&e!==n;)Or(e)&&Jv(e[Ae],e),e=e[Wt];e===null&&(e=n),Or(e)&&Jv(e[Ae],e),t=e&&e[Wn]}e=t}}function j_(n,e){let t=n[bc],r=t.indexOf(e);t.splice(r,1)}function aA(n,e){if(ts(e))return;let t=e[Pt];t.destroyNode&&xf(n,e,t,3,null,null),ej(e)}function Jv(n,e){if(ts(e))return;let t=_e(null);try{e[fe]&=-129,e[fe]|=256,e[On]&&rh(e[On]),nj(n,e),tj(n,e),e[Ae].type===1&&e[Pt].destroy();let r=e[Zo];if(r!==null&&vr(e[Wt])){r!==e[Wt]&&j_(r,e);let i=e[Xo];i!==null&&i.detachView(n)}c_(e)}finally{_e(t)}}function tj(n,e){let t=n.cleanup,r=e[fa];if(t!==null)for(let s=0;s<t.length-1;s+=2)if(typeof t[s]=="string"){let a=t[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[t[s+1]];t[s].call(a)}r!==null&&(e[fa]=null);let i=e[fi];if(i!==null){e[fi]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=e[wc];if(o!==null){e[wc]=null;for(let s of o)s.destroy()}}function nj(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=e[t[r]];if(!(i instanceof os)){let o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],l=o[s+1];Ge(4,a,l);try{l.call(a)}finally{Ge(5,a,l)}}else{Ge(4,i,o);try{o.call(i)}finally{Ge(5,i,o)}}}}}function rj(n,e,t){return ij(n,e.parent,t)}function ij(n,e,t){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return t[mr];if(eo(r)){let{encapsulation:i}=n.data[r.directiveStart+r.componentOffset];if(i===yi.None||i===yi.Emulated)return null}return _r(r,t)}function oj(n,e,t){return aj(n,e,t)}function sj(n,e,t){return n.type&40?_r(n,t):null}var aj=sj,YT;function U_(n,e,t,r){let i=rj(n,r,e),o=e[Pt],s=r.parent||e[Kn],a=oj(s,r,e);if(i!=null)if(Array.isArray(t))for(let l=0;l<t.length;l++)WT(o,i,t[l],a,!1);else WT(o,i,t,a,!1);YT!==void 0&&YT(o,r,e,t,i)}function Ac(n,e){if(e!==null){let t=e.type;if(t&3)return _r(e,n);if(t&4)return f_(-1,n[e.index]);if(t&8){let r=e.child;if(r!==null)return Ac(n,r);{let i=n[e.index];return vr(i)?f_(-1,i):Yn(i)}}else{if(t&128)return Ac(n,e.next);if(t&32)return L_(e,n)()||Yn(n[e.index]);{let r=lA(n,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Qi(n[Qn]);return Ac(i,r)}else return Ac(n,e.next)}}}return null}function lA(n,e){if(e!==null){let r=n[Qn][Kn],i=e.projection;return r.projection[i]}return null}function f_(n,e){let t=bn+n+1;if(t<e.length){let r=e[t],i=r[Ae].firstChild;if(i!==null)return Ac(r,i)}return e[Xi]}function B_(n,e,t,r,i,o,s){for(;t!=null;){if(t.type===128){t=t.next;continue}let a=r[t.index],l=t.type;if(s&&e===0&&(a&&Oc(Yn(a),r),t.flags|=2),!V_(t))if(l&8)B_(n,e,t.child,r,i,o,!1),va(e,n,i,a,o);else if(l&32){let u=L_(t,r),d;for(;d=u();)va(e,n,i,d,o);va(e,n,i,a,o)}else l&16?lj(n,e,r,t,i,o):va(e,n,i,a,o);t=s?t.projectionNext:t.next}}function xf(n,e,t,r,i,o){B_(t,r,n.firstChild,e,i,o,!1)}function lj(n,e,t,r,i,o){let s=t[Qn],l=s[Kn].projection[r.projection];if(Array.isArray(l))for(let u=0;u<l.length;u++){let d=l[u];va(e,n,i,d,o)}else{let u=l,d=s[Wt];k1(r)&&(u.flags|=128),B_(n,e,u,d,i,o,!0)}}function cj(n,e,t,r,i){let o=t[Xi],s=Yn(t);o!==s&&va(e,n,r,o,i);for(let a=bn;a<t.length;a++){let l=t[a];xf(l[Ae],l,n,e,r,o)}}function uj(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let o=r.indexOf("-")===-1?void 0:Vr.DashCase;i==null?n.removeStyle(t,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Vr.Important),n.setStyle(t,r,i,o))}}function Rc(n,e,t,r,i=!1){for(;t!==null;){if(t.type===128){t=i?t.projectionNext:t.next;continue}let o=e[t.index];o!==null&&r.push(Yn(o)),vr(o)&&cA(o,r);let s=t.type;if(s&8)Rc(n,e,t.child,r);else if(s&32){let a=L_(t,e),l;for(;l=a();)r.push(l)}else if(s&16){let a=lA(e,t);if(Array.isArray(a))r.push(...a);else{let l=Qi(e[Qn]);Rc(l[Ae],l,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function cA(n,e){for(let t=bn;t<n.length;t++){let r=n[t],i=r[Ae].firstChild;i!==null&&Rc(r[Ae],r,i,e)}n[Xi]!==n[mr]&&e.push(n[Xi])}function uA(n){if(n[es]!==null){for(let e of n[es])e.impl.addSequence(e);n[es].length=0}}var dA=[];function dj(n){return n[On]??hj(n)}function hj(n){let e=dA.pop()??Object.create(pj);return e.lView=n,e}function fj(n){n.lView[On]!==n&&(n.lView=null,dA.push(n))}var pj=me(B({},Vo),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{ma(n.lView)},consumerOnSignalRead(){this.lView[On]=this}});function gj(n){let e=n[On]??Object.create(mj);return e.lView=n,e}var mj=me(B({},Vo),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{let e=Qi(n.lView);for(;e&&!hA(e[Ae]);)e=Qi(e);e&&kv(e)},consumerOnSignalRead(){this.lView[On]=this}});function hA(n){return n.type!==2}function fA(n){if(n[wc]===null)return;let e=!0;for(;e;){let t=!1;for(let r of n[wc])r.dirty&&(t=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=t&&!!(n[fe]&8192)}}var yj=100;function $_(n,e=0){let r=n[kr].rendererFactory,i=!1;i||r.begin?.();try{vj(n,e)}finally{i||r.end?.()}}function vj(n,e){let t=Uv();try{Bv(!0),p_(n,e);let r=0;for(;Ic(n);){if(r===yj)throw new j(103,!1);r++,p_(n,1)}}finally{Bv(t)}}function pA(n,e){jv(e?Dc.Exhaustive:Dc.OnlyDirtyViews);try{$_(n)}finally{jv(Dc.Off)}}function _j(n,e,t,r){if(ts(e))return;let i=e[fe],o=!1,s=!1;Qh(e);let a=!0,l=null,u=null;o||(hA(n)?(u=dj(e),l=jo(u)):th()===null?(a=!1,u=gj(e),l=jo(u)):e[On]&&(rh(e[On]),e[On]=null));try{Pv(e),IT(n.bindingStartIndex),t!==null&&rA(n,e,t,2,r);let d=(i&3)===3;if(!o)if(d){let m=n.preOrderCheckHooks;m!==null&&rf(e,m,null)}else{let m=n.preOrderHooks;m!==null&&of(e,m,0,null),Yv(e,0)}if(s||wj(e),fA(e),gA(e,0),n.contentQueries!==null&&z1(n,e),!o)if(d){let m=n.contentCheckHooks;m!==null&&rf(e,m)}else{let m=n.contentHooks;m!==null&&of(e,m,1),Yv(e,1)}bj(n,e);let f=n.components;f!==null&&yA(e,f,0);let p=n.viewQuery;if(p!==null&&d_(2,p,r),!o)if(d){let m=n.viewCheckHooks;m!==null&&rf(e,m)}else{let m=n.viewHooks;m!==null&&of(e,m,2),Yv(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[Bh]){for(let m of e[Bh])m();e[Bh]=null}o||(uA(e),e[fe]&=-73)}catch(d){throw o||ma(e),d}finally{u!==null&&(Zs(u,l),a&&fj(u)),Yh()}}function gA(n,e){for(let t=F1(n);t!==null;t=L1(t))for(let r=bn;r<t.length;r++){let i=t[r];mA(i,e)}}function wj(n){for(let e=F1(n);e!==null;e=L1(e)){if(!(e[fe]&2))continue;let t=e[bc];for(let r=0;r<t.length;r++){let i=t[r];kv(i)}}}function Ej(n,e,t){Ge(18);let r=Zn(e,n);mA(r,t),Ge(19,r[en])}function mA(n,e){Hh(n)&&p_(n,e)}function p_(n,e){let r=n[Ae],i=n[fe],o=n[On],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&nc(o)),s||=!1,o&&(o.dirty=!1),n[fe]&=-9217,s)_j(r,n,r.template,n[en]);else if(i&8192){let a=_e(null);try{fA(n),gA(n,1);let l=r.components;l!==null&&yA(n,l,1),uA(n)}finally{_e(a)}}}function yA(n,e,t){for(let r=0;r<e.length;r++)Ej(n,e[r],t)}function bj(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)to(~i);else{let o=i,s=t[++r],a=t[++r];TT(s,o);let l=e[o];Ge(24,l),a(2,l),Ge(25,l)}}}finally{to(-1)}}function z_(n,e){let t=Uv()?64:1088;for(n[kr].changeDetectionScheduler?.notify(e);n;){n[fe]|=t;let r=Qi(n);if(ga(n)&&!r)return n;n=r}return null}function vA(n,e,t,r){return[n,!0,0,e,null,r,null,t,null,null]}function Cj(n,e,t,r=!0){let i=e[Ae];if(Ij(i,e,n,t),r){let s=f_(t,n),a=e[Pt],l=a.parentNode(n[Xi]);l!==null&&XV(i,n[Kn],a,e,l,s)}let o=e[vc];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function g_(n,e){if(n.length<=bn)return;let t=bn+e,r=n[t];if(r){let i=r[Zo];i!==null&&i!==n&&j_(i,r),e>0&&(n[t-1][Wn]=r[Wn]);let o=gc(n,bn+e);JV(r[Ae],r);let s=o[Xo];s!==null&&s.detachView(o[Ae]),r[Wt]=null,r[Wn]=null,r[fe]&=-129}return r}function Ij(n,e,t,r){let i=bn+r,o=t.length;r>0&&(t[i-1][Wn]=e),r<o-bn?(e[Wn]=t[i],vv(t,bn+r,e)):(t.push(e),e[Wn]=null),e[Wt]=t;let s=e[Zo];s!==null&&t!==s&&_A(s,e);let a=e[Xo];a!==null&&a.insertView(n),qh(e),e[fe]|=128}function _A(n,e){let t=n[bc],r=e[Wt];if(Or(r))n[fe]|=2;else{let i=r[Wt][Qn];e[Qn]!==i&&(n[fe]|=2)}t===null?n[bc]=[e]:t.push(e)}var ro=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let e=this._lView,t=e[Ae];return Rc(t,e,t.firstChild,[])}constructor(e,t){this._lView=e,this._cdRefInjectingView=t}get context(){return this._lView[en]}set context(e){this._lView[en]=e}get destroyed(){return ts(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Wt];if(vr(e)){let t=e[Ec],r=t?t.indexOf(this):-1;r>-1&&(g_(e,r),gc(t,r))}this._attachedToViewContainer=!1}aA(this._lView[Ae],this._lView)}onDestroy(e){Ov(this._lView,e)}markForCheck(){z_(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[fe]&=-129}reattach(){qh(this._lView),this._lView[fe]|=128}detectChanges(){this._lView[fe]|=1024,$_(this._lView)}checkNoChanges(){return;try{this.exhaustive??=this._lView[Qo].get(YV,QT)}catch{this.exhaustive=QT}}attachToViewContainerRef(){if(this._appRef)throw new j(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=ga(this._lView),t=this._lView[Zo];t!==null&&!e&&j_(t,this._lView),sA(this._lView[Ae],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new j(902,!1);this._appRef=e;let t=ga(this._lView),r=this._lView[Zo];r!==null&&!t&&_A(r,this._lView),qh(this._lView)}};var Lc=(()=>{class n{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=Dj;constructor(t,r,i){this._declarationLView=t,this._declarationTContainer=r,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,r){return this.createEmbeddedViewImpl(t,r)}createEmbeddedViewImpl(t,r,i){let o=QV(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:r,dehydratedView:i});return new ro(o)}}return n})();function Dj(){return Sj(hn(),We())}function Sj(n,e){return n.type&4?new Lc(e,n,Cf(n,e)):null}function H_(n,e,t,r,i){let o=n.data[e];if(o===null)o=Tj(n,e,t,r,i),ST()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=r,o.attrs=i;let s=bT();o.injectorIndex=s===null?-1:s.injectorIndex}return ya(o,!0),o}function Tj(n,e,t,r,i){let o=Lv(),s=Vv(),a=s?o:o&&o.parent,l=n.data[e]=Mj(n,a,t,e,r,i);return Aj(n,l,o,s),l}function Aj(n,e,t,r){n.firstChild===null&&(n.firstChild=e),t!==null&&(r?t.child==null&&e.parent!==null&&(t.child=e):t.next===null&&(t.next=e,e.prev=t))}function Mj(n,e,t,r,i,o){let s=e?e.injectorIndex:-1,a=0;return _T()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var lZ=new RegExp(`^(\\d+)*(${sV}|${oV})*(.*)`);var xj=()=>null;function ZT(n,e){return xj(n,e)}var wA=class{},Rf=class{},m_=class{resolveComponentFactory(e){throw new j(917,!1)}},Vc=class{static NULL=new m_},vi=class{},_i=(()=>{class n{destroyNode=null;static __NG_ELEMENT_ID__=()=>Rj()}return n})();function Rj(){let n=We(),e=hn(),t=Zn(e.index,n);return(Or(t)?t:n)[Pt]}var EA=(()=>{class n{static \u0275prov=K({token:n,providedIn:"root",factory:()=>null})}return n})();var sf={},y_=class{injector;parentInjector;constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){let i=this.injector.get(e,sf,r);return i!==sf||t===sf?i:this.parentInjector.get(e,t,r)}};function JT(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=av(i,a);else if(o==2){let l=a,u=e[++s];r=av(r,l+": "+u+";")}}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function ee(n,e=0){let t=We();if(t===null)return se(n,e);let r=hn();return R1(r,t,Gt(n),e)}function q_(){let n="invalid";throw new Error(n)}function bA(n,e,t,r,i){let o=r===null?null:{"":-1},s=i(n,t);if(s!==null){let a=s,l=null,u=null;for(let d of s)if(d.resolveHostDirectives!==null){[a,l,u]=d.resolveHostDirectives(s);break}kj(n,e,t,a,o,l,u)}o!==null&&r!==null&&Nj(t,r,o)}function Nj(n,e,t){let r=n.localNames=[];for(let i=0;i<e.length;i+=2){let o=t[e[i+1]];if(o==null)throw new j(-301,!1);r.push(e[i],o)}}function Pj(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function kj(n,e,t,r,i,o,s){let a=r.length,l=!1;for(let p=0;p<a;p++){let m=r[p];!l&&Fr(m)&&(l=!0,Pj(n,t,p)),a_(uf(t,e),n,m.type)}Uj(t,n.data.length,a);for(let p=0;p<a;p++){let m=r[p];m.providersResolver&&m.providersResolver(m)}let u=!1,d=!1,f=tA(n,e,a,null);a>0&&(t.directiveToIndex=new Map);for(let p=0;p<a;p++){let m=r[p];if(t.mergedAttrs=xc(t.mergedAttrs,m.hostAttrs),Fj(n,t,e,f,m),jj(f,m,i),s!==null&&s.has(m)){let[w,A]=s.get(m);t.directiveToIndex.set(m.type,[f,w+t.directiveStart,A+t.directiveStart])}else(o===null||!o.has(m))&&t.directiveToIndex.set(m.type,f);m.contentQueries!==null&&(t.flags|=4),(m.hostBindings!==null||m.hostAttrs!==null||m.hostVars!==0)&&(t.flags|=64);let v=m.type.prototype;!u&&(v.ngOnChanges||v.ngOnInit||v.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),u=!0),!d&&(v.ngOnChanges||v.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),d=!0),f++}Oj(n,t,o)}function Oj(n,e,t){for(let r=e.directiveStart;r<e.directiveEnd;r++){let i=n.data[r];if(t===null||!t.has(i))XT(0,e,i,r),XT(1,e,i,r),t1(e,r,!1);else{let o=t.get(i);e1(0,e,o,r),e1(1,e,o,r),t1(e,r,!0)}}}function XT(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;n===0?s=e.inputs??={}:s=e.outputs??={},s[o]??=[],s[o].push(r),CA(e,o)}}function e1(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],a;n===0?a=e.hostDirectiveInputs??={}:a=e.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,o),CA(e,s)}}function CA(n,e){e==="class"?n.flags|=8:e==="style"&&(n.flags|=16)}function t1(n,e,t){let{attrs:r,inputs:i,hostDirectiveInputs:o}=n;if(r===null||!t&&i===null||t&&o===null||x_(n)){n.initialInputs??=[],n.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let l=r[a];if(l===0){a+=4;continue}else if(l===5){a+=2;continue}else if(typeof l=="number")break;if(!t&&i.hasOwnProperty(l)){let u=i[l];for(let d of u)if(d===e){s??=[],s.push(l,r[a+1]);break}}else if(t&&o.hasOwnProperty(l)){let u=o[l];for(let d=0;d<u.length;d+=2)if(u[d]===e){s??=[],s.push(u[d+1],r[a+1]);break}}a+=2}n.initialInputs??=[],n.initialInputs.push(s)}function Fj(n,e,t,r,i){n.data[r]=i;let o=i.factory||(i.factory=qo(i.type,!0)),s=new os(o,Fr(i),ee);n.blueprint[r]=s,t[r]=s,Lj(n,e,r,tA(n,t,i.hostVars,Br),i)}function Lj(n,e,t,r,i){let o=i.hostBindings;if(o){let s=n.hostBindingOpCodes;s===null&&(s=n.hostBindingOpCodes=[]);let a=~e.index;Vj(s)!=a&&s.push(a),s.push(t,r,o)}}function Vj(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function jj(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;Fr(e)&&(t[""]=n)}}function Uj(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function IA(n,e,t,r,i,o,s,a){let l=e.consts,u=Cc(l,s),d=H_(e,n,2,r,u);return o&&bA(e,t,d,Cc(l,a),i),d.mergedAttrs=xc(d.mergedAttrs,d.attrs),d.attrs!==null&&JT(d,d.attrs,!1),d.mergedAttrs!==null&&JT(d,d.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,d),d}function DA(n,e){b1(n,e),xv(e)&&n.queries.elementEnd(e)}function G_(n){return TA(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function SA(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{let t=n[Symbol.iterator](),r;for(;!(r=t.next()).done;)e(r.value)}}function TA(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function W_(n,e,t){return n[e]=t}function Bj(n,e){return n[e]}function ss(n,e,t){if(t===Br)return!1;let r=n[e];return Object.is(r,t)?!1:(n[e]=t,!0)}function $j(n,e,t,r){let i=ss(n,e,t);return ss(n,e+1,r)||i}function Xv(n,e,t){return function r(i){let o=eo(n)?Zn(n.index,e):e;z_(o,5);let s=e[en],a=n1(e,s,t,i),l=r.__ngNextListenerFn__;for(;l;)a=n1(e,s,l,i)&&a,l=l.__ngNextListenerFn__;return a}}function n1(n,e,t,r){let i=_e(null);try{return Ge(6,e,t),t(r)!==!1}catch(o){return qV(n,o),!1}finally{Ge(7,e,t),_e(i)}}function zj(n,e,t,r,i,o,s,a){let l=$h(n),u=!1,d=null;if(!r&&l&&(d=Hj(e,t,o,n.index)),d!==null){let f=d.__ngLastListenerFn__||d;f.__ngNextListenerFn__=s,d.__ngLastListenerFn__=s,u=!0}else{let f=_r(n,t),p=r?r(f):f;lV(t,p,o,a);let m=i.listen(p,o,a),v=r?w=>r(Yn(w[n.index])):n.index;AA(v,e,t,o,a,m,!1)}return u}function Hj(n,e,t,r){let i=n.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===t&&i[o+1]===r){let a=e[fa],l=i[o+2];return a&&a.length>l?a[l]:null}typeof s=="string"&&(o+=2)}return null}function AA(n,e,t,r,i,o,s){let a=e.firstCreatePass?gT(e):null,l=pT(t),u=l.length;l.push(i,o),a&&a.push(r,n,u,(u+1)*(s?-1:1))}function r1(n,e,t,r,i,o){let s=e[t],a=e[Ae],u=a.data[t].outputs[r],f=s[u].subscribe(o);AA(n.index,a,e,i,o,f,!0)}var v_=Symbol("BINDING");var pf=class extends Vc{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=pi(e);return new as(t,this.ngModule)}};function qj(n){return Object.keys(n).map(e=>{let[t,r,i]=n[e],o={propName:t,templateName:e,isSignal:(r&Mf.SignalBased)!==0};return i&&(o.transform=i),o})}function Gj(n){return Object.keys(n).map(e=>({propName:n[e],templateName:e}))}function Wj(n,e,t){let r=e instanceof Nt?e:e?.injector;return r&&n.getStandaloneInjector!==null&&(r=n.getStandaloneInjector(r)||r),r?new y_(t,r):t}function Kj(n){let e=n.get(vi,null);if(e===null)throw new j(407,!1);let t=n.get(EA,null),r=n.get(Yi,null);return{rendererFactory:e,sanitizer:t,changeDetectionScheduler:r,ngReflect:!1}}function Qj(n,e){let t=(n.selectors[0][0]||"div").toLowerCase();return Z1(e,t,t==="svg"?Rv:t==="math"?uT:null)}var as=class extends Rf{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=qj(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=Gj(this.componentDef.outputs),this.cachedOutputs}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=bV(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!t}create(e,t,r,i,o,s){Ge(22);let a=_e(null);try{let l=this.componentDef,u=Yj(r,l,s,o),d=Wj(l,i||this.ngModule,e),f=Kj(d),p=f.rendererFactory.createRenderer(null,l),m=r?NV(p,r,l.encapsulation,d):Qj(l,p),v=s?.some(i1)||o?.some(N=>typeof N!="function"&&N.bindings.some(i1)),w=N_(null,u,null,512|eA(l),null,null,f,p,d,null,$1(m,d,!0));w[yr]=m,Qh(w);let A=null;try{let N=IA(yr,u,w,"#host",()=>u.directiveRegistry,!0,0);m&&(X1(p,m,N),Oc(m,w)),k_(u,w,N),H1(u,N,w),DA(u,N),t!==void 0&&Jj(N,this.ngContentSelectors,t),A=Zn(N.index,w),w[en]=A[en],F_(u,w,null)}catch(N){throw A!==null&&c_(A),c_(w),N}finally{Ge(23),Yh()}return new gf(this.componentType,w,!!v)}finally{_e(a)}}};function Yj(n,e,t,r){let i=n?["ng-version","20.0.3"]:CV(e.selectors[0]),o=null,s=null,a=0;if(t)for(let d of t)a+=d[v_].requiredVars,d.create&&(d.targetIdx=0,(o??=[]).push(d)),d.update&&(d.targetIdx=0,(s??=[]).push(d));if(r)for(let d=0;d<r.length;d++){let f=r[d];if(typeof f!="function")for(let p of f.bindings){a+=p[v_].requiredVars;let m=d+1;p.create&&(p.targetIdx=m,(o??=[]).push(p)),p.update&&(p.targetIdx=m,(s??=[]).push(p))}}let l=[e];if(r)for(let d of r){let f=typeof d=="function"?d:d.type,p=bv(f);l.push(p)}return R_(0,null,Zj(o,s),1,a,l,null,null,null,[i],null)}function Zj(n,e){return!n&&!e?null:t=>{if(t&1&&n)for(let r of n)r.create();if(t&2&&e)for(let r of e)r.update()}}function i1(n){let e=n[v_].kind;return e==="input"||e==="twoWay"}var gf=class extends wA{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,t,r){super(),this._rootLView=t,this._hasInputBindings=r,this._tNode=zh(t[Ae],yr),this.location=Cf(this._tNode,t),this.instance=Zn(this._tNode.index,t)[en],this.hostView=this.changeDetectorRef=new ro(t,void 0),this.componentType=e}setInput(e,t){this._hasInputBindings;let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let i=this._rootLView,o=O_(r,i[Ae],i,e,t);this.previousInputValues.set(e,t);let s=Zn(r.index,i);z_(s,1)}get injector(){return new is(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function Jj(n,e,t){let r=n.projection=[];for(let i=0;i<e.length;i++){let o=t[i];r.push(o!=null&&o.length?Array.from(o):null)}}var us=(()=>{class n{static __NG_ELEMENT_ID__=Xj}return n})();function Xj(){let n=hn();return tU(n,We())}var eU=us,MA=class extends eU{_lContainer;_hostTNode;_hostLView;constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return Cf(this._hostTNode,this._hostLView)}get injector(){return new is(this._hostTNode,this._hostLView)}get parentInjector(){let e=D_(this._hostTNode,this._hostLView);if(D1(e)){let t=cf(e,this._hostLView),r=lf(e),i=t[Ae].data[r+8];return new is(i,t)}else return new is(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=o1(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-bn}createEmbeddedView(e,t,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=ZT(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(a,i,KT(this._hostTNode,s)),a}createComponent(e,t,r,i,o,s,a){let l=e&&!k2(e),u;if(l)u=t;else{let A=t||{};u=A.index,r=A.injector,i=A.projectableNodes,o=A.environmentInjector||A.ngModuleRef,s=A.directives,a=A.bindings}let d=l?e:new as(pi(e)),f=r||this.parentInjector;if(!o&&d.ngModule==null){let N=(l?f:this.parentInjector).get(Nt,null);N&&(o=N)}let p=pi(d.componentType??{}),m=ZT(this._lContainer,p?.id??null),v=m?.firstChild??null,w=d.create(f,i,v,o,s,a);return this.insertImpl(w.hostView,u,KT(this._hostTNode,m)),w}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,r){let i=e._lView;if(dT(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let l=i[Wt],u=new MA(l,l[Kn],l[Wt]);u.detach(u.indexOf(e))}}let o=this._adjustIndex(t),s=this._lContainer;return Cj(s,i,o,r),e.attachToViewContainerRef(),vv(e_(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=o1(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),r=g_(this._lContainer,t);r&&(gc(e_(this._lContainer),t),aA(r[Ae],r))}detach(e){let t=this._adjustIndex(e,-1),r=g_(this._lContainer,t);return r&&gc(e_(this._lContainer),t)!=null?new ro(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function o1(n){return n[Ec]}function e_(n){return n[Ec]||(n[Ec]=[])}function tU(n,e){let t,r=e[n.index];return vr(r)?t=r:(t=vA(r,e,null,n),e[n.index]=t,P_(e,t)),rU(t,e,n,r),new MA(t,n,e)}function nU(n,e){let t=n[Pt],r=t.createComment(""),i=_r(e,n),o=t.parentNode(i);return ff(t,o,r,t.nextSibling(i),!1),r}var rU=sU,iU=()=>!1;function oU(n,e,t){return iU(n,e,t)}function sU(n,e,t,r){if(n[Xi])return;let i;t.type&8?i=Yn(r):i=nU(e,t),n[Xi]=i}var s1=new Set;function wi(n){s1.has(n)||(s1.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}var ls=class{},Nf=class{};var mf=class extends ls{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new pf(this);constructor(e,t,r,i=!0){super(),this.ngModuleType=e,this._parent=t;let o=Ev(e);this._bootstrapComponents=Q1(o.bootstrap),this._r3Injector=Gv(e,t,[{provide:ls,useValue:this},{provide:Vc,useValue:this.componentFactoryResolver},...r],_n(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},yf=class extends Nf{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new mf(this.moduleType,e,[])}};var Nc=class extends ls{injector;componentFactoryResolver=new pf(this);instance=null;constructor(e){super();let t=new Wo([...e.providers,{provide:ls,useValue:this},{provide:Vc,useValue:this.componentFactoryResolver}],e.parent||yc(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function ba(n,e,t=null){return new Nc({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}var aU=(()=>{class n{_injector;cachedInjectors=new Map;constructor(t){this._injector=t}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=Cv(!1,t.type),i=r.length>0?ba([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=K({token:n,providedIn:"environment",factory:()=>new n(se(Nt))})}return n})();function ge(n){return Ea(()=>{let e=xA(n),t=me(B({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===S_.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(aU).getOrCreateStandaloneInjector(t):null,getExternalStyles:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||yi.Emulated,styles:n.styles||Pn,_:null,schemas:n.schemas||null,tView:null,id:""});e.standalone&&wi("NgStandalone"),RA(t);let r=n.dependencies;return t.directiveDefs=a1(r,!1),t.pipeDefs=a1(r,!0),t.id=hU(t),t})}function lU(n){return pi(n)||bv(n)}function cU(n){return n!==null}function Xn(n){return Ea(()=>({type:n.type,bootstrap:n.bootstrap||Pn,declarations:n.declarations||Pn,imports:n.imports||Pn,exports:n.exports||Pn,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function uU(n,e){if(n==null)return Zi;let t={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r],o,s,a,l;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o,l=i[3]||null):(o=i,s=i,a=Mf.None,l=null),t[o]=[r,a,l],e[o]=s}return t}function dU(n){if(n==null)return Zi;let e={};for(let t in n)n.hasOwnProperty(t)&&(e[n[t]]=t);return e}function yt(n){return Ea(()=>{let e=xA(n);return RA(e),e})}function xA(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputConfig:n.inputs||Zi,exportAs:n.exportAs||null,standalone:n.standalone??!0,signals:n.signals===!0,selectors:n.selectors||Pn,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:uU(n.inputs,e),outputs:dU(n.outputs),debugInfo:null}}function RA(n){n.features?.forEach(e=>e(n))}function a1(n,e){if(!n)return null;let t=e?iT:lU;return()=>(typeof n=="function"?n():n).map(r=>t(r)).filter(cU)}function hU(n){let e=0,t=typeof n.consts=="function"?"":n.consts,r=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,t,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery];for(let o of r.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function fU(n){return Object.getPrototypeOf(n.prototype).constructor}function Cr(n){let e=fU(n.type),t=!0,r=[n];for(;e;){let i;if(Fr(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new j(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);let s=n;s.inputs=t_(n.inputs),s.declaredInputs=t_(n.declaredInputs),s.outputs=t_(n.outputs);let a=i.hostBindings;a&&vU(n,a);let l=i.viewQuery,u=i.contentQueries;if(l&&mU(n,l),u&&yU(n,u),pU(n,i),JS(n.outputs,i.outputs),Fr(i)&&i.data.animation){let d=n.data;d.animation=(d.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(n),a===Cr&&(t=!1)}}e=Object.getPrototypeOf(e)}gU(r)}function pU(n,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;let r=e.inputs[t];r!==void 0&&(n.inputs[t]=r,n.declaredInputs[t]=e.declaredInputs[t])}}function gU(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){let i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=xc(i.hostAttrs,t=xc(t,i.hostAttrs))}}function t_(n){return n===Zi?{}:n===Pn?[]:n}function mU(n,e){let t=n.viewQuery;t?n.viewQuery=(r,i)=>{e(r,i),t(r,i)}:n.viewQuery=e}function yU(n,e){let t=n.contentQueries;t?n.contentQueries=(r,i,o)=>{e(r,i,o),t(r,i,o)}:n.contentQueries=e}function vU(n,e){let t=n.hostBindings;t?n.hostBindings=(r,i)=>{e(r,i),t(r,i)}:n.hostBindings=e}function _U(n,e,t,r,i,o,s,a,l){let u=e.consts,d=H_(e,n,4,s||null,a||null);Fv()&&bA(e,t,d,Cc(u,l),oA),d.mergedAttrs=xc(d.mergedAttrs,d.attrs),b1(e,d);let f=d.tView=R_(2,d,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,u,null);return e.queries!==null&&(e.queries.template(e,d),f.queries=e.queries.embeddedTView(d)),d}function wU(n,e,t,r,i,o,s,a,l,u,d){let f=t+yr,p=e.firstCreatePass?_U(f,e,n,r,i,o,s,a,u):e.data[f];l&&(p.flags|=l),ya(p,!1);let m=EU(e,n,p,t);Zh()&&U_(e,n,m,p),Oc(m,n);let v=vA(m,n,m,p);return n[f]=v,P_(n,v),oU(v,p,n),$h(p)&&k_(e,n,p),u!=null&&iA(n,p,d),p}function Se(n,e,t,r,i,o,s,a){let l=We(),u=Jn(),d=Cc(u.consts,o);return wU(l,u,n,e,t,r,i,d,void 0,s,a),Se}var EU=bU;function bU(n,e,t,r){return Jh(!0),e[Pt].createComment("")}var Pf=function(n){return n[n.CHANGE_DETECTION=0]="CHANGE_DETECTION",n[n.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",n}(Pf||{}),ds=new oe(""),NA=!1,__=class extends Et{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,Sv()&&(this.destroyRef=L(rs,{optional:!0})??void 0,this.pendingTasks=L(no,{optional:!0})??void 0)}emit(e){let t=_e(null);try{super.next(e)}finally{_e(t)}}subscribe(e,t,r){let i=e,o=t||(()=>null),s=r;if(e&&typeof e=="object"){let l=e;i=l.next?.bind(l),o=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof wt&&e.add(a),a}wrapInTimeout(e){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{e(t)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},Ct=__;function PA(n){let e,t;function r(){n=Tc;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),r()})),()=>r()}function l1(n){return queueMicrotask(()=>n()),()=>{n=Tc}}var K_="isAngularZone",vf=K_+"_ID",CU=0,lt=class n{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new Ct(!1);onMicrotaskEmpty=new Ct(!1);onStable=new Ct(!1);onError=new Ct(!1);constructor(e){let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=NA}=e;if(typeof Zone>"u")throw new j(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,SU(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(K_)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new j(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new j(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,IU,Tc,Tc);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}},IU={};function Q_(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function DU(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){PA(()=>{n.callbackScheduled=!1,w_(n),n.isCheckStableRunning=!0,Q_(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),w_(n)}function SU(n){let e=()=>{DU(n)},t=CU++;n._inner=n._inner.fork({name:"angular",properties:{[K_]:!0,[vf]:t,[vf+t]:!0},onInvokeTask:(r,i,o,s,a,l)=>{if(TU(l))return r.invokeTask(o,s,a,l);try{return c1(n),r.invokeTask(o,s,a,l)}finally{(n.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),u1(n)}},onInvoke:(r,i,o,s,a,l,u)=>{try{return c1(n),r.invoke(o,s,a,l,u)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!AU(l)&&e(),u1(n)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(n._hasPendingMicrotasks=s.microTask,w_(n),Q_(n)):s.change=="macroTask"&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}function w_(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function c1(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function u1(n){n._nesting--,Q_(n)}var _f=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new Ct;onMicrotaskEmpty=new Ct;onStable=new Ct;onError=new Ct;run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}};function TU(n){return kA(n,"__ignore_ng_zone__")}function AU(n){return kA(n,"__scheduler_tick__")}function kA(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}var Y_=(()=>{class n{impl=null;execute(){this.impl?.execute()}static \u0275prov=K({token:n,providedIn:"root",factory:()=>new n})}return n})(),OA=[0,1,2,3],FA=(()=>{class n{ngZone=L(lt);scheduler=L(Yi);errorHandler=L(gr,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){L(ds,{optional:!0})}execute(){let t=this.sequences.size>0;t&&Ge(16),this.executing=!0;for(let r of OA)for(let i of this.sequences)if(!(i.erroredOrDestroyed||!i.hooks[r]))try{i.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let o=i.hooks[r];return o(i.pipelinedValue)},i.snapshot))}catch(o){i.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),t&&Ge(17)}register(t){let{view:r}=t;r!==void 0?((r[es]??=[]).push(t),ma(r),r[fe]|=8192):this.executing?this.deferredRegistrations.add(t):this.addSequence(t)}addSequence(t){this.sequences.add(t),this.scheduler.notify(7)}unregister(t){this.executing&&this.sequences.has(t)?(t.erroredOrDestroyed=!0,t.pipelinedValue=void 0,t.once=!0):(this.sequences.delete(t),this.deferredRegistrations.delete(t))}maybeTrace(t,r){return r?r.run(Pf.AFTER_NEXT_RENDER,t):t()}static \u0275prov=K({token:n,providedIn:"root",factory:()=>new n})}return n})(),wf=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(e,t,r,i,o,s=null){this.impl=e,this.hooks=t,this.view=r,this.once=i,this.snapshot=s,this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let e=this.view?.[es];e&&(this.view[es]=e.filter(t=>t!==this))}};function kf(n,e){!e?.injector&&Tv(kf);let t=e?.injector??L(wn);return wi("NgAfterNextRender"),xU(n,t,e,!0)}function MU(n){return n instanceof Function?[void 0,void 0,n,void 0]:[n.earlyRead,n.write,n.mixedReadWrite,n.read]}function xU(n,e,t,r){let i=e.get(Y_);i.impl??=e.get(FA);let o=e.get(ds,null,{optional:!0}),s=t?.manualCleanup!==!0?e.get(rs):null,a=e.get(Xh,null,{optional:!0}),l=new wf(i.impl,MU(n),a?.view,r,s,o?.snapshot(null));return i.impl.register(l),l}var Z_=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();var J_=new oe("");function so(n){return!!n&&typeof n.then=="function"}function X_(n){return!!n&&typeof n.subscribe=="function"}var e0=new oe("");function Of(n){return ha([{provide:e0,multi:!0,useValue:n}])}var t0=(()=>{class n{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r});appInits=L(e0,{optional:!0})??[];injector=L(wn);constructor(){}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let o=En(this.injector,i);if(so(o))t.push(o);else if(X_(o)){let s=new Promise((a,l)=>{o.subscribe({complete:a,error:l})});t.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),t.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||n)};static \u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),jc=new oe("");function LA(){Ny(()=>{let n="";throw new j(600,n)})}function VA(n){return n.isBoundToModule}var RU=10;var hs=(()=>{class n{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=L(Fn);afterRenderManager=L(Y_);zonelessEnabled=L(Sc);rootEffectScheduler=L(Qv);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new Et;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=L(no);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(Re(t=>!t))}constructor(){L(ds,{optional:!0})}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{t.unsubscribe()})}_injector=L(Nt);_rendererFactory=null;get injector(){return this._injector}bootstrap(t,r){return this.bootstrapImpl(t,r)}bootstrapImpl(t,r,i=wn.NULL){return this._injector.get(lt).run(()=>{Ge(10);let s=t instanceof Rf;if(!this._injector.get(t0).done){let v="";throw new j(405,v)}let l;s?l=t:l=this._injector.get(Vc).resolveComponentFactory(t),this.componentTypes.push(l.componentType);let u=VA(l)?void 0:this._injector.get(ls),d=r||l.selector,f=l.create(i,[],d,u),p=f.location.nativeElement,m=f.injector.get(J_,null);return m?.registerApplication(p),f.onDestroy(()=>{this.detachView(f.hostView),Mc(this.components,f),m?.unregisterApplication(p)}),this._loadComponent(f),Ge(11,f),f})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){Ge(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(Pf.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new j(101,!1);let t=_e(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,_e(t),this.afterTick.next(),Ge(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(vi,null,{optional:!0}));let t=0;for(;this.dirtyFlags!==0&&t++<RU;)Ge(14),this.synchronizeOnce(),Ge(15)}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let t=!1;if(this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:i}of this.allViews){if(!r&&!Ic(i))continue;let o=r&&!this.zonelessEnabled?0:1;$_(i,o),t=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}t||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>Ic(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;Mc(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView);try{this.tick()}catch(i){this.internalErrorHandler(i)}this.components.push(t),this._injector.get(jc,[]).forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>Mc(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new j(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||n)};static \u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Mc(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function ao(n,e,t,r){let i=We(),o=Wh();if(ss(i,o,e)){let s=Jn(),a=qv();$V(a,i,n,e,t,r)}return ao}function Q(n,e,t){let r=We(),i=Wh();if(ss(r,i,e)){let o=Jn(),s=qv();FV(s,r,n,e,r[Pt],t)}return Q}function d1(n,e,t,r,i){O_(e,n,t,i?"class":"style",r)}function C(n,e,t,r){let i=We(),o=Jn(),s=yr+n,a=i[Pt],l=o.firstCreatePass?IA(s,o,i,e,oA,Fv(),t,r):o.data[s],u=NU(o,i,l,a,e,n);i[s]=u;let d=$h(l);return ya(l,!0),X1(a,u,l),!V_(l)&&Zh()&&U_(o,i,u,l),(mT()===0||d)&&Oc(u,i),yT(),d&&(k_(o,i,l),H1(o,l,i)),r!==null&&iA(i,l),C}function I(){let n=hn();Vv()?CT():(n=n.parent,ya(n,!1));let e=n;wT(e)&&ET(),vT();let t=Jn();return t.firstCreatePass&&DA(t,e),e.classesWithoutHost!=null&&U2(e)&&d1(t,e,We(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&B2(e)&&d1(t,e,We(),e.stylesWithoutHost,!1),I}function ie(n,e,t,r){return C(n,e,t,r),I(),ie}var NU=(n,e,t,r,i,o)=>(Jh(!0),Z1(r,i,kT()));function fs(){return We()}var Uc="en-US";var PU=Uc;function jA(n){typeof n=="string"&&(PU=n.toLowerCase().replace(/_/g,"-"))}function Ve(n,e,t){let r=We(),i=Jn(),o=hn();return kU(i,r,r[Pt],o,n,e,t),Ve}function kU(n,e,t,r,i,o,s){let a=!0,l=null;if((r.type&3||s)&&(l??=Xv(r,e,o),zj(r,n,e,s,t,i,o,l)&&(a=!1)),a){let u=r.outputs?.[i],d=r.hostDirectiveOutputs?.[i];if(d&&d.length)for(let f=0;f<d.length;f+=2){let p=d[f],m=d[f+1];l??=Xv(r,e,o),r1(r,e,p,m,i,l)}if(u&&u.length)for(let f of u)l??=Xv(r,e,o),r1(r,e,f,i,i,l)}}function Xe(n=1){return PT(n)}function nf(n,e){return n<<17|e<<2}function cs(n){return n>>17&32767}function OU(n){return(n&2)==2}function FU(n,e){return n&131071|e<<17}function E_(n){return n|2}function wa(n){return(n&131068)>>2}function n_(n,e){return n&-131069|e<<2}function LU(n){return(n&1)===1}function b_(n){return n|1}function VU(n,e,t,r,i,o){let s=o?e.classBindings:e.styleBindings,a=cs(s),l=wa(s);n[r]=t;let u=!1,d;if(Array.isArray(t)){let f=t;d=f[1],(d===null||da(f,d)>0)&&(u=!0)}else d=t;if(i)if(l!==0){let p=cs(n[a+1]);n[r+1]=nf(p,a),p!==0&&(n[p+1]=n_(n[p+1],r)),n[a+1]=FU(n[a+1],r)}else n[r+1]=nf(a,0),a!==0&&(n[a+1]=n_(n[a+1],r)),a=r;else n[r+1]=nf(l,0),a===0?a=r:n[l+1]=n_(n[l+1],r),l=r;u&&(n[r+1]=E_(n[r+1])),h1(n,d,r,!0),h1(n,d,r,!1),jU(e,d,n,r,o),s=nf(a,l),o?e.classBindings=s:e.styleBindings=s}function jU(n,e,t,r,i){let o=i?n.residualClasses:n.residualStyles;o!=null&&typeof e=="string"&&da(o,e)>=0&&(t[r+1]=b_(t[r+1]))}function h1(n,e,t,r){let i=n[t+1],o=e===null,s=r?cs(i):wa(i),a=!1;for(;s!==0&&(a===!1||o);){let l=n[s],u=n[s+1];UU(l,e)&&(a=!0,n[s+1]=r?b_(u):E_(u)),s=r?cs(u):wa(u)}a&&(n[t+1]=r?E_(i):b_(i))}function UU(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?da(n,e)>=0:!1}function jt(n,e){return BU(n,e,null,!0),jt}function BU(n,e,t,r){let i=We(),o=Jn(),s=DT(2);if(o.firstUpdatePass&&zU(o,n,s,r),e!==Br&&ss(i,s,e)){let a=o.data[ns()];KU(o,a,i,i[Pt],n,i[s+1]=QU(e,t),r,s)}}function $U(n,e){return e>=n.expandoStartIndex}function zU(n,e,t,r){let i=n.data;if(i[t+1]===null){let o=i[ns()],s=$U(n,t);YU(o,r)&&e===null&&!s&&(e=!1),e=HU(i,o,e,r),VU(i,o,e,t,s,r)}}function HU(n,e,t,r){let i=MT(n),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(t=r_(null,n,e,t,r),t=Pc(t,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||n[s]!==i)if(t=r_(i,n,e,t,r),o===null){let l=qU(n,e,r);l!==void 0&&Array.isArray(l)&&(l=r_(null,n,e,l[1],r),l=Pc(l,e.attrs,r),GU(n,e,r,l))}else o=WU(n,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),t}function qU(n,e,t){let r=t?e.classBindings:e.styleBindings;if(wa(r)!==0)return n[cs(r)]}function GU(n,e,t,r){let i=t?e.classBindings:e.styleBindings;n[cs(i)]=r}function WU(n,e,t){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=n[o].hostAttrs;r=Pc(r,s,t)}return Pc(r,e.attrs,t)}function r_(n,e,t,r,i){let o=null,s=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<s&&(o=e[a],r=Pc(r,o.hostAttrs,i),o!==n);)a++;return n!==null&&(t.directiveStylingLast=a),r}function Pc(n,e,t){let r=t?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),rT(n,s,t?!0:e[++o]))}return n===void 0?null:n}function KU(n,e,t,r,i,o,s,a){if(!(e.type&3))return;let l=n.data,u=l[a+1],d=LU(u)?f1(l,e,t,i,wa(u),s):void 0;if(!Ef(d)){Ef(o)||OU(u)&&(o=f1(l,null,t,i,a,s));let f=Nv(ns(),t);uj(r,s,f,i,o)}}function f1(n,e,t,r,i,o){let s=e===null,a;for(;i>0;){let l=n[i],u=Array.isArray(l),d=u?l[1]:l,f=d===null,p=t[i+1];p===Br&&(p=f?Pn:void 0);let m=f?Uh(p,r):d===r?p:void 0;if(u&&!Ef(m)&&(m=Uh(l,r)),Ef(m)&&(a=m,s))return a;let v=n[i+1];i=s?cs(v):wa(v)}if(e!==null){let l=o?e.residualClasses:e.residualStyles;l!=null&&(a=Uh(l,r))}return a}function Ef(n){return n!==void 0}function QU(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=_n(Fc(n)))),n}function YU(n,e){return(n.flags&(e?8:16))!==0}function T(n,e=""){let t=We(),r=Jn(),i=n+yr,o=r.firstCreatePass?H_(r,i,1,e,null):r.data[i],s=ZU(r,t,o,e,n);t[i]=s,Zh()&&U_(r,t,s,o),ya(o,!1)}var ZU=(n,e,t,r,i)=>(Jh(!0),IV(e[Pt],r));function JU(n,e,t,r=""){return ss(n,Wh(),t)?e+pc(t)+r:Br}function Be(n){return Ut("",n),Be}function Ut(n,e,t){let r=We(),i=JU(r,n,e,t);return i!==Br&&XU(r,ns(),i),Ut}function XU(n,e,t){let r=Nv(e,n);DV(n[Pt],r,t)}function eB(n,e,t){let r=Jn();if(r.firstCreatePass){let i=Fr(n);C_(t,r.data,r.blueprint,i,!0),C_(e,r.data,r.blueprint,i,!1)}}function C_(n,e,t,r,i){if(n=Gt(n),Array.isArray(n))for(let o=0;o<n.length;o++)C_(n[o],e,t,r,i);else{let o=Jn(),s=We(),a=hn(),l=Go(n)?n:Gt(n.provide),u=Dv(n),d=a.providerIndexes&1048575,f=a.directiveStart,p=a.providerIndexes>>20;if(Go(n)||!n.multi){let m=new os(u,i,ee),v=o_(l,e,i?d:d+p,f);v===-1?(a_(uf(a,s),o,l),i_(o,n,e.length),e.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(m),s.push(m)):(t[v]=m,s[v]=m)}else{let m=o_(l,e,d+p,f),v=o_(l,e,d,d+p),w=m>=0&&t[m],A=v>=0&&t[v];if(i&&!A||!i&&!w){a_(uf(a,s),o,l);let N=rB(i?nB:tB,t.length,i,r,u);!i&&A&&(t[v].providerFactory=N),i_(o,n,e.length,0),e.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(N),s.push(N)}else{let N=UA(t[i?v:m],u,!i&&r);i_(o,n,m>-1?m:v,N)}!i&&r&&A&&t[v].componentProviders++}}}function i_(n,e,t,r){let i=Go(e),o=lT(e);if(i||o){let l=(o?Gt(e.useClass):e).prototype.ngOnDestroy;if(l){let u=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){let d=u.indexOf(t);d===-1?u.push(t,[r,l]):u[d+1].push(r,l)}else u.push(t,l)}}}function UA(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function o_(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function tB(n,e,t,r){return I_(this.multi,[])}function nB(n,e,t,r){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=df(t,t[Ae],this.providerFactory.index,r);o=a.slice(0,s),I_(i,o);for(let l=s;l<a.length;l++)o.push(a[l])}else o=[],I_(i,o);return o}function I_(n,e){for(let t=0;t<n.length;t++){let r=n[t];e.push(r())}return e}function rB(n,e,t,r,i){let o=new os(n,t,ee);return o.multi=[],o.index=e,o.componentProviders=0,UA(o,i,r&&!t),o}function ps(n,e=[]){return t=>{t.providersResolver=(r,i)=>eB(r,i?i(n):n,e)}}function Bc(n,e,t){let r=Gh()+n,i=We();return i[r]===Br?W_(i,r,t?e.call(t):e()):Bj(i,r)}function $c(n,e,t,r){return iB(We(),Gh(),n,e,t,r)}function n0(n,e,t,r,i){return oB(We(),Gh(),n,e,t,r,i)}function BA(n,e){let t=n[e];return t===Br?void 0:t}function iB(n,e,t,r,i,o){let s=e+t;return ss(n,s,i)?W_(n,s+1,o?r.call(o,i):r(i)):BA(n,s+1)}function oB(n,e,t,r,i,o,s){let a=e+t;return $j(n,a,i,o)?W_(n,a+2,s?r.call(s,i,o):r(i,o)):BA(n,a+2)}var bf=class{ngModuleFactory;componentFactories;constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},r0=(()=>{class n{compileModuleSync(t){return new yf(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),i=Ev(t),o=Q1(i.declarations).reduce((s,a)=>{let l=pi(a);return l&&s.push(new as(l)),s},[]);return new bf(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static \u0275fac=function(r){return new(r||n)};static \u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var sB=(()=>{class n{zone=L(lt);changeDetectionScheduler=L(Yi);applicationRef=L(hs);applicationErrorHandler=L(Fn);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{try{this.applicationRef.dirtyFlags|=1,this.applicationRef._tick()}catch(t){this.applicationErrorHandler(t)}})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),$A=new oe("",{factory:()=>!1});function i0({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new lt(me(B({},s0()),{scheduleInRootZone:t})),[{provide:lt,useFactory:n},{provide:Ji,multi:!0,useFactory:()=>{let r=L(sB,{optional:!0});return()=>r.initialize()}},{provide:Ji,multi:!0,useFactory:()=>{let r=L(aB);return()=>{r.initialize()}}},e===!0?{provide:Wv,useValue:!0}:[],{provide:Kv,useValue:t??NA},{provide:Fn,useFactory:()=>{let r=L(lt),i=L(Nt),o;return s=>{o??=i.get(gr),r.runOutsideAngular(()=>o.handleError(s))}}}]}function o0(n){let e=n?.ignoreChangesOutsideZone,t=n?.scheduleInRootZone,r=i0({ngZoneFactory:()=>{let i=s0(n);return i.scheduleInRootZone=t,i.shouldCoalesceEventChangeDetection&&wi("NgZone_CoalesceEvent"),new lt(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:t});return ha([{provide:$A,useValue:!0},{provide:Sc,useValue:!1},r])}function s0(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var aB=(()=>{class n{subscription=new wt;initialized=!1;zone=L(lt);pendingTasks=L(no);initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{lt.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{lt.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var zA=(()=>{class n{applicationErrorHandler=L(Fn);appRef=L(hs);taskService=L(no);ngZone=L(lt);zonelessEnabled=L(Sc);tracing=L(ds,{optional:!0});disableScheduling=L(Wv,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new wt;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(vf):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(L(Kv,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof _f||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;let r=!1;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?l1:PA;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(t){return!(this.disableScheduling&&!t||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(vf+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.taskService.remove(t),this.applicationErrorHandler(r)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,l1(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function lB(){return typeof $localize<"u"&&$localize.locale||Uc}var Ff=new oe("",{providedIn:"root",factory:()=>L(Ff,{optional:!0,skipSelf:!0})||lB()});function er(n){return KS(n)}function Ca(n,e){return ah(n,e?.equal)}var HA=class{[dn];constructor(e){this[dn]=e}destroy(){this[dn].destroy()}};var QA=Symbol("InputSignalNode#UNSET"),SB=me(B({},lh),{transformFn:void 0,applyValueToInputSignal(n,e){Js(n,e)}});function YA(n,e){let t=Object.create(SB);t.value=n,t.transformFn=e?.transform;function r(){if(Ys(t),t.value===QA){let i=null;throw new j(-950,i)}return t.value}return r[dn]=t,r}var Vf=class{attributeName;constructor(e){this.attributeName=e}__NG_ELEMENT_ID__=()=>kc(this.attributeName);toString(){return`HostAttributeToken ${this.attributeName}`}},TB=new oe("");TB.__NG_ELEMENT_ID__=n=>{let e=hn();if(e===null)throw new j(204,!1);if(e.type&2)return e.value;if(n&8)return null;throw new j(204,!1)};function qA(n,e){return YA(n,e)}function AB(n){return YA(QA,n)}var ZA=(qA.required=AB,qA);var Hc=class{full;major;minor;patch;constructor(e){this.full=e;let t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}},JA=new Hc("20.0.3");var a0=new oe(""),MB=new oe("");function zc(n){return!n.moduleRef}function xB(n){let e=zc(n)?n.r3Injector:n.moduleRef.injector,t=e.get(lt);return t.run(()=>{zc(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let r=e.get(Fn),i;if(t.runOutsideAngular(()=>{i=t.onError.subscribe({next:r})}),zc(n)){let o=()=>e.destroy(),s=n.platformInjector.get(a0);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>n.moduleRef.destroy(),s=n.platformInjector.get(a0);s.add(o),n.moduleRef.onDestroy(()=>{Mc(n.allPlatformModules,n.moduleRef),i.unsubscribe(),s.delete(o)})}return NB(r,t,()=>{let o=e.get(t0);return o.runInitializers(),o.donePromise.then(()=>{let s=e.get(Ff,Uc);if(jA(s||Uc),!e.get(MB,!0))return zc(n)?e.get(hs):(n.allPlatformModules.push(n.moduleRef),n.moduleRef);if(zc(n)){let l=e.get(hs);return n.rootComponent!==void 0&&l.bootstrap(n.rootComponent),l}else return RB?.(n.moduleRef,n.allPlatformModules),n.moduleRef})})})}var RB;function NB(n,e,t){try{let r=t();return so(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n(r)),r}}var Lf=null;function PB(n=[],e){return wn.create({name:e,providers:[{provide:mc,useValue:"platform"},{provide:a0,useValue:new Set([()=>Lf=null])},...n]})}function kB(n=[]){if(Lf)return Lf;let e=PB(n);return Lf=e,LA(),OB(e),e}function OB(n){let e=n.get(Df,null);En(n,()=>{e?.forEach(t=>t())})}var Ia=(()=>{class n{static __NG_ELEMENT_ID__=FB}return n})();function FB(n){return LB(hn(),We(),(n&16)===16)}function LB(n,e,t){if(eo(n)&&!t){let r=Zn(n.index,e);return new ro(r,r)}else if(n.type&175){let r=e[Qn];return new ro(r,e)}return null}var l0=class{constructor(){}supports(e){return G_(e)}create(e){return new c0(e)}},VB=(n,e)=>e,c0=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(e){this._trackByFn=e||VB}forEachItem(e){let t;for(t=this._itHead;t!==null;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,o=null;for(;t||r;){let s=!r||t&&t.currentIndex<GA(r,i,o)?t:r,a=GA(s,i,o),l=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(t=t._next,s.previousIndex==null)i++;else{o||(o=[]);let u=a-i,d=l-i;if(u!=d){for(let p=0;p<u;p++){let m=p<o.length?o[p]:o[p]=0,v=m+p;d<=v&&v<u&&(o[p]=m+1)}let f=s.previousIndex;o[f]=d-u}}a!==l&&e(s,a,l)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)e(t)}diff(e){if(e==null&&(e=[]),!G_(e))throw new j(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,o,s,a),r=!0):(r&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)),t=t._next}else i=0,SA(e,a=>{s=this._trackByFn(i,a),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,a,s,i),r=!0):(r&&(t=this._verifyReinsertion(t,a,s,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,i)):e=this._addAfter(new u0(t,r),o,i)),e}_verifyReinsertion(e,t,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let t=e._next;this._addToRemovals(this._unlink(e)),e=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){let i=t===null?this._itHead:t._next;return e._next=i,e._prev=t,i===null?this._itTail=e:i._prev=e,t===null?this._itHead=e:t._next=e,this._linkedRecords===null&&(this._linkedRecords=new jf),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let t=e._prev,r=e._next;return t===null?this._itHead=r:t._next=r,r===null?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new jf),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},u0=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(e,t){this.item=e,this.trackById=t}},d0=class{_head=null;_tail=null;add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;r!==null;r=r._nextDup)if((t===null||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let t=e._prevDup,r=e._nextDup;return t===null?this._head=r:t._nextDup=r,r===null?this._tail=t:r._prevDup=t,this._head===null}},jf=class{map=new Map;put(e){let t=e.trackById,r=this.map.get(t);r||(r=new d0,this.map.set(t,r)),r.add(e)}get(e,t){let r=e,i=this.map.get(r);return i?i.get(e,t):null}remove(e){let t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function GA(n,e,t){let r=n.previousIndex;if(r===null)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}function WA(){return new h0([new l0])}var h0=(()=>{class n{factories;static \u0275prov=K({token:n,providedIn:"root",factory:WA});constructor(t){this.factories=t}static create(t,r){if(r!=null){let i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||WA()),deps:[[n,new y1,new m1]]}}find(t){let r=this.factories.find(i=>i.supports(t));if(r!=null)return r;throw new j(901,!1)}}return n})();function XA(n){Ge(8);try{let{rootComponent:e,appProviders:t,platformProviders:r}=n,i=kB(r),o=[i0({}),{provide:Yi,useExisting:zA},FT,...t||[]],s=new Nc({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1});return xB({r3Injector:s.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}finally{Ge(9)}}function gs(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function eM(n){let e=pi(n);if(!e)return null;let t=new as(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var rM=null;function tr(){return rM}function f0(n){rM??=n}var qc=class{},Gc=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=K({token:n,factory:()=>L(iM),providedIn:"platform"})}return n})(),p0=new oe(""),iM=(()=>{class n extends Gc{_location;_history;_doc=L(rt);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return tr().getBaseHref(this._doc)}onPopState(t){let r=tr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=tr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||n)};static \u0275prov=K({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function Uf(n,e){return n?e?n.endsWith("/")?e.startsWith("/")?n+e.slice(1):n+e:e.startsWith("/")?n+e:`${n}/${e}`:n:e}function tM(n){let e=n.search(/#|\?|$/);return n[e-1]==="/"?n.slice(0,e-1)+n.slice(e):n}function Ir(n){return n&&n[0]!=="?"?`?${n}`:n}var Dr=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=K({token:n,factory:()=>L($f),providedIn:"root"})}return n})(),Bf=new oe(""),$f=(()=>{class n extends Dr{_platformLocation;_baseHref;_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??L(rt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Uf(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+Ir(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+Ir(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+Ir(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)(se(Gc),se(Bf,8))};static \u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),lo=(()=>{class n{_subject=new Et;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(t){this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=BB(tM(nM(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Ir(r))}normalize(t){return n.stripTrailingSlash(UB(this._basePath,nM(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ir(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ir(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=Ir;static joinWithSlash=Uf;static stripTrailingSlash=tM;static \u0275fac=function(r){return new(r||n)(se(Dr))};static \u0275prov=K({token:n,factory:()=>jB(),providedIn:"root"})}return n})();function jB(){return new lo(se(Dr))}function UB(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function nM(n){return n.replace(/\/index.html$/,"")}function BB(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}var m0=(()=>{class n extends Dr{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(t){let r=Uf(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+Ir(o))||this._platformLocation.pathname;this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+Ir(o))||this._platformLocation.pathname;this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)(se(Gc),se(Bf,8))};static \u0275prov=K({token:n,factory:n.\u0275fac})}return n})();var g0=/\s+/,oM=[],y0=(()=>{class n{_ngEl;_renderer;initialClasses=oM;rawClass;stateMap=new Map;constructor(t,r){this._ngEl=t,this._renderer=r}set klass(t){this.initialClasses=t!=null?t.trim().split(g0):oM}set ngClass(t){this.rawClass=typeof t=="string"?t.trim().split(g0):t}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(let r of t)this._updateState(r,!0);else if(t!=null)for(let r of Object.keys(t))this._updateState(r,!!t[r]);this._applyStateDiff()}_updateState(t,r){let i=this.stateMap.get(t);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(t,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let t of this.stateMap){let r=t[0],i=t[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(t,r){t=t.trim(),t.length>0&&t.split(g0).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static \u0275fac=function(r){return new(r||n)(ee(Ur),ee(_i))};static \u0275dir=yt({type:n,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return n})();var zf=class{$implicit;ngForOf;index;count;constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Bt=(()=>{class n{_viewContainer;_template;_differs;set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let r=this._viewContainer;t.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new zf(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),sM(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);sM(o,i)})}static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(ee(us),ee(Lc),ee(h0))};static \u0275dir=yt({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return n})();function sM(n,e){n.context.$implicit=e.item}var Ln=(()=>{class n{_viewContainer;_context=new Hf;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(t,r){this._viewContainer=t,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){aM(t,!1),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){aM(t,!1),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(ee(us),ee(Lc))};static \u0275dir=yt({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return n})(),Hf=class{$implicit=null;ngIf=null};function aM(n,e){if(n&&!n.createEmbeddedView)throw new j(2020,!1)}var $e=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Xn({type:n});static \u0275inj=kn({})}return n})();function v0(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let r=t.indexOf("="),[i,o]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var Wc=class{};var w0="browser",$B="server";function lM(n){return n===w0}function cM(n){return n===$B}var uM=(()=>{class n{static \u0275prov=K({token:n,providedIn:"root",factory:()=>new _0(L(rt),window)})}return n})(),_0=class{document;window;offset=()=>[0,0];constructor(e,t){this.document=e,this.window=t}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e,t){this.window.scrollTo(me(B({},t),{left:e[0],top:e[1]}))}scrollToAnchor(e,t){let r=zB(this.document,e);r&&(this.scrollToElement(r,t),r.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e,t){let r=e.getBoundingClientRect(),i=r.left+this.window.pageXOffset,o=r.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(me(B({},t),{left:i-s[0],top:o-s[1]}))}};function zB(n,e){let t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if(typeof n.createTreeWalker=="function"&&n.body&&typeof n.body.attachShadow=="function"){let r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}var Wf=new oe(""),I0=(()=>{class n{_zone;_plugins;_eventNameToPlugin=new Map;constructor(t,r){this._zone=r,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i,o){return this._findPluginFor(r).addEventListener(t,r,i,o)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new j(5101,!1);return this._eventNameToPlugin.set(t,r),r}static \u0275fac=function(r){return new(r||n)(se(Wf),se(lt))};static \u0275prov=K({token:n,factory:n.\u0275fac})}return n})(),Kc=class{_doc;constructor(e){this._doc=e}manager},qf="ng-app-id";function dM(n){for(let e of n)e.remove()}function hM(n,e){let t=e.createElement("style");return t.textContent=n,t}function HB(n,e,t,r){let i=n.head?.querySelectorAll(`style[${qf}="${e}"],link[${qf}="${e}"]`);if(i)for(let o of i)o.removeAttribute(qf),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&t.set(o.textContent,{usage:0,elements:[o]})}function b0(n,e){let t=e.createElement("link");return t.setAttribute("rel","stylesheet"),t.setAttribute("href",n),t}var D0=(()=>{class n{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(t,r,i,o={}){this.doc=t,this.appId=r,this.nonce=i,this.isServer=cM(o),HB(t,r,this.inline,this.external),this.hosts.add(t.head)}addStyles(t,r){for(let i of t)this.addUsage(i,this.inline,hM);r?.forEach(i=>this.addUsage(i,this.external,b0))}removeStyles(t,r){for(let i of t)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(t,r,i){let o=r.get(t);o?o.usage++:r.set(t,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(t,this.doc)))})}removeUsage(t,r){let i=r.get(t);i&&(i.usage--,i.usage<=0&&(dM(i.elements),r.delete(t)))}ngOnDestroy(){for(let[,{elements:t}]of[...this.inline,...this.external])dM(t);this.hosts.clear()}addHost(t){this.hosts.add(t);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(t,hM(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(t,b0(r,this.doc)))}removeHost(t){this.hosts.delete(t)}addElement(t,r){return this.nonce&&r.setAttribute("nonce",this.nonce),this.isServer&&r.setAttribute(qf,this.appId),t.appendChild(r)}static \u0275fac=function(r){return new(r||n)(se(rt),se(If),se(Tf,8),se(oo))};static \u0275prov=K({token:n,factory:n.\u0275fac})}return n})(),E0={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},S0=/%COMP%/g;var pM="%COMP%",qB=`_nghost-${pM}`,GB=`_ngcontent-${pM}`,WB=!0,KB=new oe("",{providedIn:"root",factory:()=>WB});function QB(n){return GB.replace(S0,n)}function YB(n){return qB.replace(S0,n)}function gM(n,e){return e.map(t=>t.replace(S0,n))}var Zc=(()=>{class n{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(t,r,i,o,s,a,l,u=null,d=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=l,this.nonce=u,this.tracingService=d,this.platformIsServer=!1,this.defaultRenderer=new Qc(t,s,l,this.platformIsServer,this.tracingService)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;let i=this.getOrCreateRenderer(t,r);return i instanceof Gf?i.applyToHost(t):i instanceof Yc&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,l=this.eventManager,u=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,f=this.platformIsServer,p=this.tracingService;switch(r.encapsulation){case yi.Emulated:o=new Gf(l,u,r,this.appId,d,s,a,f,p);break;case yi.ShadowDom:return new C0(l,u,t,r,s,a,this.nonce,f,p);default:o=new Yc(l,u,r,d,s,a,f,p);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(t){this.rendererByCompId.delete(t)}static \u0275fac=function(r){return new(r||n)(se(I0),se(D0),se(If),se(KB),se(rt),se(oo),se(lt),se(Tf),se(ds,8))};static \u0275prov=K({token:n,factory:n.\u0275fac})}return n})(),Qc=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,t,r,i,o){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(e,t){return t?this.doc.createElementNS(E0[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(fM(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(fM(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){t.remove()}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new j(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;let o=E0[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let i=E0[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(Vr.DashCase|Vr.Important)?e.style.setProperty(t,r,i&Vr.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&Vr.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r,i){if(typeof e=="string"&&(e=tr().getGlobalEventTarget(this.doc,e),!e))throw new j(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(e,t,o)),this.eventManager.addEventListener(e,t,o,i)}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;e(t)===!1&&t.preventDefault()}}};function fM(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var C0=class extends Qc{sharedStylesHost;hostEl;shadowRoot;constructor(e,t,r,i,o,s,a,l,u){super(e,o,s,l,u),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let d=i.styles;d=gM(i.id,d);for(let p of d){let m=document.createElement("style");a&&m.setAttribute("nonce",a),m.textContent=p,this.shadowRoot.appendChild(m)}let f=i.getExternalStyles?.();if(f)for(let p of f){let m=b0(p,o);a&&m.setAttribute("nonce",a),this.shadowRoot.appendChild(m)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Yc=class extends Qc{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,t,r,i,o,s,a,l,u){super(e,o,s,a,l),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i;let d=r.styles;this.styles=u?gM(u,d):d,this.styleUrls=r.getExternalStyles?.(u)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},Gf=class extends Yc{contentAttr;hostAttr;constructor(e,t,r,i,o,s,a,l,u){let d=i+"-"+r.id;super(e,t,r,o,s,a,l,u,d),this.contentAttr=QB(d),this.hostAttr=YB(d)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}};var Kf=class n extends qc{supportsDOMEvents=!0;static makeCurrent(){f0(new n)}onAndCancel(e,t,r,i){return e.addEventListener(t,r,i),()=>{e.removeEventListener(t,r,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=ZB();return t==null?null:JB(t)}resetBaseElement(){Jc=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return v0(document.cookie,e)}},Jc=null;function ZB(){return Jc=Jc||document.head.querySelector("base"),Jc?Jc.getAttribute("href"):null}function JB(n){return new URL(n,document.baseURI).pathname}var XB=(()=>{class n{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||n)};static \u0275prov=K({token:n,factory:n.\u0275fac})}return n})(),yM=(()=>{class n extends Kc{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i,o){return t.addEventListener(r,i,o),()=>this.removeEventListener(t,r,i,o)}removeEventListener(t,r,i,o){return t.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||n)(se(rt))};static \u0275prov=K({token:n,factory:n.\u0275fac})}return n})(),mM=["alt","control","meta","shift"],e3={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},t3={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},vM=(()=>{class n extends Kc{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,r,i,o){let s=n.parseEventName(r),a=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>tr().onAndCancel(t,s.domEventName,a,o))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=n._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),mM.forEach(u=>{let d=r.indexOf(u);d>-1&&(r.splice(d,1),s+=u+".")}),s+=o,r.length!=0||o.length===0)return null;let l={};return l.domEventName=i,l.fullKey=s,l}static matchEventFullKeyCode(t,r){let i=e3[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),mM.forEach(s=>{if(s!==i){let a=t3[s];a(t)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{n.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static \u0275fac=function(r){return new(r||n)(se(rt))};static \u0275prov=K({token:n,factory:n.\u0275fac})}return n})();function T0(n,e){return XA(B({rootComponent:n},n3(e)))}function n3(n){return{appProviders:[...a3,...n?.providers??[]],platformProviders:s3}}function r3(){Kf.makeCurrent()}function i3(){return new gr}function o3(){return T_(document),document}var s3=[{provide:oo,useValue:w0},{provide:Df,useValue:r3,multi:!0},{provide:rt,useFactory:o3}];var a3=[{provide:mc,useValue:"root"},{provide:gr,useFactory:i3},{provide:Wf,useClass:yM,multi:!0,deps:[rt]},{provide:Wf,useClass:vM,multi:!0,deps:[rt]},Zc,D0,I0,{provide:vi,useExisting:Zc},{provide:Wc,useClass:XB},[]];var _M=(()=>{class n{_doc;constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static \u0275fac=function(r){return new(r||n)(se(rt))};static \u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var ye="primary",du=Symbol("RouteTitle"),N0=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function vs(n){return new N0(n)}function TM(n,e,t){let r=t.path.split("/");if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=n[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function c3(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!$r(n[t],e[t]))return!1;return!0}function $r(n,e){let t=n?P0(n):void 0,r=e?P0(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!AM(n[i],e[i]))return!1;return!0}function P0(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function AM(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((i,o)=>r[o]===i)}else return n===e}function MM(n){return n.length>0?n[n.length-1]:null}function Ei(n){return Hy(n)?n:so(n)?tt(Promise.resolve(n)):ue(n)}var u3={exact:RM,subset:NM},xM={exact:d3,subset:h3,ignored:()=>!0};function wM(n,e,t){return u3[t.paths](n.root,e.root,t.matrixParams)&&xM[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function d3(n,e){return $r(n,e)}function RM(n,e,t){if(!ms(n.segments,e.segments)||!Zf(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!RM(n.children[r],e.children[r],t))return!1;return!0}function h3(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>AM(n[t],e[t]))}function NM(n,e,t){return PM(n,e,e.segments,t)}function PM(n,e,t,r){if(n.segments.length>t.length){let i=n.segments.slice(0,t.length);return!(!ms(i,t)||e.hasChildren()||!Zf(i,t,r))}else if(n.segments.length===t.length){if(!ms(n.segments,t)||!Zf(n.segments,t,r))return!1;for(let i in e.children)if(!n.children[i]||!NM(n.children[i],e.children[i],r))return!1;return!0}else{let i=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!ms(n.segments,i)||!Zf(n.segments,i,r)||!n.children[ye]?!1:PM(n.children[ye],e,o,r)}}function Zf(n,e,t){return e.every((r,i)=>xM[t](n[i].parameters,r.parameters))}var Hr=class{root;queryParams;fragment;_queryParamMap;constructor(e=new ze([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=vs(this.queryParams),this._queryParamMap}toString(){return g3.serialize(this)}},ze=class{segments;children;parent=null;constructor(e,t){this.segments=e,this.children=t,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Jf(this)}},co=class{path;parameters;_parameterMap;constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=vs(this.parameters),this._parameterMap}toString(){return OM(this)}};function f3(n,e){return ms(n,e)&&n.every((t,r)=>$r(t.parameters,e[r].parameters))}function ms(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function p3(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===ye&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==ye&&(t=t.concat(e(i,r)))}),t}var _s=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=K({token:n,factory:()=>new uo,providedIn:"root"})}return n})(),uo=class{parse(e){let t=new O0(e);return new Hr(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${Xc(e.root,!0)}`,r=v3(e.queryParams),i=typeof e.fragment=="string"?`#${m3(e.fragment)}`:"";return`${t}${r}${i}`}},g3=new uo;function Jf(n){return n.segments.map(e=>OM(e)).join("/")}function Xc(n,e){if(!n.hasChildren())return Jf(n);if(e){let t=n.children[ye]?Xc(n.children[ye],!1):"",r=[];return Object.entries(n.children).forEach(([i,o])=>{i!==ye&&r.push(`${i}:${Xc(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=p3(n,(r,i)=>i===ye?[Xc(n.children[ye],!1)]:[`${i}:${Xc(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[ye]!=null?`${Jf(n)}/${t[0]}`:`${Jf(n)}/(${t.join("//")})`}}function kM(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Qf(n){return kM(n).replace(/%3B/gi,";")}function m3(n){return encodeURI(n)}function k0(n){return kM(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Xf(n){return decodeURIComponent(n)}function EM(n){return Xf(n.replace(/\+/g,"%20"))}function OM(n){return`${k0(n.path)}${y3(n.parameters)}`}function y3(n){return Object.entries(n).map(([e,t])=>`;${k0(e)}=${k0(t)}`).join("")}function v3(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${Qf(t)}=${Qf(i)}`).join("&"):`${Qf(t)}=${Qf(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var _3=/^[^\/()?;#]+/;function A0(n){let e=n.match(_3);return e?e[0]:""}var w3=/^[^\/()?;=#]+/;function E3(n){let e=n.match(w3);return e?e[0]:""}var b3=/^[^=?&#]+/;function C3(n){let e=n.match(b3);return e?e[0]:""}var I3=/^[^&#]+/;function D3(n){let e=n.match(I3);return e?e[0]:""}var O0=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new ze([],{}):new ze([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[ye]=new ze(e,t)),r}parseSegment(){let e=A0(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new j(4009,!1);return this.capture(e),new co(Xf(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=E3(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=A0(this.remaining);i&&(r=i,this.capture(r))}e[Xf(t)]=Xf(r)}parseQueryParam(e){let t=C3(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let s=D3(this.remaining);s&&(r=s,this.capture(r))}let i=EM(t),o=EM(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=A0(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new j(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=ye);let s=this.parseChildren();t[o]=Object.keys(s).length===1?s[ye]:new ze([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new j(4011,!1)}};function FM(n){return n.segments.length>0?new ze([],{[ye]:n}):n}function LM(n){let e={};for(let[r,i]of Object.entries(n.children)){let o=LM(i);if(r===ye&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let t=new ze(n.segments,e);return S3(t)}function S3(n){if(n.numberOfChildren===1&&n.children[ye]){let e=n.children[ye];return new ze(n.segments.concat(e.segments),e.children)}return n}function ho(n){return n instanceof Hr}function VM(n,e,t=null,r=null){let i=jM(n);return UM(i,e,t,r)}function jM(n){let e;function t(o){let s={};for(let l of o.children){let u=t(l);s[l.outlet]=u}let a=new ze(o.url,s);return o===n&&(e=a),a}let r=t(n.root),i=FM(r);return e??i}function UM(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(e.length===0)return M0(i,i,i,t,r);let o=T3(e);if(o.toRoot())return M0(i,i,new ze([],{}),t,r);let s=A3(o,i,n),a=s.processChildren?tu(s.segmentGroup,s.index,o.commands):$M(s.segmentGroup,s.index,o.commands);return M0(i,s.segmentGroup,a,t,r)}function ep(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function ru(n){return typeof n=="object"&&n!=null&&n.outlets}function M0(n,e,t,r,i){let o={};r&&Object.entries(r).forEach(([l,u])=>{o[l]=Array.isArray(u)?u.map(d=>`${d}`):`${u}`});let s;n===e?s=t:s=BM(n,e,t);let a=FM(LM(s));return new Hr(a,o,i)}function BM(n,e,t){let r={};return Object.entries(n.children).forEach(([i,o])=>{o===e?r[i]=t:r[i]=BM(o,e,t)}),new ze(n.segments,r)}var tp=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&ep(r[0]))throw new j(4003,!1);let i=r.find(ru);if(i&&i!==MM(r))throw new j(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function T3(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new tp(!0,0,n);let e=0,t=!1,r=n.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([l,u])=>{a[l]=typeof u=="string"?u.split("/"):u}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?t=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new tp(t,e,r)}var Ta=class{segmentGroup;processChildren;index;constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};function A3(n,e,t){if(n.isAbsolute)return new Ta(e,!0,0);if(!t)return new Ta(e,!1,NaN);if(t.parent===null)return new Ta(t,!0,0);let r=ep(n.commands[0])?0:1,i=t.segments.length-1+r;return M3(t,i,n.numberOfDoubleDots)}function M3(n,e,t){let r=n,i=e,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new j(4005,!1);i=r.segments.length}return new Ta(r,!1,i-o)}function x3(n){return ru(n[0])?n[0].outlets:{[ye]:n}}function $M(n,e,t){if(n??=new ze([],{}),n.segments.length===0&&n.hasChildren())return tu(n,e,t);let r=R3(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let o=new ze(n.segments.slice(0,r.pathIndex),{});return o.children[ye]=new ze(n.segments.slice(r.pathIndex),n.children),tu(o,0,i)}else return r.match&&i.length===0?new ze(n.segments,{}):r.match&&!n.hasChildren()?F0(n,e,t):r.match?tu(n,0,i):F0(n,e,t)}function tu(n,e,t){if(t.length===0)return new ze(n.segments,{});{let r=x3(t),i={};if(Object.keys(r).some(o=>o!==ye)&&n.children[ye]&&n.numberOfChildren===1&&n.children[ye].segments.length===0){let o=tu(n.children[ye],e,t);return new ze(n.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=$M(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new ze(n.segments,i)}}function R3(n,e,t){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return o;let s=n.segments[i],a=t[r];if(ru(a))break;let l=`${a}`,u=r<t.length-1?t[r+1]:null;if(i>0&&l===void 0)break;if(l&&u&&typeof u=="object"&&u.outlets===void 0){if(!CM(l,u,s))return o;r+=2}else{if(!CM(l,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function F0(n,e,t){let r=n.segments.slice(0,e),i=0;for(;i<t.length;){let o=t[i];if(ru(o)){let l=N3(o.outlets);return new ze(r,l)}if(i===0&&ep(t[0])){let l=n.segments[e];r.push(new co(l.path,bM(t[0]))),i++;continue}let s=ru(o)?o.outlets[ye]:`${o}`,a=i<t.length-1?t[i+1]:null;s&&a&&ep(a)?(r.push(new co(s,bM(a))),i+=2):(r.push(new co(s,{})),i++)}return new ze(r,{})}function N3(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=F0(new ze([],{}),0,r))}),e}function bM(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function CM(n,e,t){return n==t.path&&$r(e,t.parameters)}var Aa="imperative",kt=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(kt||{}),Un=class{id;url;constructor(e,t){this.id=e,this.url=t}},fo=class extends Un{type=kt.NavigationStart;navigationTrigger;restoredState;constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Cn=class extends Un{urlAfterRedirects;type=kt.NavigationEnd;constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},fn=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n[n.Aborted=4]="Aborted",n}(fn||{}),xa=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(xa||{}),zr=class extends Un{reason;code;type=kt.NavigationCancel;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},qr=class extends Un{reason;code;type=kt.NavigationSkipped;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}},Ra=class extends Un{error;target;type=kt.NavigationError;constructor(e,t,r,i){super(e,t),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},iu=class extends Un{urlAfterRedirects;state;type=kt.RoutesRecognized;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},np=class extends Un{urlAfterRedirects;state;type=kt.GuardsCheckStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},rp=class extends Un{urlAfterRedirects;state;shouldActivate;type=kt.GuardsCheckEnd;constructor(e,t,r,i,o){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},ip=class extends Un{urlAfterRedirects;state;type=kt.ResolveStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},op=class extends Un{urlAfterRedirects;state;type=kt.ResolveEnd;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},sp=class{route;type=kt.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},ap=class{route;type=kt.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},lp=class{snapshot;type=kt.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},cp=class{snapshot;type=kt.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},up=class{snapshot;type=kt.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},dp=class{snapshot;type=kt.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Na=class{routerEvent;position;anchor;type=kt.Scroll;constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},ou=class{},Pa=class{url;navigationBehaviorOptions;constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function P3(n){return!(n instanceof ou)&&!(n instanceof Pa)}function k3(n,e){return n.providers&&!n._injector&&(n._injector=ba(n.providers,e,`Route: ${n.path}`)),n._injector??e}function Sr(n){return n.outlet||ye}function O3(n,e){let t=n.filter(r=>Sr(r)===e);return t.push(...n.filter(r=>Sr(r)!==e)),t}function hu(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var hp=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return hu(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new ws(this.rootInjector)}},ws=(()=>{class n{rootInjector;contexts=new Map;constructor(t){this.rootInjector=t}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new hp(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static \u0275fac=function(r){return new(r||n)(se(Nt))};static \u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),fp=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=L0(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=L0(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=V0(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return V0(e,this._root).map(t=>t.value)}};function L0(n,e){if(n===e.value)return e;for(let t of e.children){let r=L0(n,t);if(r)return r}return null}function V0(n,e){if(n===e.value)return[e];for(let t of e.children){let r=V0(n,t);if(r.length)return r.unshift(e),r}return[]}var jn=class{value;children;constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function Sa(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var su=class extends fp{snapshot;constructor(e,t){super(e),this.snapshot=t,G0(this,e)}toString(){return this.snapshot.toString()}};function zM(n){let e=F3(n),t=new qt([new co("",{})]),r=new qt({}),i=new qt({}),o=new qt({}),s=new qt(""),a=new Gr(t,r,o,s,i,ye,n,e.root);return a.snapshot=e.root,new su(new jn(a,[]),e)}function F3(n){let e={},t={},r={},i="",o=new ys([],e,r,i,t,ye,n,null,{});return new au("",new jn(o,[]))}var Gr=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,t,r,i,o,s,a,l){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(Re(u=>u[du]))??ue(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(Re(e=>vs(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(Re(e=>vs(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function pp(n,e,t="emptyOnly"){let r,{routeConfig:i}=n;return e!==null&&(t==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:B(B({},e.params),n.params),data:B(B({},e.data),n.data),resolve:B(B(B(B({},n.data),e.data),i?.data),n._resolvedData)}:r={params:B({},n.params),data:B({},n.data),resolve:B(B({},n.data),n._resolvedData??{})},i&&qM(i)&&(r.resolve[du]=i.title),r}var ys=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[du]}constructor(e,t,r,i,o,s,a,l,u){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=vs(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=vs(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},au=class extends fp{url;constructor(e,t){super(t),this.url=e,G0(this,t)}toString(){return HM(this._root)}};function G0(n,e){e.value._routerState=n,e.children.forEach(t=>G0(n,t))}function HM(n){let e=n.children.length>0?` { ${n.children.map(HM).join(", ")} } `:"";return`${n.value}${e}`}function x0(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,$r(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),$r(e.params,t.params)||n.paramsSubject.next(t.params),c3(e.url,t.url)||n.urlSubject.next(t.url),$r(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function j0(n,e){let t=$r(n.params,e.params)&&f3(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||j0(n.parent,e.parent))}function qM(n){return typeof n.title=="string"||n.title===null}var GM=new oe(""),fu=(()=>{class n{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=ye;activateEvents=new Ct;deactivateEvents=new Ct;attachEvents=new Ct;detachEvents=new Ct;routerOutletData=ZA(void 0);parentContexts=L(ws);location=L(us);changeDetector=L(Ia);inputBinder=L(pu,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new j(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new j(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new j(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new j(4013,!1);this._activatedRoute=t;let i=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new U0(t,a,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:l,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||n)};static \u0275dir=yt({type:n,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[jr]})}return n})(),U0=class{route;childContexts;parent;outletData;constructor(e,t,r,i){this.route=e,this.childContexts=t,this.parent=r,this.outletData=i}get(e,t){return e===Gr?this.route:e===ws?this.childContexts:e===GM?this.outletData:this.parent.get(e,t)}},pu=new oe(""),W0=(()=>{class n{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){let{activatedRoute:r}=t,i=oc([r.queryParams,r.params,r.data]).pipe(Rn(([o,s,a],l)=>(a=B(B(B({},o),s),a),l===0?ue(a):Promise.resolve(a)))).subscribe(o=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(t);return}let s=eM(r.component);if(!s){this.unsubscribeFromRouteData(t);return}for(let{templateName:a}of s.inputs)t.activatedComponentRef.setInput(a,o[a])});this.outletDataSubscriptions.set(t,i)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=K({token:n,factory:n.\u0275fac})}return n})(),K0=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=ge({type:n,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&ie(0,"router-outlet")},dependencies:[fu],encapsulation:2})}return n})();function Q0(n){let e=n.children&&n.children.map(Q0),t=e?me(B({},n),{children:e}):B({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==ye&&(t.component=K0),t}function L3(n,e,t){let r=lu(n,e._root,t?t._root:void 0);return new su(r,e)}function lu(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let i=V3(n,e,t);return new jn(r,i)}else{if(n.shouldAttach(e.value)){let o=n.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>lu(n,a)),s}}let r=j3(e.value),i=e.children.map(o=>lu(n,o));return new jn(r,i)}}function V3(n,e,t){return e.children.map(r=>{for(let i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return lu(n,r,i);return lu(n,r)})}function j3(n){return new Gr(new qt(n.url),new qt(n.params),new qt(n.queryParams),new qt(n.fragment),new qt(n.data),n.outlet,n.component,n)}var ka=class{redirectTo;navigationBehaviorOptions;constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},WM="ngNavigationCancelingError";function gp(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=ho(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=KM(!1,fn.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function KM(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[WM]=!0,t.cancellationCode=e,t}function U3(n){return QM(n)&&ho(n.url)}function QM(n){return!!n&&n[WM]}var B3=(n,e,t,r)=>Re(i=>(new B0(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)),B0=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,t,r,i,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),x0(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let i=Sa(t);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=Sa(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=Sa(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let i=Sa(t);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new dp(o.value.snapshot))}),e.children.length&&this.forwardEvent(new cp(e.value.snapshot))}activateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(x0(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),x0(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},mp=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Ma=class{component;route;constructor(e,t){this.component=e,this.route=t}};function $3(n,e,t){let r=n._root,i=e?e._root:null;return eu(r,i,t,[r.value])}function z3(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function Fa(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!cv(n)?n:e.get(n):r}function eu(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=Sa(e);return n.children.forEach(s=>{H3(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>nu(a,t.getContext(s),i)),i}function H3(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let l=q3(s,o,o.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new mp(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?eu(n,e,a?a.children:null,r,i):eu(n,e,t,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Ma(a.outlet.component,s))}else s&&nu(e,a,i),i.canActivateChecks.push(new mp(r)),o.component?eu(n,null,a?a.children:null,r,i):eu(n,null,t,r,i);return i}function q3(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!ms(n.url,e.url);case"pathParamsOrQueryParamsChange":return!ms(n.url,e.url)||!$r(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!j0(n,e)||!$r(n.queryParams,e.queryParams);case"paramsChange":default:return!j0(n,e)}}function nu(n,e,t){let r=Sa(n),i=n.value;Object.entries(r).forEach(([o,s])=>{i.component?e?nu(s,e.children.getContext(o),t):nu(s,null,t):nu(s,e,t)}),i.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new Ma(e.outlet.component,i)):t.canDeactivateChecks.push(new Ma(null,i)):t.canDeactivateChecks.push(new Ma(null,i))}function gu(n){return typeof n=="function"}function G3(n){return typeof n=="boolean"}function W3(n){return n&&gu(n.canLoad)}function K3(n){return n&&gu(n.canActivate)}function Q3(n){return n&&gu(n.canActivateChild)}function Y3(n){return n&&gu(n.canDeactivate)}function Z3(n){return n&&gu(n.canMatch)}function YM(n){return n instanceof ci||n?.name==="EmptyError"}var Yf=Symbol("INITIAL_VALUE");function Oa(){return Rn(n=>oc(n.map(e=>e.pipe(di(1),Ky(Yf)))).pipe(Re(e=>{for(let t of e)if(t!==!0){if(t===Yf)return Yf;if(t===!1||J3(t))return t}return!0}),vn(e=>e!==Yf),di(1)))}function J3(n){return ho(n)||n instanceof ka}function X3(n,e){return mt(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return s.length===0&&o.length===0?ue(me(B({},t),{guardsResult:!0})):e$(s,r,i,n).pipe(mt(a=>a&&G3(a)?t$(r,o,n,e):ue(a)),Re(a=>me(B({},t),{guardsResult:a})))})}function e$(n,e,t,r){return tt(n).pipe(mt(i=>s$(i.component,i.route,t,e,r)),hi(i=>i!==!0,!0))}function t$(n,e,t,r){return tt(e).pipe(Wi(i=>la(r$(i.route.parent,r),n$(i.route,r),o$(n,i.path,t),i$(n,i.route,t))),hi(i=>i!==!0,!0))}function n$(n,e){return n!==null&&e&&e(new up(n)),ue(!0)}function r$(n,e){return n!==null&&e&&e(new lp(n)),ue(!0)}function i$(n,e,t){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return ue(!0);let i=r.map(o=>sc(()=>{let s=hu(e)??t,a=Fa(o,s),l=K3(a)?a.canActivate(e,n):En(s,()=>a(e,n));return Ei(l).pipe(hi())}));return ue(i).pipe(Oa())}function o$(n,e,t){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>z3(s)).filter(s=>s!==null).map(s=>sc(()=>{let a=s.guards.map(l=>{let u=hu(s.node)??t,d=Fa(l,u),f=Q3(d)?d.canActivateChild(r,n):En(u,()=>d(r,n));return Ei(f).pipe(hi())});return ue(a).pipe(Oa())}));return ue(o).pipe(Oa())}function s$(n,e,t,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return ue(!0);let s=o.map(a=>{let l=hu(e)??i,u=Fa(a,l),d=Y3(u)?u.canDeactivate(n,e,t,r):En(l,()=>u(n,e,t,r));return Ei(d).pipe(hi())});return ue(s).pipe(Oa())}function a$(n,e,t,r){let i=e.canLoad;if(i===void 0||i.length===0)return ue(!0);let o=i.map(s=>{let a=Fa(s,n),l=W3(a)?a.canLoad(e,t):En(n,()=>a(e,t));return Ei(l)});return ue(o).pipe(Oa(),ZM(r))}function ZM(n){return Uy(Vt(e=>{if(typeof e!="boolean")throw gp(n,e)}),Re(e=>e===!0))}function l$(n,e,t,r){let i=e.canMatch;if(!i||i.length===0)return ue(!0);let o=i.map(s=>{let a=Fa(s,n),l=Z3(a)?a.canMatch(e,t):En(n,()=>a(e,t));return Ei(l)});return ue(o).pipe(Oa(),ZM(r))}var cu=class{segmentGroup;constructor(e){this.segmentGroup=e||null}},uu=class extends Error{urlTree;constructor(e){super(),this.urlTree=e}};function Da(n){return sa(new cu(n))}function c$(n){return sa(new j(4e3,!1))}function u$(n){return sa(KM(!1,fn.GuardRejected))}var $0=class{urlSerializer;urlTree;constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return ue(r);if(i.numberOfChildren>1||!i.children[ye])return c$(`${e.redirectTo}`);i=i.children[ye]}}applyRedirectCommands(e,t,r,i,o){return d$(t,i,o).pipe(Re(s=>{if(s instanceof Hr)throw new uu(s);let a=this.applyRedirectCreateUrlTree(s,this.urlSerializer.parse(s),e,r);if(s[0]==="/")throw new uu(a);return a}))}applyRedirectCreateUrlTree(e,t,r,i){let o=this.createSegmentGroup(e,t.root,r,i);return new Hr(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=t[a]}else r[i]=o}),r}createSegmentGroup(e,t,r,i){let o=this.createSegments(e,t.segments,r,i),s={};return Object.entries(t.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(e,l,r,i)}),new ze(o,s)}createSegments(e,t,r,i){return t.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,t,r){let i=r[t.path.substring(1)];if(!i)throw new j(4001,!1);return i}findOrReturn(e,t){let r=0;for(let i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}};function d$(n,e,t){if(typeof n=="string")return ue(n);let r=n,{queryParams:i,fragment:o,routeConfig:s,url:a,outlet:l,params:u,data:d,title:f}=e;return Ei(En(t,()=>r({params:u,data:d,queryParams:i,fragment:o,routeConfig:s,url:a,outlet:l,title:f})))}var z0={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function h$(n,e,t,r,i){let o=JM(n,e,t);return o.matched?(r=k3(e,r),l$(r,e,t,i).pipe(Re(s=>s===!0?o:B({},z0)))):ue(o)}function JM(n,e,t){if(e.path==="**")return f$(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?B({},z0):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(e.matcher||TM)(t,n,e);if(!i)return B({},z0);let o={};Object.entries(i.posParams??{}).forEach(([a,l])=>{o[a]=l.path});let s=i.consumed.length>0?B(B({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function f$(n){return{matched:!0,parameters:n.length>0?MM(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function IM(n,e,t,r){return t.length>0&&m$(n,t,r)?{segmentGroup:new ze(e,g$(r,new ze(t,n.children))),slicedSegments:[]}:t.length===0&&y$(n,t,r)?{segmentGroup:new ze(n.segments,p$(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new ze(n.segments,n.children),slicedSegments:t}}function p$(n,e,t,r){let i={};for(let o of t)if(vp(n,e,o)&&!r[Sr(o)]){let s=new ze([],{});i[Sr(o)]=s}return B(B({},r),i)}function g$(n,e){let t={};t[ye]=e;for(let r of n)if(r.path===""&&Sr(r)!==ye){let i=new ze([],{});t[Sr(r)]=i}return t}function m$(n,e,t){return t.some(r=>vp(n,e,r)&&Sr(r)!==ye)}function y$(n,e,t){return t.some(r=>vp(n,e,r))}function vp(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function v$(n,e,t){return e.length===0&&!n.children[t]}var H0=class{};function _$(n,e,t,r,i,o,s="emptyOnly"){return new q0(n,e,t,r,i,s,o).recognize()}var w$=31,q0=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,t,r,i,o,s,a){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new $0(this.urlSerializer,this.urlTree)}noMatchError(e){return new j(4002,`'${e.segmentGroup}'`)}recognize(){let e=IM(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(Re(({children:t,rootSnapshot:r})=>{let i=new jn(r,t),o=new au("",i),s=VM(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let t=new ys([],Object.freeze({}),Object.freeze(B({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),ye,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,ye,t).pipe(Re(r=>({children:r,rootSnapshot:t})),ui(r=>{if(r instanceof uu)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof cu?this.noMatchError(r):r}))}processSegmentGroup(e,t,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,t,r,o):this.processSegment(e,t,r,r.segments,i,!0,o).pipe(Re(s=>s instanceof jn?[s]:[]))}processChildren(e,t,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return tt(o).pipe(Wi(s=>{let a=r.children[s],l=O3(t,s);return this.processSegmentGroup(e,l,a,s,i)}),Wy((s,a)=>(s.push(...a),s)),Ki(null),Gy(),mt(s=>{if(s===null)return Da(r);let a=XM(s);return E$(a),ue(a)}))}processSegment(e,t,r,i,o,s,a){return tt(t).pipe(Wi(l=>this.processSegmentAgainstRoute(l._injector??e,t,l,r,i,o,s,a).pipe(ui(u=>{if(u instanceof cu)return ue(null);throw u}))),hi(l=>!!l),ui(l=>{if(YM(l))return v$(r,i,o)?ue(new H0):Da(r);throw l}))}processSegmentAgainstRoute(e,t,r,i,o,s,a,l){return Sr(r)!==s&&(s===ye||!vp(i,o,r))?Da(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,l):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,o,s,l):Da(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s,a){let{matched:l,parameters:u,consumedSegments:d,positionalParamSegments:f,remainingSegments:p}=JM(t,i,o);if(!l)return Da(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>w$&&(this.allowRedirects=!1));let m=new ys(o,u,Object.freeze(B({},this.urlTree.queryParams)),this.urlTree.fragment,DM(i),Sr(i),i.component??i._loadedComponent??null,i,SM(i)),v=pp(m,a,this.paramsInheritanceStrategy);return m.params=Object.freeze(v.params),m.data=Object.freeze(v.data),this.applyRedirects.applyRedirectCommands(d,i.redirectTo,f,m,e).pipe(Rn(A=>this.applyRedirects.lineralizeSegments(i,A)),mt(A=>this.processSegment(e,r,t,A.concat(p),s,!1,a)))}matchSegmentAgainstRoute(e,t,r,i,o,s){let a=h$(t,r,i,e,this.urlSerializer);return r.path==="**"&&(t.children={}),a.pipe(Rn(l=>l.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(Rn(({routes:u})=>{let d=r._loadedInjector??e,{parameters:f,consumedSegments:p,remainingSegments:m}=l,v=new ys(p,f,Object.freeze(B({},this.urlTree.queryParams)),this.urlTree.fragment,DM(r),Sr(r),r.component??r._loadedComponent??null,r,SM(r)),w=pp(v,s,this.paramsInheritanceStrategy);v.params=Object.freeze(w.params),v.data=Object.freeze(w.data);let{segmentGroup:A,slicedSegments:N}=IM(t,p,m,u);if(N.length===0&&A.hasChildren())return this.processChildren(d,u,A,v).pipe(Re(U=>new jn(v,U)));if(u.length===0&&N.length===0)return ue(new jn(v,[]));let O=Sr(r)===o;return this.processSegment(d,u,A,N,O?ye:o,!0,v).pipe(Re(U=>new jn(v,U instanceof jn?[U]:[])))}))):Da(t)))}getChildConfig(e,t,r){return t.children?ue({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?ue({routes:t._loadedRoutes,injector:t._loadedInjector}):a$(e,t,r,this.urlSerializer).pipe(mt(i=>i?this.configLoader.loadChildren(e,t).pipe(Vt(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):u$(t))):ue({routes:[],injector:e})}};function E$(n){n.sort((e,t)=>e.value.outlet===ye?-1:t.value.outlet===ye?1:e.value.outlet.localeCompare(t.value.outlet))}function b$(n){let e=n.value.routeConfig;return e&&e.path===""}function XM(n){let e=[],t=new Set;for(let r of n){if(!b$(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):e.push(r)}for(let r of t){let i=XM(r.children);e.push(new jn(r.value,i))}return e.filter(r=>!t.has(r))}function DM(n){return n.data||{}}function SM(n){return n.resolve||{}}function C$(n,e,t,r,i,o){return mt(s=>_$(n,e,t,r,s.extractedUrl,i,o).pipe(Re(({state:a,tree:l})=>me(B({},s),{targetSnapshot:a,urlAfterRedirects:l}))))}function I$(n,e){return mt(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return ue(t);let o=new Set(i.map(l=>l.route)),s=new Set;for(let l of o)if(!s.has(l))for(let u of ex(l))s.add(u);let a=0;return tt(s).pipe(Wi(l=>o.has(l)?D$(l,r,n,e):(l.data=pp(l,l.parent,n).resolve,ue(void 0))),Vt(()=>a++),ca(1),mt(l=>a===s.size?ue(t):mn))})}function ex(n){let e=n.children.map(t=>ex(t)).flat();return[n,...e]}function D$(n,e,t,r){let i=n.routeConfig,o=n._resolve;return i?.title!==void 0&&!qM(i)&&(o[du]=i.title),sc(()=>(n.data=pp(n,n.parent,t).resolve,S$(o,n,e,r).pipe(Re(s=>(n._resolvedData=s,n.data=B(B({},n.data),s),null)))))}function S$(n,e,t,r){let i=P0(n);if(i.length===0)return ue({});let o={};return tt(i).pipe(mt(s=>T$(n[s],e,t,r).pipe(hi(),Vt(a=>{if(a instanceof ka)throw gp(new uo,a);o[s]=a}))),ca(1),Re(()=>o),ui(s=>YM(s)?mn:sa(s)))}function T$(n,e,t,r){let i=hu(e)??r,o=Fa(n,i),s=o.resolve?o.resolve(e,t):En(i,()=>o(e,t));return Ei(s)}function R0(n){return Rn(e=>{let t=n(e);return t?tt(t).pipe(Re(()=>e)):ue(e)})}var Y0=(()=>{class n{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===ye);return r}getResolvedTitleForRoute(t){return t.data[du]}static \u0275fac=function(r){return new(r||n)};static \u0275prov=K({token:n,factory:()=>L(tx),providedIn:"root"})}return n})(),tx=(()=>{class n extends Y0{title;constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||n)(se(_M))};static \u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),po=new oe("",{providedIn:"root",factory:()=>({})}),Es=new oe(""),_p=(()=>{class n{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=L(r0);loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return ue(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);let r=Ei(t.loadComponent()).pipe(Re(rx),Vt(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),ac(()=>{this.componentLoaders.delete(t)})),i=new oa(r,()=>new Et).pipe(ia());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return ue({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=nx(r,this.compiler,t,this.onLoadEndListener).pipe(ac(()=>{this.childrenLoaders.delete(r)})),s=new oa(o,()=>new Et).pipe(ia());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||n)};static \u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function nx(n,e,t,r){return Ei(n.loadChildren()).pipe(Re(rx),mt(i=>i instanceof Nf||Array.isArray(i)?ue(i):tt(e.compileModuleAsync(i))),Re(i=>{r&&r(n);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(t).injector,s=o.get(Es,[],{optional:!0,self:!0}).flat()),{routes:s.map(Q0),injector:o}}))}function A$(n){return n&&typeof n=="object"&&"default"in n}function rx(n){return A$(n)?n.default:n}var wp=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=K({token:n,factory:()=>L(M$),providedIn:"root"})}return n})(),M$=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static \u0275fac=function(r){return new(r||n)};static \u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Z0=new oe(""),J0=new oe("");function ix(n,e,t){let r=n.get(J0),i=n.get(rt);if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(u=>setTimeout(u));let o,s=new Promise(u=>{o=u}),a=i.startViewTransition(()=>(o(),x$(n))),{onViewTransitionCreated:l}=r;return l&&En(n,()=>l({transition:a,from:e,to:t})),s}function x$(n){return new Promise(e=>{kf({read:()=>setTimeout(e)},{injector:n})})}var X0=new oe(""),Ep=(()=>{class n{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new Et;transitionAbortWithErrorSubject=new Et;configLoader=L(_p);environmentInjector=L(Nt);destroyRef=L(rs);urlSerializer=L(_s);rootContexts=L(ws);location=L(lo);inputBindingEnabled=L(pu,{optional:!0})!==null;titleStrategy=L(Y0);options=L(po,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=L(wp);createViewTransition=L(Z0,{optional:!0});navigationErrorHandler=L(X0,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>ue(void 0);rootComponentType=null;destroyed=!1;constructor(){let t=i=>this.events.next(new sp(i)),r=i=>this.events.next(new ap(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;this.transitions?.next(me(B({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,abortController:new AbortController,id:r}))}setupNavigations(t){return this.transitions=new qt(null),this.transitions.pipe(vn(r=>r!==null),Rn(r=>{let i=!1;return ue(r).pipe(Rn(o=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",fn.SupersededByNewNavigation),mn;this.currentTransition=r,this.currentNavigation={id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,targetBrowserUrl:typeof o.extras.browserUrl=="string"?this.urlSerializer.parse(o.extras.browserUrl):o.extras.browserUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?me(B({},this.lastSuccessfulNavigation),{previousNavigation:null}):null,abort:()=>o.abortController.abort()};let s=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),a=o.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!s&&a!=="reload"){let l="";return this.events.next(new qr(o.id,this.urlSerializer.serialize(o.rawUrl),l,xa.IgnoredSameUrlNavigation)),o.resolve(!1),mn}if(this.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return ue(o).pipe(Rn(l=>(this.events.next(new fo(l.id,this.urlSerializer.serialize(l.extractedUrl),l.source,l.restoredState)),l.id!==this.navigationId?mn:Promise.resolve(l))),C$(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),Vt(l=>{r.targetSnapshot=l.targetSnapshot,r.urlAfterRedirects=l.urlAfterRedirects,this.currentNavigation=me(B({},this.currentNavigation),{finalUrl:l.urlAfterRedirects});let u=new iu(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}));if(s&&this.urlHandlingStrategy.shouldProcessUrl(o.currentRawUrl)){let{id:l,extractedUrl:u,source:d,restoredState:f,extras:p}=o,m=new fo(l,this.urlSerializer.serialize(u),d,f);this.events.next(m);let v=zM(this.rootComponentType).snapshot;return this.currentTransition=r=me(B({},o),{targetSnapshot:v,urlAfterRedirects:u,extras:me(B({},p),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=u,ue(r)}else{let l="";return this.events.next(new qr(o.id,this.urlSerializer.serialize(o.extractedUrl),l,xa.IgnoredByUrlHandlingStrategy)),o.resolve(!1),mn}}),Vt(o=>{let s=new np(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(s)}),Re(o=>(this.currentTransition=r=me(B({},o),{guards:$3(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),r)),X3(this.environmentInjector,o=>this.events.next(o)),Vt(o=>{if(r.guardsResult=o.guardsResult,o.guardsResult&&typeof o.guardsResult!="boolean")throw gp(this.urlSerializer,o.guardsResult);let s=new rp(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(s)}),vn(o=>o.guardsResult?!0:(this.cancelNavigationTransition(o,"",fn.GuardRejected),!1)),R0(o=>{if(o.guards.canActivateChecks.length!==0)return ue(o).pipe(Vt(s=>{let a=new ip(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),Rn(s=>{let a=!1;return ue(s).pipe(I$(this.paramsInheritanceStrategy,this.environmentInjector),Vt({next:()=>a=!0,complete:()=>{a||this.cancelNavigationTransition(s,"",fn.NoDataFromResolver)}}))}),Vt(s=>{let a=new op(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}))}),R0(o=>{let s=a=>{let l=[];a.routeConfig?.loadComponent&&!a.routeConfig._loadedComponent&&l.push(this.configLoader.loadComponent(a.routeConfig).pipe(Vt(u=>{a.component=u}),Re(()=>{})));for(let u of a.children)l.push(...s(u));return l};return oc(s(o.targetSnapshot.root)).pipe(Ki(null),di(1))}),R0(()=>this.afterPreactivation()),Rn(()=>{let{currentSnapshot:o,targetSnapshot:s}=r,a=this.createViewTransition?.(this.environmentInjector,o.root,s.root);return a?tt(a).pipe(Re(()=>r)):ue(r)}),Re(o=>{let s=L3(t.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return this.currentTransition=r=me(B({},o),{targetRouterState:s}),this.currentNavigation.targetRouterState=s,r}),Vt(()=>{this.events.next(new ou)}),B3(this.rootContexts,t.routeReuseStrategy,o=>this.events.next(o),this.inputBindingEnabled),di(1),Rh(new Ne(o=>{let s=r.abortController.signal,a=()=>o.next();return s.addEventListener("abort",a),()=>s.removeEventListener("abort",a)}).pipe(vn(()=>!i&&!r.targetRouterState),Vt(()=>{this.cancelNavigationTransition(r,r.abortController.signal.reason+"",fn.Aborted)}))),Vt({next:o=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Cn(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects))),this.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{i=!0}}),Rh(this.transitionAbortWithErrorSubject.pipe(Vt(o=>{throw o}))),ac(()=>{i||this.cancelNavigationTransition(r,"",fn.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation=null,this.currentTransition=null)}),ui(o=>{if(this.destroyed)return r.resolve(!1),mn;if(i=!0,QM(o))this.events.next(new zr(r.id,this.urlSerializer.serialize(r.extractedUrl),o.message,o.cancellationCode)),U3(o)?this.events.next(new Pa(o.url,o.navigationBehaviorOptions)):r.resolve(!1);else{let s=new Ra(r.id,this.urlSerializer.serialize(r.extractedUrl),o,r.targetSnapshot??void 0);try{let a=En(this.environmentInjector,()=>this.navigationErrorHandler?.(s));if(a instanceof ka){let{message:l,cancellationCode:u}=gp(this.urlSerializer,a);this.events.next(new zr(r.id,this.urlSerializer.serialize(r.extractedUrl),l,u)),this.events.next(new Pa(a.redirectTo,a.navigationBehaviorOptions))}else throw this.events.next(s),o}catch(a){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(a)}}return mn}))}))}cancelNavigationTransition(t,r,i){let o=new zr(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return t.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||n)};static \u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function R$(n){return n!==Aa}var ox=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=K({token:n,factory:()=>L(N$),providedIn:"root"})}return n})(),yp=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},N$=(()=>{class n extends yp{static \u0275fac=(()=>{let t;return function(i){return(t||(t=io(n)))(i||n)}})();static \u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),sx=(()=>{class n{urlSerializer=L(_s);options=L(po,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=L(lo);urlHandlingStrategy=L(wp);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new Hr;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:t,initialUrl:r,targetBrowserUrl:i}){let o=t!==void 0?this.urlHandlingStrategy.merge(t,r):r,s=i??o;return s instanceof Hr?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:t,finalUrl:r,initialUrl:i}){r&&t?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=t):this.rawUrlTree=i}routerState=zM(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:t}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t??this.rawUrlTree)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=K({token:n,factory:()=>L(P$),providedIn:"root"})}return n})(),P$=(()=>{class n extends sx{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{t(r.url,r.state,"popstate")})})}handleRouterEvent(t,r){t instanceof fo?this.updateStateMemento():t instanceof qr?this.commitTransition(r):t instanceof iu?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof ou?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof zr&&t.code!==fn.SupersededByNewNavigation&&t.code!==fn.Redirect?this.restoreHistory(r):t instanceof Ra?this.restoreHistory(r,!0):t instanceof Cn&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,{extras:r,id:i}){let{replaceUrl:o,state:s}=r;if(this.location.isCurrentPathEqualTo(t)||o){let a=this.browserPageId,l=B(B({},s),this.generateNgRouterState(i,a));this.location.replaceState(t,"",l)}else{let a=B(B({},s),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(t,"",a)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===t.finalUrl&&o===0&&(this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=io(n)))(i||n)}})();static \u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function bp(n,e){n.events.pipe(vn(t=>t instanceof Cn||t instanceof zr||t instanceof Ra||t instanceof qr),Re(t=>t instanceof Cn||t instanceof qr?0:(t instanceof zr?t.code===fn.Redirect||t.code===fn.SupersededByNewNavigation:!1)?2:1),vn(t=>t!==2),di(1)).subscribe(()=>{e()})}var k$={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},O$={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},it=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=L(Z_);stateManager=L(sx);options=L(po,{optional:!0})||{};pendingTasks=L(no);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=L(Ep);urlSerializer=L(_s);location=L(lo);urlHandlingStrategy=L(wp);injector=L(Nt);_events=new Et;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=L(ox);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=L(Es,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!L(pu,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}eventsSubscription=new wt;subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof zr&&r.code!==fn.Redirect&&r.code!==fn.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Cn)this.navigated=!0;else if(r instanceof Pa){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),l=B({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||R$(i.source)},s);this.scheduleNavigation(a,Aa,null,l,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}P3(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortWithErrorSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Aa,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r,i)=>{this.navigateToSyncWithBrowser(t,i,r)})}navigateToSyncWithBrowser(t,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let l=B({},i);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(o.state=l)}let a=this.parseUrl(t);this.scheduleNavigation(a,r,s,o).catch(l=>{this.injector.get(Fn)(l)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(Q0),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:l}=r,u=l?this.currentUrlTree.fragment:s,d=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":d=B(B({},this.currentUrlTree.queryParams),o);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=o||null}d!==null&&(d=this.removeEmptyProps(d));let f;try{let p=i?i.snapshot:this.routerState.snapshot.root;f=jM(p)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),f=this.currentUrlTree.root}return UM(f,t,d,u??null)}navigateByUrl(t,r={skipLocationChange:!1}){let i=ho(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,Aa,null,r)}navigate(t,r={skipLocationChange:!1}){return F$(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=B({},k$):r===!1?i=B({},O$):i=r,ho(t))return wM(this.currentUrlTree,t,i);let o=this.parseUrl(t);return wM(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,l,u;s?(a=s.resolve,l=s.reject,u=s.promise):u=new Promise((f,p)=>{a=f,l=p});let d=this.pendingTasks.add();return bp(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:l,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(f=>Promise.reject(f))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function F$(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new j(4008,!1)}var Cp=(()=>{class n{router;route;tabIndexAttribute;renderer;el;locationStrategy;reactiveHref=mi(null);get href(){return er(this.reactiveHref)}set href(t){this.reactiveHref.set(t)}target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new Et;applicationErrorHandler=L(Fn);options=L(po,{optional:!0});constructor(t,r,i,o,s,a){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a,this.reactiveHref.set(L(new Vf("href"),{optional:!0}));let l=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=l==="a"||l==="area"||!!(typeof customElements=="object"&&customElements.get(l)?.observedAttributes?.includes?.("href")),this.isAnchorElement?this.setTabIndexIfNotOnNativeEl("0"):this.subscribeToNavigationEventsIfNecessary()}subscribeToNavigationEventsIfNecessary(){if(this.subscription!==void 0||!this.isAnchorElement)return;let t=this.preserveFragment,r=i=>i==="merge"||i==="preserve";t||=r(this.queryParamsHandling),t||=!this.queryParamsHandling&&!r(this.options?.defaultQueryParamsHandling),t&&(this.subscription=this.router.events.subscribe(i=>{i instanceof Cn&&this.updateHref()}))}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(t){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&(this.updateHref(),this.subscribeToNavigationEventsIfNecessary()),this.onChanges.next(this)}routerLinkInput=null;set routerLink(t){t==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(ho(t)?this.routerLinkInput=t:this.routerLinkInput=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0"))}onClick(t,r,i,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(t!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let l={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,l)?.catch(u=>{this.applicationErrorHandler(u)}),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let t=this.urlTree;this.reactiveHref.set(t!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t))??"":null)}applyAttributeValue(t,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,t,r):i.removeAttribute(o,t)}get urlTree(){return this.routerLinkInput===null?null:ho(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||n)(ee(it),ee(Gr),kc("tabindex"),ee(_i),ee(Ur),ee(Dr))};static \u0275dir=yt({type:n,selectors:[["","routerLink",""]],hostVars:2,hostBindings:function(r,i){r&1&&Ve("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&ao("href",i.reactiveHref(),M_)("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",gs],skipLocationChange:[2,"skipLocationChange","skipLocationChange",gs],replaceUrl:[2,"replaceUrl","replaceUrl",gs],routerLink:"routerLink"},features:[jr]})}return n})();var mu=class{};var ax=(()=>{class n{router;injector;preloadingStrategy;loader;subscription;constructor(t,r,i,o){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(vn(t=>t instanceof Cn),Wi(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){let i=[];for(let o of r){o.providers&&!o._injector&&(o._injector=ba(o.providers,t,`Route: ${o.path}`));let s=o._injector??t,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return tt(i).pipe(aa())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;r.loadChildren&&r.canLoad===void 0?i=this.loader.loadChildren(t,r):i=ue(null);let o=i.pipe(mt(s=>s===null?ue(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??t,s.routes))));if(r.loadComponent&&!r._loadedComponent){let s=this.loader.loadComponent(r);return tt([o,s]).pipe(aa())}else return o})}static \u0275fac=function(r){return new(r||n)(se(it),se(Nt),se(mu),se(_p))};static \u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),lx=new oe(""),L$=(()=>{class n{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource=Aa;restoredId=0;store={};constructor(t,r,i,o,s={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof fo?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Cn?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof qr&&t.code===xa.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Na&&(t.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(t.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>H(this,null,function*(){yield new Promise(i=>{setTimeout(i),typeof requestAnimationFrame<"u"&&requestAnimationFrame(i)}),this.zone.run(()=>{this.transitions.events.next(new Na(t,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(r){q_()};static \u0275prov=K({token:n,factory:n.\u0275fac})}return n})();function tw(n,...e){return ha([{provide:Es,multi:!0,useValue:n},[],{provide:Gr,useFactory:cx,deps:[it]},{provide:jc,multi:!0,useFactory:ux},e.map(t=>t.\u0275providers)])}function cx(n){return n.routerState.root}function yu(n,e){return{\u0275kind:n,\u0275providers:e}}function ux(){let n=L(wn);return e=>{let t=n.get(hs);if(e!==t.components[0])return;let r=n.get(it),i=n.get(dx);n.get(nw)===1&&r.initialNavigation(),n.get(px,null,{optional:!0})?.setUpPreloading(),n.get(lx,null,{optional:!0})?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var dx=new oe("",{factory:()=>new Et}),nw=new oe("",{providedIn:"root",factory:()=>1});function hx(){let n=[{provide:nw,useValue:0},Of(()=>{let e=L(wn);return e.get(p0,Promise.resolve()).then(()=>new Promise(r=>{let i=e.get(it),o=e.get(dx);bp(i,()=>{r(!0)}),e.get(Ep).afterPreactivation=()=>(r(!0),o.closed?ue(void 0):o),i.initialNavigation()}))})];return yu(2,n)}function fx(){let n=[Of(()=>{L(it).setUpLocationChangeListener()}),{provide:nw,useValue:2}];return yu(3,n)}var px=new oe("");function gx(n){return yu(0,[{provide:px,useExisting:ax},{provide:mu,useExisting:n}])}function mx(){return yu(8,[W0,{provide:pu,useExisting:W0}])}function yx(n){wi("NgRouterViewTransitions");let e=[{provide:Z0,useValue:ix},{provide:J0,useValue:B({skipNextTransition:!!n?.skipInitialTransition},n)}];return yu(9,e)}var vx=[lo,{provide:_s,useClass:uo},it,ws,{provide:Gr,useFactory:cx,deps:[it]},_p,[]],vu=(()=>{class n{constructor(){}static forRoot(t,r){return{ngModule:n,providers:[vx,[],{provide:Es,multi:!0,useValue:t},[],r?.errorHandler?{provide:X0,useValue:r.errorHandler}:[],{provide:po,useValue:r||{}},r?.useHash?j$():U$(),V$(),r?.preloadingStrategy?gx(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?B$(r):[],r?.bindToComponentInputs?mx().\u0275providers:[],r?.enableViewTransitions?yx().\u0275providers:[],$$()]}}static forChild(t){return{ngModule:n,providers:[{provide:Es,multi:!0,useValue:t}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=Xn({type:n});static \u0275inj=kn({})}return n})();function V$(){return{provide:lx,useFactory:()=>{let n=L(uM),e=L(lt),t=L(po),r=L(Ep),i=L(_s);return t.scrollOffset&&n.setOffset(t.scrollOffset),new L$(i,r,n,e,t)}}}function j$(){return{provide:Dr,useClass:m0}}function U$(){return{provide:Dr,useClass:$f}}function B$(n){return[n.initialNavigation==="disabled"?fx().\u0275providers:[],n.initialNavigation==="enabledBlocking"?hx().\u0275providers:[]]}var ew=new oe("");function $$(){return[{provide:ew,useFactory:ux},{provide:jc,multi:!0,useExisting:ew}]}var de=function(n){return n[n.State=0]="State",n[n.Transition=1]="Transition",n[n.Sequence=2]="Sequence",n[n.Group=3]="Group",n[n.Animate=4]="Animate",n[n.Keyframes=5]="Keyframes",n[n.Style=6]="Style",n[n.Trigger=7]="Trigger",n[n.Reference=8]="Reference",n[n.AnimateChild=9]="AnimateChild",n[n.AnimateRef=10]="AnimateRef",n[n.Query=11]="Query",n[n.Stagger=12]="Stagger",n}(de||{}),nr="*";function Bn(n,e){return{type:de.Trigger,name:n,definitions:e,options:{}}}function $n(n,e=null){return{type:de.Animate,styles:e,timings:n}}function _x(n,e=null){return{type:de.Sequence,steps:n,options:e}}function ht(n){return{type:de.Style,styles:n,offset:null}}function Ip(n,e,t){return{type:de.State,name:n,styles:e,options:t}}function zn(n,e,t=null){return{type:de.Transition,expr:n,animation:e,options:t}}function bi(n,e,t=null){return{type:de.Query,selector:n,animation:e,options:t}}function Ci(n,e){return{type:de.Stagger,timings:n,animation:e}}var Wr=class{_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_originalOnDoneFns=[];_originalOnStartFns=[];_started=!1;_destroyed=!1;_finished=!1;_position=0;parentPlayer=null;totalTime;constructor(e=0,t=0){this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){let t=e=="start"?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}},bs=class{_onDoneFns=[];_onStartFns=[];_finished=!1;_started=!1;_destroyed=!1;_onDestroyFns=[];parentPlayer=null;totalTime=0;players;constructor(e){this.players=e;let t=0,r=0,i=0,o=this.players.length;o==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++t==o&&this._onFinish()}),s.onDestroy(()=>{++r==o&&this._onDestroy()}),s.onStart(()=>{++i==o&&this._onStart()})}),this.totalTime=this.players.reduce((s,a)=>Math.max(s,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){let t=e*this.totalTime;this.players.forEach(r=>{let i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){let e=this.players.reduce((t,r)=>t===null||r.totalTime>t.totalTime?r:t,null);return e!=null?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){let t=e=="start"?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}},La="!";function wx(n){return new j(3e3,!1)}function z$(){return new j(3100,!1)}function H$(){return new j(3101,!1)}function q$(n){return new j(3001,!1)}function G$(n){return new j(3003,!1)}function W$(n){return new j(3004,!1)}function bx(n,e){return new j(3005,!1)}function Cx(){return new j(3006,!1)}function Ix(){return new j(3007,!1)}function Dx(n,e){return new j(3008,!1)}function Sx(n){return new j(3002,!1)}function Tx(n,e,t,r,i){return new j(3010,!1)}function Ax(){return new j(3011,!1)}function Mx(){return new j(3012,!1)}function xx(){return new j(3200,!1)}function Rx(){return new j(3202,!1)}function Nx(){return new j(3013,!1)}function Px(n){return new j(3014,!1)}function kx(n){return new j(3015,!1)}function Ox(n){return new j(3016,!1)}function Fx(n,e){return new j(3404,!1)}function K$(n){return new j(3502,!1)}function Lx(n){return new j(3503,!1)}function Vx(){return new j(3300,!1)}function jx(n){return new j(3504,!1)}function Ux(n){return new j(3301,!1)}function Bx(n,e){return new j(3302,!1)}function $x(n){return new j(3303,!1)}function zx(n,e){return new j(3400,!1)}function Hx(n){return new j(3401,!1)}function qx(n){return new j(3402,!1)}function Gx(n,e){return new j(3505,!1)}function Ii(n){switch(n.length){case 0:return new Wr;case 1:return n[0];default:return new bs(n)}}function sw(n,e,t=new Map,r=new Map){let i=[],o=[],s=-1,a=null;if(e.forEach(l=>{let u=l.get("offset"),d=u==s,f=d&&a||new Map;l.forEach((p,m)=>{let v=m,w=p;if(m!=="offset")switch(v=n.normalizePropertyName(v,i),w){case La:w=t.get(m);break;case nr:w=r.get(m);break;default:w=n.normalizeStyleValue(m,v,w,i);break}f.set(v,w)}),d||o.push(f),a=f,s=u}),i.length)throw K$(i);return o}function Dp(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&rw(t,"start",n)));break;case"done":n.onDone(()=>r(t&&rw(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&rw(t,"destroy",n)));break}}function rw(n,e,t){let r=t.totalTime,i=!!t.disabled,o=Sp(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,r??n.totalTime,i),s=n._data;return s!=null&&(o._data=s),o}function Sp(n,e,t,r,i="",o=0,s){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:o,disabled:!!s}}function In(n,e,t){let r=n.get(e);return r||n.set(e,r=t),r}function aw(n){let e=n.indexOf(":"),t=n.substring(1,e),r=n.slice(e+1);return[t,r]}var Q$=typeof document>"u"?null:document.documentElement;function Tp(n){let e=n.parentNode||n.host||null;return e===Q$?null:e}function Y$(n){return n.substring(1,6)=="ebkit"}var Cs=null,Ex=!1;function Wx(n){Cs||(Cs=Z$()||{},Ex=Cs.style?"WebkitAppearance"in Cs.style:!1);let e=!0;return Cs.style&&!Y$(n)&&(e=n in Cs.style,!e&&Ex&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in Cs.style)),e}function Z$(){return typeof document<"u"?document.body:null}function lw(n,e){for(;e;){if(e===n)return!0;e=Tp(e)}return!1}function cw(n,e,t){if(t)return Array.from(n.querySelectorAll(e));let r=n.querySelector(e);return r?[r]:[]}var J$=1e3,uw="{{",X$="}}",dw="ng-enter",Ap="ng-leave",_u="ng-trigger",wu=".ng-trigger",hw="ng-animating",Mp=".ng-animating";function Kr(n){if(typeof n=="number")return n;let e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:iw(parseFloat(e[1]),e[2])}function iw(n,e){switch(e){case"s":return n*J$;default:return n}}function Eu(n,e,t){return n.hasOwnProperty("duration")?n:ez(n,e,t)}function ez(n,e,t){let r=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i,i,o=0,s="";if(typeof n=="string"){let a=n.match(r);if(a===null)return e.push(wx(n)),{duration:0,delay:0,easing:""};i=iw(parseFloat(a[1]),a[2]);let l=a[3];l!=null&&(o=iw(parseFloat(l),a[4]));let u=a[5];u&&(s=u)}else i=n;if(!t){let a=!1,l=e.length;i<0&&(e.push(z$()),a=!0),o<0&&(e.push(H$()),a=!0),a&&e.splice(l,0,wx(n))}return{duration:i,delay:o,easing:s}}function Kx(n){return n.length?n[0]instanceof Map?n:n.map(e=>new Map(Object.entries(e))):[]}function Tr(n,e,t){e.forEach((r,i)=>{let o=xp(i);t&&!t.has(i)&&t.set(i,n.style[o]),n.style[o]=r})}function mo(n,e){e.forEach((t,r)=>{let i=xp(r);n.style[i]=""})}function Va(n){return Array.isArray(n)?n.length==1?n[0]:_x(n):n}function Qx(n,e,t){let r=e.params||{},i=fw(n);i.length&&i.forEach(o=>{r.hasOwnProperty(o)||t.push(q$(o))})}var ow=new RegExp(`${uw}\\s*(.+?)\\s*${X$}`,"g");function fw(n){let e=[];if(typeof n=="string"){let t;for(;t=ow.exec(n);)e.push(t[1]);ow.lastIndex=0}return e}function ja(n,e,t){let r=`${n}`,i=r.replace(ow,(o,s)=>{let a=e[s];return a==null&&(t.push(G$(s)),a=""),a.toString()});return i==r?n:i}var tz=/-+([a-z0-9])/g;function xp(n){return n.replace(tz,(...e)=>e[1].toUpperCase())}function Yx(n,e){return n===0||e===0}function Zx(n,e,t){if(t.size&&e.length){let r=e[0],i=[];if(t.forEach((o,s)=>{r.has(s)||i.push(s),r.set(s,o)}),i.length)for(let o=1;o<e.length;o++){let s=e[o];i.forEach(a=>s.set(a,Rp(n,a)))}}return e}function Dn(n,e,t){switch(e.type){case de.Trigger:return n.visitTrigger(e,t);case de.State:return n.visitState(e,t);case de.Transition:return n.visitTransition(e,t);case de.Sequence:return n.visitSequence(e,t);case de.Group:return n.visitGroup(e,t);case de.Animate:return n.visitAnimate(e,t);case de.Keyframes:return n.visitKeyframes(e,t);case de.Style:return n.visitStyle(e,t);case de.Reference:return n.visitReference(e,t);case de.AnimateChild:return n.visitAnimateChild(e,t);case de.AnimateRef:return n.visitAnimateRef(e,t);case de.Query:return n.visitQuery(e,t);case de.Stagger:return n.visitStagger(e,t);default:throw W$(e.type)}}function Rp(n,e){return window.getComputedStyle(n)[e]}var xw=(()=>{class n{validateStyleProperty(t){return Wx(t)}containsElement(t,r){return lw(t,r)}getParentElement(t){return Tp(t)}query(t,r,i){return cw(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,o,s,a=[],l){return new Wr(i,o)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=K({token:n,factory:n.\u0275fac})}return n})(),Ds=class{static NOOP=new xw},Ss=class{};var nz=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),Fp=class extends Ss{normalizePropertyName(e,t){return xp(e)}normalizeStyleValue(e,t,r,i){let o="",s=r.toString().trim();if(nz.has(t)&&r!==0&&r!=="0")if(typeof r=="number")o="px";else{let a=r.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&a[1].length==0&&i.push(bx(e,r))}return s+o}};var Lp="*";function rz(n,e){let t=[];return typeof n=="string"?n.split(/\s*,\s*/).forEach(r=>iz(r,t,e)):t.push(n),t}function iz(n,e,t){if(n[0]==":"){let l=oz(n,t);if(typeof l=="function"){e.push(l);return}n=l}let r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(r==null||r.length<4)return t.push(kx(n)),e;let i=r[1],o=r[2],s=r[3];e.push(Jx(i,s));let a=i==Lp&&s==Lp;o[0]=="<"&&!a&&e.push(Jx(s,i))}function oz(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(Ox(n)),"* => *"}}var Np=new Set(["true","1"]),Pp=new Set(["false","0"]);function Jx(n,e){let t=Np.has(n)||Pp.has(n),r=Np.has(e)||Pp.has(e);return(i,o)=>{let s=n==Lp||n==i,a=e==Lp||e==o;return!s&&t&&typeof i=="boolean"&&(s=i?Np.has(n):Pp.has(n)),!a&&r&&typeof o=="boolean"&&(a=o?Np.has(e):Pp.has(e)),s&&a}}var lR=":self",sz=new RegExp(`s*${lR}s*,?`,"g");function cR(n,e,t,r){return new _w(n).build(e,t,r)}var Xx="",_w=class{_driver;constructor(e){this._driver=e}build(e,t,r){let i=new ww(t);return this._resetContextStyleTimingState(i),Dn(this,Va(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector=Xx,e.collectedStyles=new Map,e.collectedStyles.set(Xx,new Map),e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0,o=[],s=[];return e.name.charAt(0)=="@"&&t.errors.push(Cx()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(t),a.type==de.State){let l=a,u=l.name;u.toString().split(/\s*,\s*/).forEach(d=>{l.name=d,o.push(this.visitState(l,t))}),l.name=u}else if(a.type==de.Transition){let l=this.visitTransition(a,t);r+=l.queryCount,i+=l.depCount,s.push(l)}else t.errors.push(Ix())}),{type:de.Trigger,name:e.name,states:o,transitions:s,queryCount:r,depCount:i,options:null}}visitState(e,t){let r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){let o=new Set,s=i||{};r.styles.forEach(a=>{a instanceof Map&&a.forEach(l=>{fw(l).forEach(u=>{s.hasOwnProperty(u)||o.add(u)})})}),o.size&&t.errors.push(Dx(e.name,[...o.values()]))}return{type:de.State,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;let r=Dn(this,Va(e.animation),t),i=rz(e.expr,t.errors);return{type:de.Transition,matchers:i,animation:r,queryCount:t.queryCount,depCount:t.depCount,options:Is(e.options)}}visitSequence(e,t){return{type:de.Sequence,steps:e.steps.map(r=>Dn(this,r,t)),options:Is(e.options)}}visitGroup(e,t){let r=t.currentTime,i=0,o=e.steps.map(s=>{t.currentTime=r;let a=Dn(this,s,t);return i=Math.max(i,t.currentTime),a});return t.currentTime=i,{type:de.Group,steps:o,options:Is(e.options)}}visitAnimate(e,t){let r=uz(e.timings,t.errors);t.currentAnimateTimings=r;let i,o=e.styles?e.styles:ht({});if(o.type==de.Keyframes)i=this.visitKeyframes(o,t);else{let s=e.styles,a=!1;if(!s){a=!0;let u={};r.easing&&(u.easing=r.easing),s=ht(u)}t.currentTime+=r.duration+r.delay;let l=this.visitStyle(s,t);l.isEmptyStep=a,i=l}return t.currentAnimateTimings=null,{type:de.Animate,timings:r,style:i,options:null}}visitStyle(e,t){let r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){let r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of i)typeof a=="string"?a===nr?r.push(a):t.errors.push(Sx(a)):r.push(new Map(Object.entries(a)));let o=!1,s=null;return r.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(s=a.get("easing"),a.delete("easing")),!o)){for(let l of a.values())if(l.toString().indexOf(uw)>=0){o=!0;break}}}),{type:de.Style,styles:r,easing:s,offset:e.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(e,t){let r=t.currentAnimateTimings,i=t.currentTime,o=t.currentTime;r&&o>0&&(o-=r.duration+r.delay),e.styles.forEach(s=>{typeof s!="string"&&s.forEach((a,l)=>{let u=t.collectedStyles.get(t.currentQuerySelector),d=u.get(l),f=!0;d&&(o!=i&&o>=d.startTime&&i<=d.endTime&&(t.errors.push(Tx(l,d.startTime,d.endTime,o,i)),f=!1),o=d.startTime),f&&u.set(l,{startTime:o,endTime:i}),t.options&&Qx(a,t.options,t.errors)})})}visitKeyframes(e,t){let r={type:de.Keyframes,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(Ax()),r;let i=1,o=0,s=[],a=!1,l=!1,u=0,d=e.steps.map(N=>{let O=this._makeStyleAst(N,t),U=O.offset!=null?O.offset:cz(O.styles),q=0;return U!=null&&(o++,q=O.offset=U),l=l||q<0||q>1,a=a||q<u,u=q,s.push(q),O});l&&t.errors.push(Mx()),a&&t.errors.push(xx());let f=e.steps.length,p=0;o>0&&o<f?t.errors.push(Rx()):o==0&&(p=i/(f-1));let m=f-1,v=t.currentTime,w=t.currentAnimateTimings,A=w.duration;return d.forEach((N,O)=>{let U=p>0?O==m?1:p*O:s[O],q=U*A;t.currentTime=v+w.delay+q,w.duration=q,this._validateStyleAst(N,t),N.offset=U,r.styles.push(N)}),r}visitReference(e,t){return{type:de.Reference,animation:Dn(this,Va(e.animation),t),options:Is(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:de.AnimateChild,options:Is(e.options)}}visitAnimateRef(e,t){return{type:de.AnimateRef,animation:this.visitReference(e.animation,t),options:Is(e.options)}}visitQuery(e,t){let r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;let[o,s]=az(e.selector);t.currentQuerySelector=r.length?r+" "+o:o,In(t.collectedStyles,t.currentQuerySelector,new Map);let a=Dn(this,Va(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:de.Query,selector:o,limit:i.limit||0,optional:!!i.optional,includeSelf:s,animation:a,originalSelector:e.selector,options:Is(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(Nx());let r=e.timings==="full"?{duration:0,delay:0,easing:"full"}:Eu(e.timings,t.errors,!0);return{type:de.Stagger,animation:Dn(this,Va(e.animation),t),timings:r,options:null}}};function az(n){let e=!!n.split(/\s*,\s*/).find(t=>t==lR);return e&&(n=n.replace(sz,"")),n=n.replace(/@\*/g,wu).replace(/@\w+/g,t=>wu+"-"+t.slice(1)).replace(/:animating/g,Mp),[n,e]}function lz(n){return n?B({},n):null}var ww=class{errors;queryCount=0;depCount=0;currentTransition=null;currentQuery=null;currentQuerySelector=null;currentAnimateTimings=null;currentTime=0;collectedStyles=new Map;options=null;unsupportedCSSPropertiesFound=new Set;constructor(e){this.errors=e}};function cz(n){if(typeof n=="string")return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){let r=t;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){let t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}function uz(n,e){if(n.hasOwnProperty("duration"))return n;if(typeof n=="number"){let o=Eu(n,e).duration;return pw(o,0,"")}let t=n;if(t.split(/\s+/).some(o=>o.charAt(0)=="{"&&o.charAt(1)=="{")){let o=pw(0,0,"");return o.dynamic=!0,o.strValue=t,o}let i=Eu(t,e);return pw(i.duration,i.delay,i.easing)}function Is(n){return n?(n=B({},n),n.params&&(n.params=lz(n.params))):n={},n}function pw(n,e,t){return{duration:n,delay:e,easing:t}}function Rw(n,e,t,r,i,o,s=null,a=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:o,totalTime:i+o,easing:s,subTimeline:a}}var Cu=class{_map=new Map;get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}},dz=1,hz=":enter",fz=new RegExp(hz,"g"),pz=":leave",gz=new RegExp(pz,"g");function uR(n,e,t,r,i,o=new Map,s=new Map,a,l,u=[]){return new Ew().buildKeyframes(n,e,t,r,i,o,s,a,l,u)}var Ew=class{buildKeyframes(e,t,r,i,o,s,a,l,u,d=[]){u=u||new Cu;let f=new bw(e,t,u,i,o,d,[]);f.options=l;let p=l.delay?Kr(l.delay):0;f.currentTimeline.delayNextStep(p),f.currentTimeline.setStyles([s],null,f.errors,l),Dn(this,r,f);let m=f.timelines.filter(v=>v.containsAnimation());if(m.length&&a.size){let v;for(let w=m.length-1;w>=0;w--){let A=m[w];if(A.element===t){v=A;break}}v&&!v.allowOnlyTimelineStyles()&&v.setStyles([a],null,f.errors,l)}return m.length?m.map(v=>v.buildKeyframes()):[Rw(t,[],[],[],0,p,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){let r=t.subInstructions.get(t.element);if(r){let i=t.createSubContext(e.options),o=t.currentTimeline.currentTime,s=this._visitSubInstructions(r,i,i.options);o!=s&&t.transformIntoNewTimeline(s)}t.previousNode=e}visitAnimateRef(e,t){let r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,r),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,r){for(let i of e){let o=i?.delay;if(o){let s=typeof o=="number"?o:Kr(ja(o,i?.params??{},t.errors));r.delayNextStep(s)}}}_visitSubInstructions(e,t,r){let o=t.currentTimeline.currentTime,s=r.duration!=null?Kr(r.duration):null,a=r.delay!=null?Kr(r.delay):null;return s!==0&&e.forEach(l=>{let u=t.appendInstructionToTimeline(l,s,a);o=Math.max(o,u.duration+u.delay)}),o}visitReference(e,t){t.updateOptions(e.options,!0),Dn(this,e.animation,t),t.previousNode=e}visitSequence(e,t){let r=t.subContextCount,i=t,o=e.options;if(o&&(o.params||o.delay)&&(i=t.createSubContext(o),i.transformIntoNewTimeline(),o.delay!=null)){i.previousNode.type==de.Style&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=Vp);let s=Kr(o.delay);i.delayNextStep(s)}e.steps.length&&(e.steps.forEach(s=>Dn(this,s,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){let r=[],i=t.currentTimeline.currentTime,o=e.options&&e.options.delay?Kr(e.options.delay):0;e.steps.forEach(s=>{let a=t.createSubContext(e.options);o&&a.delayNextStep(o),Dn(this,s,a),i=Math.max(i,a.currentTimeline.currentTime),r.push(a.currentTimeline)}),r.forEach(s=>t.currentTimeline.mergeTimelineCollectedStyles(s)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){let r=e.strValue,i=t.params?ja(r,t.params,t.errors):r;return Eu(i,t.errors)}else return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){let r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());let o=e.style;o.type==de.Keyframes?this.visitKeyframes(o,t):(t.incrementTime(r.duration),this.visitStyle(o,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){let r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();let o=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(o):r.setStyles(e.styles,o,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){let r=t.currentAnimateTimings,i=t.currentTimeline.duration,o=r.duration,a=t.createSubContext().currentTimeline;a.easing=r.easing,e.styles.forEach(l=>{let u=l.offset||0;a.forwardTime(u*o),a.setStyles(l.styles,l.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(i+o),t.previousNode=e}visitQuery(e,t){let r=t.currentTimeline.currentTime,i=e.options||{},o=i.delay?Kr(i.delay):0;o&&(t.previousNode.type===de.Style||r==0&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=Vp);let s=r,a=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=a.length;let l=null;a.forEach((u,d)=>{t.currentQueryIndex=d;let f=t.createSubContext(e.options,u);o&&f.delayNextStep(o),u===t.element&&(l=f.currentTimeline),Dn(this,e.animation,f),f.currentTimeline.applyStylesToKeyframe();let p=f.currentTimeline.currentTime;s=Math.max(s,p)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(s),l&&(t.currentTimeline.mergeTimelineCollectedStyles(l),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){let r=t.parentContext,i=t.currentTimeline,o=e.timings,s=Math.abs(o.duration),a=s*(t.currentQueryTotal-1),l=s*t.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":l=a-l;break;case"full":l=r.currentStaggerTime;break}let d=t.currentTimeline;l&&d.delayNextStep(l);let f=d.currentTime;Dn(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-f+(i.startTime-r.currentTimeline.startTime)}},Vp={},bw=class n{_driver;element;subInstructions;_enterClassName;_leaveClassName;errors;timelines;parentContext=null;currentTimeline;currentAnimateTimings=null;previousNode=Vp;subContextCount=0;options={};currentQueryIndex=0;currentQueryTotal=0;currentStaggerTime=0;constructor(e,t,r,i,o,s,a,l){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=o,this.errors=s,this.timelines=a,this.currentTimeline=l||new jp(this._driver,t,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;let r=e,i=this.options;r.duration!=null&&(i.duration=Kr(r.duration)),r.delay!=null&&(i.delay=Kr(r.delay));let o=r.params;if(o){let s=i.params;s||(s=this.options.params={}),Object.keys(o).forEach(a=>{(!t||!s.hasOwnProperty(a))&&(s[a]=ja(o[a],s,this.errors))})}}_copyOptions(){let e={};if(this.options){let t=this.options.params;if(t){let r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){let i=t||this.element,o=new n(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(e),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(e){return this.previousNode=Vp,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){let i={duration:t??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},o=new Cw(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(o),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,o,s){let a=[];if(i&&a.push(this.element),e.length>0){e=e.replace(fz,"."+this._enterClassName),e=e.replace(gz,"."+this._leaveClassName);let l=r!=1,u=this._driver.query(this.element,e,l);r!==0&&(u=r<0?u.slice(u.length+r,u.length):u.slice(0,r)),a.push(...u)}return!o&&a.length==0&&s.push(Px(t)),a}},jp=class n{_driver;element;startTime;_elementTimelineStylesLookup;duration=0;easing=null;_previousKeyframe=new Map;_currentKeyframe=new Map;_keyframes=new Map;_styleSummary=new Map;_localTimelineStyles=new Map;_globalTimelineStyles;_pendingStyles=new Map;_backFill=new Map;_currentEmptyStepKeyframe=null;constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){let t=this._keyframes.size===1&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new n(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=dz,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,r]of this._globalTimelineStyles)this._backFill.set(t,r||nr),this._currentKeyframe.set(t,nr);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&this._previousKeyframe.set("easing",t);let o=i&&i.params||{},s=mz(e,this._globalTimelineStyles);for(let[a,l]of s){let u=ja(l,o,r);this._pendingStyles.set(a,u),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??nr),this._updateStyle(a,u)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,r)=>{let i=this._styleSummary.get(r);(!i||t.time>i.time)&&this._updateStyle(r,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();let e=new Set,t=new Set,r=this._keyframes.size===1&&this.duration===0,i=[];this._keyframes.forEach((a,l)=>{let u=new Map([...this._backFill,...a]);u.forEach((d,f)=>{d===La?e.add(f):d===nr&&t.add(f)}),r||u.set("offset",l/this.duration),i.push(u)});let o=[...e.values()],s=[...t.values()];if(r){let a=i[0],l=new Map(a);a.set("offset",0),l.set("offset",1),i=[a,l]}return Rw(this.element,i,o,s,this.duration,this.startTime,this.easing,!1)}},Cw=class extends jp{keyframes;preStyleProps;postStyleProps;_stretchStartingKeyframe;timings;constructor(e,t,r,i,o,s,a=!1){super(e,t,s.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=o,this._stretchStartingKeyframe=a,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){let o=[],s=r+t,a=t/s,l=new Map(e[0]);l.set("offset",0),o.push(l);let u=new Map(e[0]);u.set("offset",eR(a)),o.push(u);let d=e.length-1;for(let f=1;f<=d;f++){let p=new Map(e[f]),m=p.get("offset"),v=t+m*r;p.set("offset",eR(v/s)),o.push(p)}r=s,t=0,i="",e=o}return Rw(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}};function eR(n,e=3){let t=Math.pow(10,e-1);return Math.round(n*t)/t}function mz(n,e){let t=new Map,r;return n.forEach(i=>{if(i==="*"){r??=e.keys();for(let o of r)t.set(o,nr)}else for(let[o,s]of i)t.set(o,s)}),t}function tR(n,e,t,r,i,o,s,a,l,u,d,f,p){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:o,toState:r,toStyles:s,timelines:a,queriedElements:l,preStyleProps:u,postStyleProps:d,totalTime:f,errors:p}}var gw={},Up=class{_triggerName;ast;_stateStyles;constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return yz(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){let i=this._stateStyles.get("*");return e!==void 0&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(t,r):new Map}build(e,t,r,i,o,s,a,l,u,d){let f=[],p=this.ast.options&&this.ast.options.params||gw,m=a&&a.params||gw,v=this.buildStyles(r,m,f),w=l&&l.params||gw,A=this.buildStyles(i,w,f),N=new Set,O=new Map,U=new Map,q=i==="void",Ee={params:dR(w,p),delay:this.ast.options?.delay},ae=d?[]:uR(e,t,this.ast.animation,o,s,v,A,Ee,u,f),D=0;return ae.forEach(_=>{D=Math.max(_.duration+_.delay,D)}),f.length?tR(t,this._triggerName,r,i,q,v,A,[],[],O,U,D,f):(ae.forEach(_=>{let E=_.element,S=In(O,E,new Set);_.preStyleProps.forEach(x=>S.add(x));let M=In(U,E,new Set);_.postStyleProps.forEach(x=>M.add(x)),E!==t&&N.add(E)}),tR(t,this._triggerName,r,i,q,v,A,ae,[...N.values()],O,U,D))}};function yz(n,e,t,r,i){return n.some(o=>o(e,t,r,i))}function dR(n,e){let t=B({},e);return Object.entries(n).forEach(([r,i])=>{i!=null&&(t[r]=i)}),t}var Iw=class{styles;defaultParams;normalizer;constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){let r=new Map,i=dR(e,this.defaultParams);return this.styles.styles.forEach(o=>{typeof o!="string"&&o.forEach((s,a)=>{s&&(s=ja(s,i,t));let l=this.normalizer.normalizePropertyName(a,t);s=this.normalizer.normalizeStyleValue(a,l,s,t),r.set(a,s)})}),r}};function vz(n,e,t){return new Dw(n,e,t)}var Dw=class{name;ast;_normalizer;transitionFactories=[];fallbackTransition;states=new Map;constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,t.states.forEach(i=>{let o=i.options&&i.options.params||{};this.states.set(i.name,new Iw(i.style,o,r))}),nR(this.states,"true","1"),nR(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new Up(e,i,this.states))}),this.fallbackTransition=_z(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(s=>s.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}};function _z(n,e,t){let r=[(s,a)=>!0],i={type:de.Sequence,steps:[],options:null},o={type:de.Transition,animation:i,matchers:r,options:null,queryCount:0,depCount:0};return new Up(n,o,e)}function nR(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}var wz=new Cu,Sw=class{bodyNode;_driver;_normalizer;_animations=new Map;_playersById=new Map;players=[];constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r}register(e,t){let r=[],i=[],o=cR(this._driver,t,r,i);if(r.length)throw Lx(r);this._animations.set(e,o)}_buildPlayer(e,t,r){let i=e.element,o=sw(this._normalizer,e.keyframes,t,r);return this._driver.animate(i,o,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){let i=[],o=this._animations.get(e),s,a=new Map;if(o?(s=uR(this._driver,t,o,dw,Ap,new Map,new Map,r,wz,i),s.forEach(d=>{let f=In(a,d.element,new Map);d.postStyleProps.forEach(p=>f.set(p,null))})):(i.push(Vx()),s=[]),i.length)throw jx(i);a.forEach((d,f)=>{d.forEach((p,m)=>{d.set(m,this._driver.computeStyle(f,m,nr))})});let l=s.map(d=>{let f=a.get(d.element);return this._buildPlayer(d,new Map,f)}),u=Ii(l);return this._playersById.set(e,u),u.onDestroy(()=>this.destroy(e)),this.players.push(u),u}destroy(e){let t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);let r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){let t=this._playersById.get(e);if(!t)throw Ux(e);return t}listen(e,t,r,i){let o=Sp(t,"","","");return Dp(this._getPlayer(e),r,o,i),()=>{}}command(e,t,r,i){if(r=="register"){this.register(e,i[0]);return}if(r=="create"){let s=i[0]||{};this.create(e,t,s);return}let o=this._getPlayer(e);switch(r){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e);break}}},rR="ng-animate-queued",Ez=".ng-animate-queued",mw="ng-animate-disabled",bz=".ng-animate-disabled",Cz="ng-star-inserted",Iz=".ng-star-inserted",Dz=[],hR={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Sz={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Ar="__ng_removed",Iu=class{namespaceId;value;options;get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;let r=e&&e.hasOwnProperty("value"),i=r?e.value:e;if(this.value=Az(i),r){let o=e,{value:s}=o,a=mS(o,["value"]);this.options=a}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){let t=e.params;if(t){let r=this.options.params;Object.keys(t).forEach(i=>{r[i]==null&&(r[i]=t[i])})}}},bu="void",yw=new Iu(bu),Tw=class{id;hostElement;_engine;players=[];_triggers=new Map;_queue=[];_elementListeners=new Map;_hostClassName;constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this._hostClassName="ng-tns-"+e,rr(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.has(t))throw Bx(r,t);if(r==null||r.length==0)throw $x(t);if(!Mz(r))throw zx(r,t);let o=In(this._elementListeners,e,[]),s={name:t,phase:r,callback:i};o.push(s);let a=In(this._engine.statesByElement,e,new Map);return a.has(t)||(rr(e,_u),rr(e,_u+"-"+t),a.set(t,yw)),()=>{this._engine.afterFlush(()=>{let l=o.indexOf(s);l>=0&&o.splice(l,1),this._triggers.has(t)||a.delete(t)})}}register(e,t){return this._triggers.has(e)?!1:(this._triggers.set(e,t),!0)}_getTrigger(e){let t=this._triggers.get(e);if(!t)throw Hx(e);return t}trigger(e,t,r,i=!0){let o=this._getTrigger(t),s=new Du(this.id,t,e),a=this._engine.statesByElement.get(e);a||(rr(e,_u),rr(e,_u+"-"+t),this._engine.statesByElement.set(e,a=new Map));let l=a.get(t),u=new Iu(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&l&&u.absorbOptions(l.options),a.set(t,u),l||(l=yw),!(u.value===bu)&&l.value===u.value){if(!Nz(l.params,u.params)){let w=[],A=o.matchStyles(l.value,l.params,w),N=o.matchStyles(u.value,u.params,w);w.length?this._engine.reportError(w):this._engine.afterFlush(()=>{mo(e,A),Tr(e,N)})}return}let p=In(this._engine.playersByElement,e,[]);p.forEach(w=>{w.namespaceId==this.id&&w.triggerName==t&&w.queued&&w.destroy()});let m=o.matchTransition(l.value,u.value,e,u.params),v=!1;if(!m){if(!i)return;m=o.fallbackTransition,v=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:m,fromState:l,toState:u,player:s,isFallbackTransition:v}),v||(rr(e,rR),s.onStart(()=>{Ua(e,rR)})),s.onDone(()=>{let w=this.players.indexOf(s);w>=0&&this.players.splice(w,1);let A=this._engine.playersByElement.get(e);if(A){let N=A.indexOf(s);N>=0&&A.splice(N,1)}}),this.players.push(s),p.push(s),s}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);let t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){let r=this._engine.driver.query(e,wu,!0);r.forEach(i=>{if(i[Ar])return;let o=this._engine.fetchNamespacesByElement(i);o.size?o.forEach(s=>s.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){let o=this._engine.statesByElement.get(e),s=new Map;if(o){let a=[];if(o.forEach((l,u)=>{if(s.set(u,l.value),this._triggers.has(u)){let d=this.trigger(e,u,bu,i);d&&a.push(d)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,s),r&&Ii(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){let t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){let i=new Set;t.forEach(o=>{let s=o.name;if(i.has(s))return;i.add(s);let l=this._triggers.get(s).fallbackTransition,u=r.get(s)||yw,d=new Iu(bu),f=new Du(this.id,s,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:s,transition:l,fromState:u,toState:d,player:f,isFallbackTransition:!0})})}}removeNode(e,t){let r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){let o=r.players.length?r.playersByQueriedElement.get(e):[];if(o&&o.length)i=!0;else{let s=e;for(;s=s.parentNode;)if(r.statesByElement.get(s)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{let o=e[Ar];(!o||o===hR)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){rr(e,this._hostClassName)}drainQueuedTransitions(e){let t=[];return this._queue.forEach(r=>{let i=r.player;if(i.destroyed)return;let o=r.element,s=this._elementListeners.get(o);s&&s.forEach(a=>{if(a.name==r.triggerName){let l=Sp(o,r.triggerName,r.fromState.value,r.toState.value);l._data=e,Dp(r.player,a.phase,l,a.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{let o=r.transition.ast.depCount,s=i.transition.ast.depCount;return o==0||s==0?o-s:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}},Aw=class{bodyNode;driver;_normalizer;players=[];newHostElements=new Map;playersByElement=new Map;playersByQueriedElement=new Map;statesByElement=new Map;disabledNodes=new Set;totalAnimations=0;totalQueuedPlayers=0;_namespaceLookup={};_namespaceList=[];_flushFns=[];_whenQuietFns=[];namespacesByHostElement=new Map;collectedEnterElements=[];collectedLeaveElements=[];onRemovalComplete=(e,t)=>{};_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r}get queuedPlayers(){let e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){let r=new Tw(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){let r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let s=!1,a=this.driver.getParentElement(t);for(;a;){let l=i.get(a);if(l){let u=r.indexOf(l);r.splice(u+1,0,e),s=!0;break}a=this.driver.getParentElement(a)}s||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let r=this._fetchNamespace(e);this.namespacesByHostElement.delete(r.hostElement);let i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1),r.destroy(t),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){let t=new Set,r=this.statesByElement.get(e);if(r){for(let i of r.values())if(i.namespaceId){let o=this._fetchNamespace(i.namespaceId);o&&t.add(o)}}return t}trigger(e,t,r,i){if(kp(t)){let o=this._fetchNamespace(e);if(o)return o.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!kp(t))return;let o=t[Ar];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;let s=this.collectedLeaveElements.indexOf(t);s>=0&&this.collectedLeaveElements.splice(s,1)}if(e){let s=this._fetchNamespace(e);s&&s.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),rr(e,mw)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Ua(e,mw))}removeNode(e,t,r){if(kp(t)){let i=e?this._fetchNamespace(e):null;i?i.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r);let o=this.namespacesByHostElement.get(t);o&&o.id!==e&&o.removeNode(t,r)}else this._onRemovalComplete(t,r)}markElementAsRemoved(e,t,r,i,o){this.collectedLeaveElements.push(t),t[Ar]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:o}}listen(e,t,r,i,o){return kp(t)?this._fetchNamespace(e).listen(t,r,i,o):()=>{}}_buildInstruction(e,t,r,i,o){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,o)}destroyInnerAnimations(e){let t=this.driver.query(e,wu,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),this.playersByQueriedElement.size!=0&&(t=this.driver.query(e,Mp,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){let t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){let t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Ii(this.players).onDone(()=>e());e()})}processLeaveNode(e){let t=e[Ar];if(t&&t.setForRemoval){if(e[Ar]=hR,t.namespaceId){this.destroyInnerAnimations(e);let r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(mw)&&this.markElementAsDisabled(e,!1),this.driver.query(e,bz,!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++){let i=this.collectedEnterElements[r];rr(i,Cz)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++){let i=this.collectedLeaveElements[r];this.processLeaveNode(i)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){let r=this._whenQuietFns;this._whenQuietFns=[],t.length?Ii(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw qx(e)}_flushAnimations(e,t){let r=new Cu,i=[],o=new Map,s=[],a=new Map,l=new Map,u=new Map,d=new Set;this.disabledNodes.forEach(W=>{d.add(W);let Z=this.driver.query(W,Ez,!0);for(let te=0;te<Z.length;te++)d.add(Z[te])});let f=this.bodyNode,p=Array.from(this.statesByElement.keys()),m=sR(p,this.collectedEnterElements),v=new Map,w=0;m.forEach((W,Z)=>{let te=dw+w++;v.set(Z,te),W.forEach(ce=>rr(ce,te))});let A=[],N=new Set,O=new Set;for(let W=0;W<this.collectedLeaveElements.length;W++){let Z=this.collectedLeaveElements[W],te=Z[Ar];te&&te.setForRemoval&&(A.push(Z),N.add(Z),te.hasAnimation?this.driver.query(Z,Iz,!0).forEach(ce=>N.add(ce)):O.add(Z))}let U=new Map,q=sR(p,Array.from(N));q.forEach((W,Z)=>{let te=Ap+w++;U.set(Z,te),W.forEach(ce=>rr(ce,te))}),e.push(()=>{m.forEach((W,Z)=>{let te=v.get(Z);W.forEach(ce=>Ua(ce,te))}),q.forEach((W,Z)=>{let te=U.get(Z);W.forEach(ce=>Ua(ce,te))}),A.forEach(W=>{this.processLeaveNode(W)})});let Ee=[],ae=[];for(let W=this._namespaceList.length-1;W>=0;W--)this._namespaceList[W].drainQueuedTransitions(t).forEach(te=>{let ce=te.player,qe=te.element;if(Ee.push(ce),this.collectedEnterElements.length){let et=qe[Ar];if(et&&et.setForMove){if(et.previousTriggersValues&&et.previousTriggersValues.has(te.triggerName)){let hr=et.previousTriggersValues.get(te.triggerName),Yt=this.statesByElement.get(te.element);if(Yt&&Yt.has(te.triggerName)){let Lt=Yt.get(te.triggerName);Lt.value=hr,Yt.set(te.triggerName,Lt)}}ce.destroy();return}}let xt=!f||!this.driver.containsElement(f,qe),Ce=U.get(qe),Ie=v.get(qe),be=this._buildInstruction(te,r,Ie,Ce,xt);if(be.errors&&be.errors.length){ae.push(be);return}if(xt){ce.onStart(()=>mo(qe,be.fromStyles)),ce.onDestroy(()=>Tr(qe,be.toStyles)),i.push(ce);return}if(te.isFallbackTransition){ce.onStart(()=>mo(qe,be.fromStyles)),ce.onDestroy(()=>Tr(qe,be.toStyles)),i.push(ce);return}let ln=[];be.timelines.forEach(et=>{et.stretchStartingKeyframe=!0,this.disabledNodes.has(et.element)||ln.push(et)}),be.timelines=ln,r.append(qe,be.timelines);let Gn={instruction:be,player:ce,element:qe};s.push(Gn),be.queriedElements.forEach(et=>In(a,et,[]).push(ce)),be.preStyleProps.forEach((et,hr)=>{if(et.size){let Yt=l.get(hr);Yt||l.set(hr,Yt=new Set),et.forEach((Lt,Nr)=>Yt.add(Nr))}}),be.postStyleProps.forEach((et,hr)=>{let Yt=u.get(hr);Yt||u.set(hr,Yt=new Set),et.forEach((Lt,Nr)=>Yt.add(Nr))})});if(ae.length){let W=[];ae.forEach(Z=>{W.push(Gx(Z.triggerName,Z.errors))}),Ee.forEach(Z=>Z.destroy()),this.reportError(W)}let D=new Map,_=new Map;s.forEach(W=>{let Z=W.element;r.has(Z)&&(_.set(Z,Z),this._beforeAnimationBuild(W.player.namespaceId,W.instruction,D))}),i.forEach(W=>{let Z=W.element;this._getPreviousPlayers(Z,!1,W.namespaceId,W.triggerName,null).forEach(ce=>{In(D,Z,[]).push(ce),ce.destroy()})});let E=A.filter(W=>aR(W,l,u)),S=new Map;oR(S,this.driver,O,u,nr).forEach(W=>{aR(W,l,u)&&E.push(W)});let x=new Map;m.forEach((W,Z)=>{oR(x,this.driver,new Set(W),l,La)}),E.forEach(W=>{let Z=S.get(W),te=x.get(W);S.set(W,new Map([...Z?.entries()??[],...te?.entries()??[]]))});let b=[],at=[],Mt={};s.forEach(W=>{let{element:Z,player:te,instruction:ce}=W;if(r.has(Z)){if(d.has(Z)){te.onDestroy(()=>Tr(Z,ce.toStyles)),te.disabled=!0,te.overrideTotalTime(ce.totalTime),i.push(te);return}let qe=Mt;if(_.size>1){let Ce=Z,Ie=[];for(;Ce=Ce.parentNode;){let be=_.get(Ce);if(be){qe=be;break}Ie.push(Ce)}Ie.forEach(be=>_.set(be,qe))}let xt=this._buildAnimation(te.namespaceId,ce,D,o,x,S);if(te.setRealPlayer(xt),qe===Mt)b.push(te);else{let Ce=this.playersByElement.get(qe);Ce&&Ce.length&&(te.parentPlayer=Ii(Ce)),i.push(te)}}else mo(Z,ce.fromStyles),te.onDestroy(()=>Tr(Z,ce.toStyles)),at.push(te),d.has(Z)&&i.push(te)}),at.forEach(W=>{let Z=o.get(W.element);if(Z&&Z.length){let te=Ii(Z);W.setRealPlayer(te)}}),i.forEach(W=>{W.parentPlayer?W.syncPlayerEvents(W.parentPlayer):W.destroy()});for(let W=0;W<A.length;W++){let Z=A[W],te=Z[Ar];if(Ua(Z,Ap),te&&te.hasAnimation)continue;let ce=[];if(a.size){let xt=a.get(Z);xt&&xt.length&&ce.push(...xt);let Ce=this.driver.query(Z,Mp,!0);for(let Ie=0;Ie<Ce.length;Ie++){let be=a.get(Ce[Ie]);be&&be.length&&ce.push(...be)}}let qe=ce.filter(xt=>!xt.destroyed);qe.length?xz(this,Z,qe):this.processLeaveNode(Z)}return A.length=0,b.forEach(W=>{this.players.push(W),W.onDone(()=>{W.destroy();let Z=this.players.indexOf(W);this.players.splice(Z,1)}),W.play()}),b}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,o){let s=[];if(t){let a=this.playersByQueriedElement.get(e);a&&(s=a)}else{let a=this.playersByElement.get(e);if(a){let l=!o||o==bu;a.forEach(u=>{u.queued||!l&&u.triggerName!=i||s.push(u)})}}return(r||i)&&(s=s.filter(a=>!(r&&r!=a.namespaceId||i&&i!=a.triggerName))),s}_beforeAnimationBuild(e,t,r){let i=t.triggerName,o=t.element,s=t.isRemovalTransition?void 0:e,a=t.isRemovalTransition?void 0:i;for(let l of t.timelines){let u=l.element,d=u!==o,f=In(r,u,[]);this._getPreviousPlayers(u,d,s,a,t.toState).forEach(m=>{let v=m.getRealPlayer();v.beforeDestroy&&v.beforeDestroy(),m.destroy(),f.push(m)})}mo(o,t.fromStyles)}_buildAnimation(e,t,r,i,o,s){let a=t.triggerName,l=t.element,u=[],d=new Set,f=new Set,p=t.timelines.map(v=>{let w=v.element;d.add(w);let A=w[Ar];if(A&&A.removedBeforeQueried)return new Wr(v.duration,v.delay);let N=w!==l,O=Rz((r.get(w)||Dz).map(D=>D.getRealPlayer())).filter(D=>{let _=D;return _.element?_.element===w:!1}),U=o.get(w),q=s.get(w),Ee=sw(this._normalizer,v.keyframes,U,q),ae=this._buildPlayer(v,Ee,O);if(v.subTimeline&&i&&f.add(w),N){let D=new Du(e,a,w);D.setRealPlayer(ae),u.push(D)}return ae});u.forEach(v=>{In(this.playersByQueriedElement,v.element,[]).push(v),v.onDone(()=>Tz(this.playersByQueriedElement,v.element,v))}),d.forEach(v=>rr(v,hw));let m=Ii(p);return m.onDestroy(()=>{d.forEach(v=>Ua(v,hw)),Tr(l,t.toStyles)}),f.forEach(v=>{In(i,v,[]).push(m)}),m}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new Wr(e.duration,e.delay)}},Du=class{namespaceId;triggerName;element;_player=new Wr;_containsRealPlayer=!1;_queuedCallbacks=new Map;destroyed=!1;parentPlayer=null;markedForDestroy=!1;disabled=!1;queued=!0;totalTime=0;constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,r)=>{t.forEach(i=>Dp(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){let t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){In(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){let t=this._player;t.triggerCallback&&t.triggerCallback(e)}};function Tz(n,e,t){let r=n.get(e);if(r){if(r.length){let i=r.indexOf(t);r.splice(i,1)}r.length==0&&n.delete(e)}return r}function Az(n){return n??null}function kp(n){return n&&n.nodeType===1}function Mz(n){return n=="start"||n=="done"}function iR(n,e){let t=n.style.display;return n.style.display=e??"none",t}function oR(n,e,t,r,i){let o=[];t.forEach(l=>o.push(iR(l)));let s=[];r.forEach((l,u)=>{let d=new Map;l.forEach(f=>{let p=e.computeStyle(u,f,i);d.set(f,p),(!p||p.length==0)&&(u[Ar]=Sz,s.push(u))}),n.set(u,d)});let a=0;return t.forEach(l=>iR(l,o[a++])),s}function sR(n,e){let t=new Map;if(n.forEach(a=>t.set(a,[])),e.length==0)return t;let r=1,i=new Set(e),o=new Map;function s(a){if(!a)return r;let l=o.get(a);if(l)return l;let u=a.parentNode;return t.has(u)?l=u:i.has(u)?l=r:l=s(u),o.set(a,l),l}return e.forEach(a=>{let l=s(a);l!==r&&t.get(l).push(a)}),t}function rr(n,e){n.classList?.add(e)}function Ua(n,e){n.classList?.remove(e)}function xz(n,e,t){Ii(t).onDone(()=>n.processLeaveNode(e))}function Rz(n){let e=[];return fR(n,e),e}function fR(n,e){for(let t=0;t<n.length;t++){let r=n[t];r instanceof bs?fR(r.players,e):e.push(r)}}function Nz(n,e){let t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){let o=t[i];if(!e.hasOwnProperty(o)||n[o]!==e[o])return!1}return!0}function aR(n,e,t){let r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(o=>i.add(o)):e.set(n,r),t.delete(n),!0}var Ba=class{_driver;_normalizer;_transitionEngine;_timelineEngine;_triggerCache={};onRemovalComplete=(e,t)=>{};constructor(e,t,r){this._driver=t,this._normalizer=r,this._transitionEngine=new Aw(e.body,t,r),this._timelineEngine=new Sw(e.body,t,r),this._transitionEngine.onRemovalComplete=(i,o)=>this.onRemovalComplete(i,o)}registerTrigger(e,t,r,i,o){let s=e+"-"+i,a=this._triggerCache[s];if(!a){let l=[],u=[],d=cR(this._driver,o,l,u);if(l.length)throw Fx(i,l);a=vz(i,d,this._normalizer),this._triggerCache[s]=a}this._transitionEngine.registerTrigger(t,i,a)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r){this._transitionEngine.removeNode(e,t,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if(r.charAt(0)=="@"){let[o,s]=aw(r),a=i;this._timelineEngine.command(o,t,s,a)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,o){if(r.charAt(0)=="@"){let[s,a]=aw(r);return this._timelineEngine.listen(s,t,a,o)}return this._transitionEngine.listen(e,t,r,i,o)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}};function Pz(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=vw(e[0]),e.length>1&&(r=vw(e[e.length-1]))):e instanceof Map&&(t=vw(e)),t||r?new kz(n,t,r):null}var kz=(()=>{class n{_element;_startStyles;_endStyles;static initialStylesByElement=new WeakMap;_state=0;_initialStyles;constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i;let o=n.initialStylesByElement.get(t);o||n.initialStylesByElement.set(t,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&Tr(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Tr(this._element,this._initialStyles),this._endStyles&&(Tr(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(mo(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(mo(this._element,this._endStyles),this._endStyles=null),Tr(this._element,this._initialStyles),this._state=3)}}return n})();function vw(n){let e=null;return n.forEach((t,r)=>{Oz(r)&&(e=e||new Map,e.set(r,t))}),e}function Oz(n){return n==="display"||n==="position"}var Bp=class{element;keyframes;options;_specialStyles;_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_duration;_delay;_initialized=!1;_finished=!1;_started=!1;_destroyed=!1;_finalKeyframe;_originalOnDoneFns=[];_originalOnStartFns=[];domPlayer;time=0;parentPlayer=null;currentSnapshot=new Map;constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;let e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map;let t=()=>this._onFinish();this.domPlayer.addEventListener("finish",t),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",t)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){let t=[];return e.forEach(r=>{t.push(Object.fromEntries(r))}),t}_triggerWebAnimation(e,t,r){return e.animate(this._convertKeyframesToObject(t),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){this.domPlayer===void 0&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){let e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{i!=="offset"&&e.set(i,this._finished?r:Rp(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){let t=e==="start"?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}},$p=class{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}containsElement(e,t){return lw(e,t)}getParentElement(e){return Tp(e)}query(e,t,r){return cw(e,t,r)}computeStyle(e,t,r){return Rp(e,t)}animate(e,t,r,i,o,s=[]){let a=i==0?"both":"forwards",l={duration:r,delay:i,fill:a};o&&(l.easing=o);let u=new Map,d=s.filter(m=>m instanceof Bp);Yx(r,i)&&d.forEach(m=>{m.currentSnapshot.forEach((v,w)=>u.set(w,v))});let f=Kx(t).map(m=>new Map(m));f=Zx(e,f,u);let p=Pz(e,f);return new Bp(e,f,l,p)}};var Op="@",pR="@.disabled",zp=class{namespaceId;delegate;engine;_onDestroy;\u0275type=0;constructor(e,t,r,i){this.namespaceId=e,this.delegate=t,this.engine=r,this._onDestroy=i}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.parentNode(t)&&this.engine.onRemove(this.namespaceId,t,this.delegate)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){t.charAt(0)==Op&&t==pR?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r,i){return this.delegate.listen(e,t,r,i)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}},Mw=class extends zp{factory;constructor(e,t,r,i,o){super(t,r,i,o),this.factory=e,this.namespaceId=t}setProperty(e,t,r){t.charAt(0)==Op?t.charAt(1)=="."&&t==pR?(r=r===void 0?!0:!!r,this.disableAnimations(e,r)):this.engine.process(this.namespaceId,e,t.slice(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r,i){if(t.charAt(0)==Op){let o=Fz(e),s=t.slice(1),a="";return s.charAt(0)!=Op&&([s,a]=Lz(s)),this.engine.listen(this.namespaceId,o,s,a,l=>{let u=l._data||-1;this.factory.scheduleListenerCallback(u,r,l)})}return this.delegate.listen(e,t,r,i)}};function Fz(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}function Lz(n){let e=n.indexOf("."),t=n.substring(0,e),r=n.slice(e+1);return[t,r]}var Hp=class{delegate;engine;_zone;_currentId=0;_microtaskId=1;_animationCallbacksBuffer=[];_rendererCache=new Map;_cdRecurDepth=0;constructor(e,t,r){this.delegate=e,this.engine=t,this._zone=r,t.onRemovalComplete=(i,o)=>{o?.removeChild(null,i)}}createRenderer(e,t){let r="",i=this.delegate.createRenderer(e,t);if(!e||!t?.data?.animation){let u=this._rendererCache,d=u.get(i);if(!d){let f=()=>u.delete(i);d=new zp(r,i,this.engine,f),u.set(i,d)}return d}let o=t.id,s=t.id+"-"+this._currentId;this._currentId++,this.engine.register(s,e);let a=u=>{Array.isArray(u)?u.forEach(a):this.engine.registerTrigger(o,s,e,u.name,u)};return t.data.animation.forEach(a),new Mw(this,s,i,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,t,r){if(e>=0&&e<this._microtaskId){this._zone.run(()=>t(r));return}let i=this._animationCallbacksBuffer;i.length==0&&queueMicrotask(()=>{this._zone.run(()=>{i.forEach(o=>{let[s,a]=o;s(a)}),this._animationCallbacksBuffer=[]})}),i.push([t,r])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}componentReplaced(e){this.engine.flush(),this.delegate.componentReplaced?.(e)}};var jz=(()=>{class n extends Ba{constructor(t,r,i){super(t,r,i)}ngOnDestroy(){this.flush()}static \u0275fac=function(r){return new(r||n)(se(rt),se(Ds),se(Ss))};static \u0275prov=K({token:n,factory:n.\u0275fac})}return n})();function Uz(){return new Fp}function Bz(n,e,t){return new Hp(n,e,t)}var gR=[{provide:Ss,useFactory:Uz},{provide:Ba,useClass:jz},{provide:vi,useFactory:Bz,deps:[Zc,Ba,lt]}],jse=[{provide:Ds,useClass:xw},{provide:Sf,useValue:"NoopAnimations"},...gR],$z=[{provide:Ds,useFactory:()=>new $p},{provide:Sf,useFactory:()=>"BrowserAnimations"},...gR];function mR(){return wi("NgEagerAnimations"),[...$z]}var ft=class n{logo="assets/logo.svg";brokenHeartIcon="assets/icons/broken-heart.png";brokenHeartIcon2="assets/icons/broken-heart-2.png";calendarIcon="assets/icons/calendar.png";clockIcon="assets/icons/clock.png";flashIcon="assets/icons/flash.png";handShakeIcon="assets/icons/handshake.png";handShakeIcon2="assets/icons/handshake-2.png";lightningIcon="assets/icons/lightning.png";rainBlackIcon="assets/icons/rain-black.png";rainIcon="assets/icons/rain.png";sadFaceIcon="assets/icons/sad-face.png";scheduleIcon="assets/icons/schedule.png";speakingIcon="assets/icons/speaking.png";startIcon="assets/icons/star.png";startIcon2="assets/icons/star-2.png";thunderIcon="assets/icons/thunder.png";weatherIcon="assets/icons/weather.svg";psychologistImage="assets/psychologist.png";reviewImage1="assets/reviews/review.png";flexedArmIcon="assets/icons/flexedarm.png";testimonialImage1="assets/testimonials/testimonial1.jpg";testimonialImage2="assets/testimonials/testimonial2.jpg";testimonialImage3="assets/testimonials/testimonial3.jpg";testimonialImage4="assets/testimonials/testimonial4.jpg";videoConferenceIcon="assets/icons/videoconference.png";psychologistIcon="assets/icons/psychologist.png";laptopIcon="assets/icons/laptop.png";bookingIcon="assets/icons/booking.png";arrowRightIcon="assets/icons/arrow-right.png";specialistImage1="assets/specialists/specialist1.jpeg";specialistImage2="assets/specialists/specialist2.jpg";specialistImage3="assets/specialists/specialist3.jpg";specialistImage4="assets/specialists/specialist4.jpg";specialistImage5="assets/specialists/specialist5.jpg";specialistImage6="assets/specialists/specialist6.webp";specialistImage7="assets/specialists/specialist7.jpg";specialistImage8="assets/specialists/specialist8.jpg";psychologistTalkingImage="assets/psychologist_talking.webp";static \u0275fac=function(t){return new(t||n)};static \u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})};var yo=class{clNavFirstItem="Strona G\u0142\xF3wna";clNavSecondItem="Czym s\u0105?";clNavThirdItem="BlockChain";clNavFouthItem="Dlaczego warto zainwestowa\u0107?";clNavFifthItem="Koparki Kryptowalut"};var qp=class n{constructor(e){this.router=e}bookSession(){this.router.navigate(["/contactform"])}logosTexts=new yo;logosImages=new ft;static \u0275fac=function(t){return new(t||n)(ee(it))};static \u0275cmp=ge({type:n,selectors:[["app-hero"]],decls:15,vars:3,consts:[[1,"hero"],[1,"hero_left"],[1,"hero_title"],[1,"hero_description"],[1,"hero_cta",3,"click"],[1,"hero_reviews"],["alt","Psycholog",1,"hero_review",3,"src"],[1,"hero_right"],["alt","Psycholog",1,"hero_image",3,"src"]],template:function(t,r){t&1&&(C(0,"div",0)(1,"div",1)(2,"h1",2),T(3,"Porozmawiaj z psychologiem. "),ie(4,"br"),T(5,"Bez wychodzenia z domu."),I(),C(6,"p",3),T(7," Logos to nowoczesna forma terapii online \u2013 dyskretna, dost\u0119pna i wygodna. Um\xF3w si\u0119 na sesj\u0119 w kilka minut i zyskaj realne wsparcie, kiedy go potrzebujesz. "),I(),C(8,"button",4),Ve("click",function(){return r.bookSession()}),T(9,"Um\xF3w si\u0119 na sesj\u0119"),I(),C(10,"div",5),ie(11,"img",6)(12,"img",6),I()(),C(13,"div",7),ie(14,"img",8),I()()),t&2&&(F(11),Q("src",r.logosImages.reviewImage1,Je),F(),Q("src",r.logosImages.reviewImage1,Je),F(2),Q("src",r.logosImages.psychologistImage,Je))},styles:['@charset "UTF-8";.hero[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:0;margin-top:60px;position:relative;overflow:hidden}.hero_left[_ngcontent-%COMP%]{padding-left:7%;width:50%}.hero_left[_ngcontent-%COMP%]   .hero_title[_ngcontent-%COMP%]{font-size:55px;font-weight:600;font-family:Metrolopolis,sans-serif;line-height:1.2;color:#011632;margin-bottom:20px}.hero_left[_ngcontent-%COMP%]   .hero_description[_ngcontent-%COMP%]{font-size:1.125rem;color:#3c4959;width:60%;font-family:Metrolopolis,sans-serif;margin-bottom:30px;line-height:1.6}.hero_left[_ngcontent-%COMP%]   .hero_cta[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;padding:16px 30px;border:none;border-radius:8px;font-size:1rem;font-family:Metrolopolis,sans-serif;font-weight:500;cursor:pointer;transition:background-color .3s ease}.hero_left[_ngcontent-%COMP%]   .hero_cta[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:#0056b3}.hero_left[_ngcontent-%COMP%]   .hero_reviews[_ngcontent-%COMP%]{margin-top:50px;display:flex}.hero_left[_ngcontent-%COMP%]   .hero_reviews[_ngcontent-%COMP%]   .hero_review[_ngcontent-%COMP%]{display:flex;align-items:flex-start;margin-bottom:20px;border-radius:15px;width:350px;margin-right:20px;box-shadow:0 0 8px #0000001a}.hero_right[_ngcontent-%COMP%]{width:50%;display:flex;justify-content:center}.hero_right[_ngcontent-%COMP%]   .hero_image[_ngcontent-%COMP%]{max-width:80%}@media screen and (max-width: 768px){.hero[_ngcontent-%COMP%]{flex-direction:column;align-items:center;text-align:center}.hero_right[_ngcontent-%COMP%]{margin-top:40px;justify-content:center;align-items:center;text-align:center}.hero_right[_ngcontent-%COMP%]   .hero_image[_ngcontent-%COMP%]{max-width:100%}.hero_left[_ngcontent-%COMP%]{margin-top:40px;padding-left:0%;display:flex;justify-content:center;align-items:center;flex-direction:column}.hero_left[_ngcontent-%COMP%]   .hero_title[_ngcontent-%COMP%]{font-size:35px;font-weight:600;font-family:Metrolopolis,sans-serif;line-height:1.2;width:400px;color:#011632;margin-bottom:20px}.hero_left[_ngcontent-%COMP%]   .hero_description[_ngcontent-%COMP%]{font-size:20px;color:#3c4959;width:100%;font-family:Metrolopolis,sans-serif;margin-bottom:30px;width:300px;line-height:1.6}.hero_left[_ngcontent-%COMP%]   .hero_cta[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;width:300px;border:none;border-radius:8px;font-size:18px;font-family:Metrolopolis,sans-serif;font-weight:500;cursor:pointer;transition:background-color .3s ease}.hero_left[_ngcontent-%COMP%]   .hero_cta[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:#0056b3}.hero_left[_ngcontent-%COMP%]   .hero_reviews[_ngcontent-%COMP%]{flex-direction:column;align-items:center;justify-content:center}.hero_left[_ngcontent-%COMP%]   .hero_reviews[_ngcontent-%COMP%]   .hero_review[_ngcontent-%COMP%]{width:100%;margin-right:0;width:300px;max-width:400px}}']})};function zz(n,e){if(n&1&&(C(0,"div",2)(1,"div",3),T(2),I(),C(3,"div",4),T(4),I()()),n&2){let t=e.$implicit;F(2),Ut("",t.displayedValue,"+"),F(2),Be(t.label)}}var Gp=class n{stats=[{value:9,displayedValue:0,label:"Happy Customers"},{value:150,displayedValue:0,label:"Monthly Visitors"},{value:1500,displayedValue:0,label:"Countries Worldwide"},{value:1e4,displayedValue:0,label:"Top Partners"}];ngOnInit(){this.animateStats()}animateStats(){this.stats.forEach((e,t)=>{let o=Math.round(59.99999999999999),s=0,a=setInterval(()=>{s++;let l=s/o;e.displayedValue=Math.floor(e.value*l),s>=o&&(e.displayedValue=e.value,clearInterval(a))},1e3/30)})}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=ge({type:n,selectors:[["app-stats"]],decls:2,vars:1,consts:[[1,"stats"],["class","stats_item",4,"ngFor","ngForOf"],[1,"stats_item"],[1,"stats_number"],[1,"stats_label"]],template:function(t,r){t&1&&(C(0,"div",0),Se(1,zz,5,2,"div",1),I()),t&2&&(F(),Q("ngForOf",r.stats))},dependencies:[$e,Bt],styles:[".stats[_ngcontent-%COMP%]{display:flex;justify-content:space-around;align-items:center;flex-wrap:wrap;padding:60px 20px;background-color:#f8f9ff;text-align:center}.stats_item[_ngcontent-%COMP%]{margin:20px;min-width:150px}.stats_number[_ngcontent-%COMP%]{font-family:Metropolis,sans-serif;font-weight:700;font-size:2.5rem;color:#007bff}.stats_label[_ngcontent-%COMP%]{font-size:1rem;color:#333;margin-top:8px}"]})};function Hz(n,e){if(n&1&&(C(0,"div",4)(1,"div",5),ie(2,"img",6),I(),C(3,"h3",7),T(4),I(),C(5,"p",8),T(6),I()()),n&2){let t=e.$implicit;F(2),Q("src",t.icon,Je)("alt",t.title),F(2),Be(t.title),F(2),Be(t.description)}}var Wp=class n{constructor(e){this.logos=e;this.problems=[{title:"Kryzys emocjonalny",icon:this.logos.brokenHeartIcon,description:"Terapia ukierunkowana na pomoc w trudnych chwilach \u017Cyciowych \u2013 gdy czujesz, \u017Ce wszystko Ci\u0119 przerasta lub tracisz kontrol\u0119 nad emocjami."},{title:"Relacje i komunikacja",icon:this.logos.handShakeIcon,description:"Pomoc w budowaniu zdrowych relacji \u2013 w zwi\u0105zkach, rodzinie czy pracy. Naucz si\u0119 m\xF3wi\u0107 o swoich potrzebach i stawia\u0107 granice."},{title:"L\u0119k i stres",icon:this.logos.sadFaceIcon,description:"L\u0119ki, napi\u0119cie, ataki paniki? Naucz si\u0119 technik radzenia sobie ze stresem i odzyskaj poczucie bezpiecze\u0144stwa."},{title:"Budowanie pewno\u015Bci siebie",icon:this.logos.startIcon2,description:"Wzmocnij samoocen\u0119, prze\u0142am wewn\u0119trzne blokady i naucz si\u0119 \u017Cy\u0107 bardziej w zgodzie ze sob\u0105."}]}problems=[];static \u0275fac=function(t){return new(t||n)(ee(ft))};static \u0275cmp=ge({type:n,selectors:[["app-help-areas"]],decls:5,vars:1,consts:[[1,"help-areas"],[1,"help-areas_title"],[1,"help-areas_grid"],["class","help-areas_card",4,"ngFor","ngForOf"],[1,"help-areas_card"],[1,"help-areas_icon"],[3,"src","alt"],[1,"help-areas_card_title"],[1,"help-areas_card_description"]],template:function(t,r){t&1&&(C(0,"div",0)(1,"h2",1),T(2,"Z jakimi problemami pomagamy?"),I(),C(3,"div",2),Se(4,Hz,7,4,"div",3),I()()),t&2&&(F(4),Q("ngForOf",r.problems))},dependencies:[$e,Bt],styles:[".help-areas[_ngcontent-%COMP%]{padding:60px 20px;max-width:1200px;margin:0 auto;text-align:center}.help-areas_title[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;color:#011632;margin-bottom:40px}.help-areas_grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:30px}.help-areas_card[_ngcontent-%COMP%]{background:#fff;border-radius:20px;padding:30px 20px;box-shadow:0 10px 20px #0000000d;transition:transform .3s ease}.help-areas_card[_ngcontent-%COMP%]:hover{transform:translateY(-5px)}.help-areas_card[_ngcontent-%COMP%]   .help-areas_icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50px;height:50px;margin-bottom:20px}.help-areas_card_title[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:600;color:#1e1f4b;margin-bottom:15px}.help-areas_card_description[_ngcontent-%COMP%]{font-size:.95rem;color:#555;line-height:1.6}"]})};function qz(n,e){if(n&1&&(C(0,"div",5)(1,"div",6),ie(2,"img",7),I(),C(3,"h3",8),T(4),I(),C(5,"p",9),T(6),I()()),n&2){let t=e.$implicit;F(2),Q("src",t.icon,Je)("alt",t.title),F(2),Be(t.title),F(2),Be(t.description)}}var Kp=class n{constructor(e){this.logos=e;this.problems=[{title:"Kryzys emocjonalny",icon:this.logos.rainIcon,description:"Czujesz si\u0119 przyt\u0142oczony? Pomo\u017Cemy Ci odzyska\u0107 r\xF3wnowag\u0119 emocjonaln\u0105 i spojrze\u0107 na sytuacj\u0119 z nowej perspektywy."},{title:"Relacje i komunikacja",icon:this.logos.speakingIcon,description:"Masz trudno\u015Bci w relacjach? Razem nauczymy si\u0119, jak budowa\u0107 zdrowe wi\u0119zi i jasno wyra\u017Ca\u0107 swoje potrzeby."},{title:"L\u0119k i stres",icon:this.logos.lightningIcon,description:"Do\u015Bwiadczasz napi\u0119cia, niepokoju lub atak\xF3w paniki? Poka\u017Cemy Ci skuteczne techniki radzenia sobie i odzyskania spokoju."},{title:"Budowanie pewno\u015Bci siebie",icon:this.logos.flexedArmIcon,description:"Masz w\u0105tpliwo\u015Bci co do w\u0142asnej warto\u015Bci? Pomagamy w odkrywaniu wewn\u0119trznej si\u0142y i \u017Cycia w zgodzie ze sob\u0105."}]}mainTitle="Sprawd\u017A, w czym mo\u017Cemy Ci pom\xF3c";mainDescription="Oferujemy indywidualne podej\u015Bcie i wsparcie dopasowane do Twoich potrzeb:";problems=[];static \u0275fac=function(t){return new(t||n)(ee(ft))};static \u0275cmp=ge({type:n,selectors:[["app-offer-section"]],decls:7,vars:3,consts:[[1,"help-areas"],[1,"help-areas_title"],[1,"help-areas_description"],[1,"help-areas_grid"],["class","help-areas_card",4,"ngFor","ngForOf"],[1,"help-areas_card"],[1,"help-areas_icon"],[3,"src","alt"],[1,"help-areas_card_title"],[1,"help-areas_card_description"]],template:function(t,r){t&1&&(C(0,"div",0)(1,"h2",1),T(2),I(),C(3,"p",2),T(4),I(),C(5,"div",3),Se(6,qz,7,4,"div",4),I()()),t&2&&(F(2),Be(r.mainTitle),F(2),Be(r.mainDescription),F(2),Q("ngForOf",r.problems))},dependencies:[$e,Bt],styles:[".help-areas[_ngcontent-%COMP%]{padding:60px 20px;max-width:1200px;margin:0 auto;text-align:center}.help-areas_title[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;color:#011632;margin-bottom:0}.help-areas_description[_ngcontent-%COMP%]{font-size:1.125rem;color:#555;margin-bottom:50px}.help-areas_grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:30px}.help-areas_card[_ngcontent-%COMP%]{background:#fff;border-radius:20px;padding:30px 20px;box-shadow:0 10px 20px #0000000d;transition:transform .3s ease}.help-areas_card[_ngcontent-%COMP%]:hover{transform:translateY(-5px)}.help-areas_card[_ngcontent-%COMP%]   .help-areas_icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50px;height:50px;margin-bottom:20px}.help-areas_card_title[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:600;color:#1e1f4b;margin-bottom:15px}.help-areas_card_description[_ngcontent-%COMP%]{font-size:.95rem;color:#555;line-height:1.6}"]})};function Gz(n,e){if(n&1&&(C(0,"div",5)(1,"h3",6),T(2),I(),C(3,"p",7),T(4),I(),C(5,"div",8),ie(6,"img",9),C(7,"div",10)(8,"strong",11),T(9),I()()()()),n&2){let t=e.$implicit,r=e.index,i=Xe();jt("visible",i.visibleCards[r]),F(2),Be(t.title),F(2),Be(t.review),F(2),Q("src",t.image,Je)("alt",t.name),F(3),Be(t.name)}}function Wz(n,e){if(n&1&&(C(0,"div",5)(1,"h3",6),T(2),I(),C(3,"p",7),T(4),I(),C(5,"div",8),ie(6,"img",9),C(7,"div",10)(8,"strong",11),T(9),I()()()()),n&2){let t=e.$implicit,r=e.index,i=Xe();jt("visible",i.visibleCards[r+2]),F(2),Be(t.title),F(2),Be(t.review),F(2),Q("src",t.image,Je)("alt",t.name),F(3),Be(t.name)}}var Qp=class n{constructor(e){this.logos=e;this.testimonials=[{title:"Zmieni\u0142o moje \u017Cycie!",review:"Dzi\u0119ki terapii odzyska\u0142am spok\xF3j i kontrol\u0119 nad emocjami. Sesje online by\u0142y wygodne i dyskretne.",name:"Marta K.",image:this.logos.testimonialImage2},{title:"Poprawi\u0142em relacje z bliskimi",review:"Nauczy\u0142em si\u0119 jasno wyra\u017Ca\u0107 swoje potrzeby i stawia\u0107 granice. Dzi\u0119ki temu moje kontakty rodzinne i zawodowe si\u0119 poprawi\u0142y.",name:"Adam W.",image:this.logos.testimonialImage1},{title:"Wsparcie w walce z l\u0119kiem",review:"Techniki, kt\xF3re pozna\u0142am, pomog\u0142y mi opanowa\u0107 ataki paniki i radzi\u0107 sobie ze stresem na co dzie\u0144.",name:"Paulina L.",image:this.logos.testimonialImage4},{title:"Zwi\u0119kszy\u0142em pewno\u015B\u0107 siebie",review:"Przez lata mia\u0142em w\u0105tpliwo\u015Bci co do siebie. Teraz czuj\u0119 si\u0119 silniejszy i bardziej sob\u0105.",name:"Micha\u0142 R.",image:this.logos.testimonialImage3}]}title="Opinie pacjent\xF3w";testimonials=[];visibleCards=[];ngOnInit(){this.visibleCards=this.testimonials.map(()=>!1),this.animateCards()}animateCards(){this.testimonials.forEach((e,t)=>{setTimeout(()=>{this.visibleCards[t]=!0},t*300)})}static \u0275fac=function(t){return new(t||n)(ee(ft))};static \u0275cmp=ge({type:n,selectors:[["app-testimonials"]],decls:8,vars:3,consts:[[1,"testimonials"],[1,"testimonials_title"],[1,"testimonials_grid"],[1,"testimonials_column"],["class","testimonial_card",3,"visible",4,"ngFor","ngForOf"],[1,"testimonial_card"],[1,"testimonial_card_title"],[1,"testimonial_card_review"],[1,"testimonial_card_author"],[1,"testimonial_card_author_image",3,"src","alt"],[1,"testimonial_card_author_info"],[1,"testimonial_card_author_info_name"]],template:function(t,r){t&1&&(C(0,"section",0)(1,"h2",1),T(2),I(),C(3,"div",2)(4,"div",3),Se(5,Gz,10,7,"div",4),I(),C(6,"div",3),Se(7,Wz,10,7,"div",4),I()()()),t&2&&(F(2),Be(r.title),F(3),Q("ngForOf",r.testimonials.slice(0,2)),F(2),Q("ngForOf",r.testimonials.slice(2,4)))},dependencies:[$e,Bt],styles:[".testimonials[_ngcontent-%COMP%]{max-width:1200px;margin:60px auto;padding:0 20px;text-align:center}.testimonials_title[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;color:#011632;margin-bottom:40px}.testimonials_grid[_ngcontent-%COMP%]{display:flex;justify-content:space-between;gap:40px;flex-wrap:wrap}.testimonials_column[_ngcontent-%COMP%]{flex:1;min-width:300px;display:flex;flex-direction:column;gap:30px}.testimonials[_ngcontent-%COMP%]   .testimonial_card[_ngcontent-%COMP%]{background:#fff;border-radius:20px;padding:25px 20px;box-shadow:0 10px 20px #0000000d;text-align:left;transition:transform .3s ease,opacity .6s ease;opacity:0;transform:translateY(20px)}.testimonials[_ngcontent-%COMP%]   .testimonial_card.visible[_ngcontent-%COMP%]{opacity:1;transform:translateY(0)}.testimonials[_ngcontent-%COMP%]   .testimonial_card[_ngcontent-%COMP%]:hover{transform:translateY(-5px)}.testimonials[_ngcontent-%COMP%]   .testimonial_card_title[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:600;color:#007bff;margin-bottom:15px}.testimonials[_ngcontent-%COMP%]   .testimonial_card_review[_ngcontent-%COMP%]{font-size:.95rem;color:#555;margin-bottom:20px;line-height:1.5}.testimonials[_ngcontent-%COMP%]   .testimonial_card_author[_ngcontent-%COMP%]{display:flex;align-items:center;gap:15px}.testimonials[_ngcontent-%COMP%]   .testimonial_card_author_image[_ngcontent-%COMP%]{width:40px;height:40px;flex-shrink:0;border-radius:50%;object-fit:cover}.testimonials[_ngcontent-%COMP%]   .testimonial_card_author_info[_ngcontent-%COMP%]{display:flex;flex-direction:column}.testimonials[_ngcontent-%COMP%]   .testimonial_card_author_info_name[_ngcontent-%COMP%]{font-weight:600;color:#1e1f4b}.testimonials[_ngcontent-%COMP%]   .testimonial_card_author_info_role[_ngcontent-%COMP%]{font-size:.85rem;color:#888}@media screen and (max-width: 768px){.testimonials_grid[_ngcontent-%COMP%]{flex-direction:column}}"]})};var Kz=(n,e)=>({"step__arrow--down":n,"step__arrow--up":e});function Qz(n,e){n&1&&(gi(),ie(0,"path",15))}function Yz(n,e){n&1&&(gi(),ie(0,"path",16))}function Zz(n,e){if(n&1&&(C(0,"div",11),gi(),C(1,"svg",12),Se(2,Qz,1,0,"path",13)(3,Yz,1,0,"path",14),I()()),n&2){let t=Xe().index;Q("ngClass",n0(3,Kz,t%2===0,t%2===1)),F(2),Q("ngIf",t%2===0),F(),Q("ngIf",t%2===1)}}function Jz(n,e){if(n&1&&(C(0,"div",5)(1,"div",6),ie(2,"img",7),I(),C(3,"h3",8),T(4),I(),C(5,"p",9),T(6),I(),Se(7,Zz,4,6,"div",10),I()),n&2){let t=e.$implicit,r=e.index,i=Xe();F(2),Q("src",t.icon,Je)("alt",t.title),F(2),Be(t.title),F(2),Be(t.desc),F(),Q("ngIf",r!==i.steps.length-1)}}var Yp=class n{constructor(e){this.logos=e;this.steps=[{icon:e.psychologistIcon,title:"Wybierz specjalist\u0119",desc:"Przegl\u0105daj profile psycholog\xF3w i wybierz osob\u0119, kt\xF3ra najbardziej Ci odpowiada."},{icon:e.bookingIcon,title:"Zarezerwuj termin",desc:"Wybierz dogodny dzie\u0144 i godzin\u0119 \u2013 bez dzwonienia i kolejek."},{icon:e.laptopIcon,title:"Do\u0142\u0105cz do spotkania",desc:"Spotkanie odbywa si\u0119 online lub stacjonarnie, w zale\u017Cno\u015Bci od Twoich preferencji."},{icon:e.arrowRightIcon,title:"Zr\xF3b pierwszy krok",desc:"Pierwsza rozmowa to pocz\u0105tek zmiany \u2013 nie musisz by\u0107 sam/a."}]}steps=[];static \u0275fac=function(t){return new(t||n)(ee(ft))};static \u0275cmp=ge({type:n,selectors:[["app-how-it-works"]],decls:7,vars:2,consts:[[1,"how-it-works"],[1,"how-it-works__title"],[1,"how-it-works__description"],[1,"how-it-works__steps"],["class","step",4,"ngFor","ngForOf"],[1,"step"],[1,"step__icon"],[3,"src","alt"],[1,"step__title"],[1,"step__desc"],["class","step__arrow",3,"ngClass",4,"ngIf"],[1,"step__arrow",3,"ngClass"],["viewBox","0 0 80 60","fill","none","xmlns","http://www.w3.org/2000/svg","preserveAspectRatio","none"],["d","M0 30 C20 0, 60 0, 80 30","stroke","#888","stroke-width","2","stroke-dasharray","8 8",4,"ngIf"],["d","M0 30 C20 60, 60 60, 80 30","stroke","#888","stroke-width","2","stroke-dasharray","8 8",4,"ngIf"],["d","M0 30 C20 0, 60 0, 80 30","stroke","#888","stroke-width","2","stroke-dasharray","8 8"],["d","M0 30 C20 60, 60 60, 80 30","stroke","#888","stroke-width","2","stroke-dasharray","8 8"]],template:function(t,r){t&1&&(C(0,"section",0)(1,"h2",1),T(2,"Jak to dzia\u0142a?"),I(),C(3,"p",2),T(4,"Um\xF3wienie wizyty to tylko kilka krok\xF3w"),I(),C(5,"div",3),Se(6,Jz,8,5,"div",4),I()()),t&2&&(F(5),Q("@listAnimation",void 0),F(),Q("ngForOf",r.steps))},dependencies:[$e,y0,Bt,Ln],styles:['@charset "UTF-8";.how-it-works[_ngcontent-%COMP%]{padding:60px 20px;text-align:center;display:flex;justify-content:center;align-items:center;flex-direction:column}.how-it-works__title[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;color:#011632;margin-bottom:0}.how-it-works__description[_ngcontent-%COMP%]{font-size:1.2rem;color:#555;margin-bottom:50px}.how-it-works__steps[_ngcontent-%COMP%]{display:flex;gap:90px;justify-content:center;position:relative}.how-it-works[_ngcontent-%COMP%]   .step[_ngcontent-%COMP%]{position:relative;max-width:250px;width:250px;padding:0 10px;text-align:center}.how-it-works[_ngcontent-%COMP%]   .step__icon[_ngcontent-%COMP%]{margin:0 auto 15px;width:80px;height:80px}.how-it-works[_ngcontent-%COMP%]   .step__icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:contain}.how-it-works[_ngcontent-%COMP%]   .step__title[_ngcontent-%COMP%]{font-size:1.4rem;font-weight:700;color:#007bff;margin-bottom:12px}.how-it-works[_ngcontent-%COMP%]   .step__desc[_ngcontent-%COMP%]{font-size:1rem;color:#444;line-height:1.5}.how-it-works[_ngcontent-%COMP%]   .step__arrow[_ngcontent-%COMP%]{position:absolute;top:50%;right:-80px;width:90px;height:60px;transform:translateY(-50%);pointer-events:none}.how-it-works[_ngcontent-%COMP%]   .step__arrow--down[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{stroke-dasharray:8 8}.how-it-works[_ngcontent-%COMP%]   .step__arrow--up[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{stroke-dasharray:8 8}.how-it-works[_ngcontent-%COMP%]   .step__arrow[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{display:block;width:100%;height:100%}@media (max-width: 768px){.how-it-works__steps[_ngcontent-%COMP%]{flex-direction:column;align-items:center;gap:60px}.how-it-works[_ngcontent-%COMP%]   .step[_ngcontent-%COMP%]{max-width:100%}.how-it-works[_ngcontent-%COMP%]   .step__arrow[_ngcontent-%COMP%]:not(.step__arrow--down){display:none}.how-it-works[_ngcontent-%COMP%]   .step__arrow--down[_ngcontent-%COMP%]{display:block;position:relative;top:auto;right:auto;margin:20px auto 0;width:24px;height:40px;transform:none;pointer-events:none}.how-it-works[_ngcontent-%COMP%]   .step__arrow--down[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:24px;height:40px;display:block;margin:0 auto}.how-it-works[_ngcontent-%COMP%]   .step__arrow--down[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{stroke-dasharray:8 8}}'],data:{animation:[Bn("listAnimation",[zn(":enter",[bi(".step",[ht({opacity:0,transform:"translateY(20px)"}),Ci(200,[$n("600ms ease-out",ht({opacity:1,transform:"translateY(0)"}))])],{optional:!0})])])]}})};function Xz(n,e){if(n&1){let t=fs();C(0,"div",5)(1,"div",6),Ve("click",function(){let i=wr(t).index,o=Xe();return Er(o.toggle(i))}),T(2),C(3,"button",7),T(4," + "),I()(),C(5,"div",8),T(6),I()()}if(n&2){let t=e.$implicit,r=e.index,i=Xe();F(2),Ut(" ",t.question," "),F(),jt("expanded",i.expandedIndex===r),F(2),jt("faq__answer--visible",i.expandedIndex===r),F(),Ut(" ",t.answer," ")}}var Zp=class n{faqs=[{question:"Jak wygl\u0105da pierwsze spotkanie z psychologiem?",answer:"Pierwsze spotkanie to rozmowa, w kt\xF3rej poznajemy Twoje potrzeby i ustalamy cele terapii."},{question:"Czy terapia online jest skuteczna?",answer:"Tak, terapia online jest r\xF3wnie skuteczna jak stacjonarna i zapewnia wygod\u0119 oraz bezpiecze\u0144stwo."},{question:"Ile kosztuje wizyta?",answer:"Cena wizyty zale\u017Cy od specjalisty i rodzaju terapii \u2013 wi\u0119cej informacji znajdziesz na stronie cennika."},{question:"Czy mog\u0119 zrezygnowa\u0107 z wizyty bez op\u0142at?",answer:"Tak, rezygnacja bez op\u0142at jest mo\u017Cliwa, je\u015Bli zg\u0142osisz j\u0105 na co najmniej 24 godziny przed wizyt\u0105."},{question:"Czy rozmowy s\u0105 w pe\u0142ni poufne?",answer:"Tak, wszystkie rozmowy s\u0105 obj\u0119te tajemnic\u0105 zawodow\u0105 i odbywaj\u0105 si\u0119 w bezpiecznej, poufnej atmosferze."}];expandedIndex=null;toggle(e){this.expandedIndex=this.expandedIndex===e?null:e}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=ge({type:n,selectors:[["app-faq"]],decls:7,vars:2,consts:[[1,"faq"],[1,"faq__title"],[1,"faq__description"],[1,"faq__card"],["class","faq__item",4,"ngFor","ngForOf"],[1,"faq__item"],[1,"faq__question",3,"click"],["aria-label","Toggle answer",1,"faq__toggle-btn"],[1,"faq__answer"]],template:function(t,r){t&1&&(C(0,"section",0)(1,"h2",1),T(2,"Masz pytania? Mamy odpowiedzi."),I(),C(3,"p",2),T(4," Zebrali\u015Bmy odpowiedzi na pytania, kt\xF3re najcz\u0119\u015Bciej zadaj\u0105 nasi pacjenci \u2013 wszystko, co warto wiedzie\u0107 przed wizyt\u0105. "),I(),C(5,"div",3),Se(6,Xz,7,6,"div",4),I()()),t&2&&(F(5),Q("@listAnimation",void 0),F(),Q("ngForOf",r.faqs))},dependencies:[$e,Bt],styles:[".faq[_ngcontent-%COMP%]{max-width:900px;margin:60px auto;padding:0 20px;text-align:center;font-family:Arial,sans-serif}.faq__title[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;color:#011632}.faq__description[_ngcontent-%COMP%]{font-size:1.2rem;color:#555;margin-bottom:40px}.faq__card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 5px 15px #0000001a;padding:20px 25px;text-align:left}.faq__item[_ngcontent-%COMP%]{border-bottom:1px solid #ddd;padding:15px 0}.faq__item[_ngcontent-%COMP%]:last-child{border-bottom:none}.faq__question[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;cursor:pointer;font-weight:600;color:#007bff;font-size:1.1rem}.faq__answer[_ngcontent-%COMP%]{margin-top:10px;font-size:1rem;color:#444;line-height:1.4;display:none}.faq__answer--visible[_ngcontent-%COMP%]{display:block}.faq__toggle-btn[_ngcontent-%COMP%]{background:none;border:none;font-size:1.5rem;line-height:1;color:#007bff;-webkit-user-select:none;user-select:none;transition:transform .3s ease}.faq__toggle-btn.expanded[_ngcontent-%COMP%]{transform:rotate(45deg)}"],data:{animation:[Bn("listAnimation",[zn(":enter",[bi(".faq__item",[ht({opacity:0,transform:"translateY(20px)"}),Ci(100,[$n("400ms ease-out",ht({opacity:1,transform:"translateY(0)"}))])],{optional:!0})])])]}})};function e4(n,e){if(n&1&&(C(0,"div",5)(1,"div",6),ie(2,"img",7),I(),C(3,"div",8)(4,"h3",9),T(5),I(),C(6,"p",10),T(7),I()()()),n&2){let t=e.$implicit;F(2),Q("src",t.image,Je)("alt",t.name),F(3),Be(t.name),F(2),Be(t.profession)}}var Jp=class n{constructor(e){this.logos=e;this.specialists=[{name:"Anna Kowalska",profession:"Psycholog kliniczny",image:e.specialistImage2},{name:"Marek Nowak",profession:"Terapeuta poznawczo-behawioralny",image:e.specialistImage1},{name:"Ewa Zieli\u0144ska",profession:"Psychoterapeuta dzieci\u0119cy",image:e.specialistImage4},{name:"Tomasz Grabowski",profession:"Psycholog sportowy",image:e.specialistImage3},{name:"Magdalena Lewandowska",profession:"Psycholog zdrowia",image:e.specialistImage5},{name:"Pawe\u0142 Wi\u015Bniewski",profession:"Psychoterapeuta rodzinny",image:e.specialistImage7},{name:"Katarzyna Maj",profession:"Psycholog biznesu",image:e.specialistImage6},{name:"Wiktoria Szyma\u0144ska",profession:"Psychoterapeuta uzale\u017Cnie\u0144",image:e.specialistImage8}]}specialists=[];static \u0275fac=function(t){return new(t||n)(ee(ft))};static \u0275cmp=ge({type:n,selectors:[["app-specialists-showcase"]],decls:7,vars:2,consts:[[1,"specialists"],[1,"specialists__title"],[1,"specialists__description"],[1,"specialists__grid"],["class","specialist-card",4,"ngFor","ngForOf"],[1,"specialist-card"],[1,"specialist-card__image"],[3,"src","alt"],[1,"specialist-card__info"],[1,"specialist-card__name"],[1,"specialist-card__profession"]],template:function(t,r){t&1&&(C(0,"section",0)(1,"h2",1),T(2,"Poznaj naszych specjalist\xF3w"),I(),C(3,"p",2),T(4," Ka\u017Cdy z naszych psycholog\xF3w to osoba z do\u015Bwiadczeniem, empati\u0105 i indywidualnym podej\u015Bciem do Ciebie i Twojej sytuacji. "),I(),C(5,"div",3),Se(6,e4,8,4,"div",4),I()()),t&2&&(F(5),Q("@listAnimation",void 0),F(),Q("ngForOf",r.specialists))},dependencies:[$e,Bt],styles:[".specialists[_ngcontent-%COMP%]{max-width:1200px;margin:80px auto;padding:0 20px;text-align:center}.specialists__title[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;color:#011632}.specialists__description[_ngcontent-%COMP%]{font-size:1.2rem;color:#555;margin-bottom:50px}.specialists__grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:30px}.specialist-card[_ngcontent-%COMP%]{background-color:#fff;border-radius:16px;box-shadow:0 4px 14px #0000000f;overflow:hidden;display:flex;flex-direction:column;transition:transform .3s ease}.specialist-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px)}.specialist-card__image[_ngcontent-%COMP%]{width:100%;height:250px}.specialist-card__image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;display:block}.specialist-card__info[_ngcontent-%COMP%]{padding:20px 16px}.specialist-card__name[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:600;color:#1e1f4b;margin:0 0 8px}.specialist-card__profession[_ngcontent-%COMP%]{font-size:1rem;color:#777}"],data:{animation:[Bn("listAnimation",[zn(":enter",[bi(".specialist-card",[ht({opacity:0,transform:"translateY(20px)"}),Ci(150,[$n("600ms ease-out",ht({opacity:1,transform:"translateY(0)"}))])])])])]}})};var t4=()=>({delay:300}),Nw=n=>({value:"",params:n}),n4=()=>({delay:600}),r4=()=>({delay:900}),Xp=class n{constructor(e){this.router=e}goToContactForm(){this.router.navigate(["/contactform"])}static \u0275fac=function(t){return new(t||n)(ee(it))};static \u0275cmp=ge({type:n,selectors:[["app-cta-section"]],decls:7,vars:12,consts:[[1,"cta-section"],[1,"cta-title"],[1,"cta-description"],[1,"cta-button"]],template:function(t,r){t&1&&(C(0,"section",0)(1,"h2",1),T(2,"Zr\xF3b pierwszy krok ku lepszemu samopoczuciu"),I(),C(3,"p",2),T(4," Twoje zdrowie psychiczne ma znaczenie. Wystarczy jedna rozmowa, by zacz\u0105\u0107 co\u015B zmienia\u0107. Jeste\u015Bmy tu, by Ci pom\xF3c. "),I(),C(5,"button",3),T(6,"Um\xF3w si\u0119 na sesj\u0119"),I()()),t&2&&(F(),Q("@fadeItem",$c(4,Nw,Bc(3,t4))),F(2),Q("@fadeItem",$c(7,Nw,Bc(6,n4))),F(2),Q("@fadeItem",$c(10,Nw,Bc(9,r4))))},dependencies:[$e],styles:[".cta-section[_ngcontent-%COMP%]{max-width:800px;margin:100px auto;padding:60px 20px;text-align:center;border-radius:16px}.cta-title[_ngcontent-%COMP%]{font-size:2.4rem;font-weight:700;color:#011632;margin-bottom:20px}.cta-description[_ngcontent-%COMP%]{font-size:1.2rem;color:#444;margin-bottom:30px;line-height:1.6}.cta-button[_ngcontent-%COMP%]{padding:14px 32px;font-size:1rem;font-weight:600;color:#fff;background-color:#007bff;border:none;border-radius:8px;cursor:pointer;transition:background .3s ease}.cta-button[_ngcontent-%COMP%]:hover{background-color:#005fcc}"],data:{animation:[Bn("fadeItem",[zn(":enter",[ht({opacity:0,transform:"translateY(20px)"}),$n("{{delay}}ms ease-out",ht({opacity:1,transform:"translateY(0)"}))],{params:{delay:0}})])]}})};var ir=class n{constructor(e){this.router=e}goToHome(){this.router.navigate(["/home"])}goToContactForm(){this.router.navigate(["/contactform"])}goToLogin(){this.router.navigate(["/login"])}logosTexts=new yo;logosImages=new ft;isScrolled=!1;ngOnInit(){window.addEventListener("scroll",this.handleScroll.bind(this))}handleScroll(){this.isScrolled=window.scrollY>10}static \u0275fac=function(t){return new(t||n)(ee(it))};static \u0275cmp=ge({type:n,selectors:[["app-navbar"]],decls:15,vars:3,consts:[[1,"navbar"],[1,"navbar_container"],[1,"navbar_logo"],[1,"navbar_logo_image",3,"src"],[1,"navbar_logo_text"],[1,"navbar_links"],[1,"navbar_links_link",3,"click"],[1,"navbar_links_link","cta",3,"click"]],template:function(t,r){t&1&&(C(0,"div",0)(1,"div",1)(2,"div",2),ie(3,"img",3),C(4,"span",4),T(5,"Logos"),I()(),C(6,"div",5)(7,"a",6),Ve("click",function(){return r.goToHome()}),T(8,"Strona G\u0142\xF3wna"),I(),C(9,"a",6),Ve("click",function(){return r.goToContactForm()}),T(10,"Kontakt"),I(),C(11,"a",6),Ve("click",function(){return r.goToLogin()}),T(12,"Login"),I(),C(13,"a",7),Ve("click",function(){return r.goToContactForm()}),T(14,"Um\xF3w si\u0119 na sesj\u0119"),I()()()()),t&2&&(jt("scrolled",r.isScrolled),F(3),Q("src",r.logosImages.logo,Je))},dependencies:[$e],styles:[".navbar[_ngcontent-%COMP%]{width:100%;position:fixed;top:0;left:0;z-index:1000;transition:background-color .3s ease,box-shadow .3s ease}.navbar.scrolled[_ngcontent-%COMP%]{background-color:#fff;box-shadow:0 2px 10px #0000001a}.navbar_container[_ngcontent-%COMP%]{margin:0 auto;display:flex;align-items:center;justify-content:space-between;height:70px;padding:0 20px;font-family:Roboto,sans-serif}.navbar_logo[_ngcontent-%COMP%]{display:flex;align-items:center}.navbar_logo_image[_ngcontent-%COMP%]{width:50px;margin-right:10px}.navbar_logo_text[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:700;color:#1e1f4b}.navbar_links[_ngcontent-%COMP%]{display:flex;align-items:center}.navbar_links_link[_ngcontent-%COMP%]{margin-right:30px;text-decoration:none;color:#1e1f4b;font-size:1rem;transition:color .2s}.navbar_links_link[_ngcontent-%COMP%]:hover{cursor:pointer;color:#7b4ae2}.navbar_links_link.cta[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;padding:10px 16px;border-radius:8px;font-size:15px}.navbar_links_link.cta[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:#0056b3}@media screen and (max-width: 767px){.navbar[_ngcontent-%COMP%]{display:none}}"]})};var Qr=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=ge({type:n,selectors:[["app-footer"]],decls:34,vars:1,consts:[[1,"footer"],[1,"footer__content"],[1,"footer__col","footer__brand"],[1,"footer__logo"],["src","assets/logo.svg","alt","Logo"],[1,"footer__desc"],[1,"footer__copyright"],[1,"footer__col"],[1,"footer__heading"],[1,"footer__list"],["routerLink","/privacy-policy"],["routerLink","/terms-of-service"],["routerLink","/contactform"],[1,"footer__col","footer__social"],[1,"footer__social-icons"],["href","#"],["src","assets/icons/facebook.png","alt","Facebook"],["src","assets/icons/instagram.png","alt","Instagram"],["src","assets/icons/linkedin.png","alt","LinkedIn"]],template:function(t,r){t&1&&(C(0,"footer",0)(1,"div",1)(2,"div",2)(3,"div",3),ie(4,"img",4),C(5,"span"),T(6,"Logos"),I()(),C(7,"p",5),T(8,"Zapewnij sobie spok\xF3j."),I(),C(9,"p",6),T(10,"\xA9 Maciej Wawryszuk 2025"),I()(),C(11,"div",7)(12,"h4",8),T(13,"Linki"),I(),C(14,"ul",9)(15,"li")(16,"a",10),T(17,"Polityka Prywatno\u015Bci"),I()(),C(18,"li")(19,"a",11),T(20,"Regulamin"),I()(),C(21,"li")(22,"a",12),T(23,"Kontakt"),I()()()(),C(24,"div",13)(25,"h4",8),T(26,"Social Media"),I(),C(27,"div",14)(28,"a",15),ie(29,"img",16),I(),C(30,"a",15),ie(31,"img",17),I(),C(32,"a",15),ie(33,"img",18),I()()()()()),t&2&&(F(),Q("@footerStagger",void 0))},dependencies:[$e,vu,Cp],styles:[".footer[_ngcontent-%COMP%]{background-color:#f8f9fc;padding:20px;font-family:Inter,sans-serif}.footer__content[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;display:grid;grid-template-columns:2fr 1fr 1fr;gap:40px}@media (max-width: 900px){.footer__content[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}@media (max-width: 600px){.footer__content[_ngcontent-%COMP%]{grid-template-columns:1fr;text-align:center}}.footer__col[_ngcontent-%COMP%]{display:flex;flex-direction:column}.footer__brand[_ngcontent-%COMP%]   .footer__logo[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px}.footer__brand[_ngcontent-%COMP%]   .footer__logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:40px;height:40px}.footer__brand[_ngcontent-%COMP%]   .footer__logo[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#1e1f4b}.footer__brand[_ngcontent-%COMP%]   .footer__desc[_ngcontent-%COMP%]{margin:20px 0;font-size:.95rem;color:#555}.footer__brand[_ngcontent-%COMP%]   .footer__copyright[_ngcontent-%COMP%]{font-size:.85rem;color:#aaa;margin-top:auto}.footer__heading[_ngcontent-%COMP%]{font-weight:600;margin-bottom:15px;color:#007bff}.footer__list[_ngcontent-%COMP%]{list-style:none;padding:0}.footer__list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:10px}.footer__list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#444;font-size:.95rem}.footer__list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#007bff}.footer__social[_ngcontent-%COMP%]   .footer__social-icons[_ngcontent-%COMP%]{display:flex;gap:15px;align-items:center}.footer__social[_ngcontent-%COMP%]   .footer__social-icons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:24px;height:24px;transition:opacity .3s}.footer__social[_ngcontent-%COMP%]   .footer__social-icons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover{opacity:.7}@media (max-width: 600px){.footer__social[_ngcontent-%COMP%]   .footer__social-icons[_ngcontent-%COMP%]{justify-content:center;margin-top:10px}}"],data:{animation:[Bn("footerStagger",[zn(":enter",[bi(".footer__col",[ht({opacity:0,transform:"translateY(20px)"}),Ci(100,[$n("600ms ease-out",ht({opacity:1,transform:"translateY(0)"}))])])])])]}})};function i4(n,e){n&1&&(gi(),C(0,"svg",8),ie(1,"path",9),I())}function o4(n,e){n&1&&(gi(),C(0,"svg",8),ie(1,"path",10),I())}function s4(n,e){if(n&1){let t=fs();C(0,"nav",11)(1,"a",12),Ve("click",function(){wr(t);let i=Xe();return Er(i.goToHome())}),T(2,"Strona G\u0142\xF3wna"),I(),C(3,"a",12),Ve("click",function(){wr(t);let i=Xe();return Er(i.goToContactForm())}),T(4,"Kontakt"),I(),C(5,"a",12),Ve("click",function(){wr(t);let i=Xe();return Er(i.goToLogin())}),T(6,"Login"),I(),C(7,"a",13),Ve("click",function(){wr(t);let i=Xe();return Er(i.goToContactForm())}),T(8,"Um\xF3w si\u0119 na sesj\u0119"),I()()}if(n&2){let t=Xe();Q("@openClose",t.openCloseTrigger)}}var or=class n{constructor(e){this.router=e}name="Angular "+JA.major;mobileMenuOpen=!1;isScrolled=!1;ngOnInit(){window.addEventListener("scroll",this.onScroll,!0)}ngOnDestroy(){window.removeEventListener("scroll",this.onScroll,!0)}onScroll=()=>{this.isScrolled=window.scrollY>10};toggleMobileMenu(){this.mobileMenuOpen=!this.mobileMenuOpen}closeMenuAndNavigate(e){this.mobileMenuOpen=!1,e()}get openCloseTrigger(){return this.mobileMenuOpen?"open":"closed"}goToHome(){this.router.navigate(["/home"])}goToContactForm(){this.router.navigate(["/contactform"])}goToLogin(){this.router.navigate(["/login"])}logosTexts=new yo;logosImages=new ft;static \u0275fac=function(t){return new(t||n)(ee(it))};static \u0275cmp=ge({type:n,selectors:[["app-mobile-nav"]],decls:10,vars:7,consts:[[1,"mobile-nav"],[1,"mobile-nav_container"],[1,"mobile-nav_logo"],["alt","Logo",1,"mobile-nav_logo_image",3,"src"],[1,"mobile-nav_logo_text"],["aria-label","Toggle menu",1,"mobile-nav_burger-btn",3,"click"],["class","burger-icon","xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",4,"ngIf"],["class","mobile-nav_links",4,"ngIf"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"burger-icon"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M4 6h16M4 12h16M4 18h16"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M6 18L18 6M6 6l12 12"],[1,"mobile-nav_links"],[1,"mobile-nav_links_link",3,"click"],[1,"mobile-nav_links_link","cta",3,"click"]],template:function(t,r){t&1&&(C(0,"header",0)(1,"div",1)(2,"div",2),ie(3,"img",3),C(4,"span",4),T(5,"Logos"),I()(),C(6,"button",5),Ve("click",function(){return r.toggleMobileMenu()}),Se(7,i4,2,0,"svg",6)(8,o4,2,0,"svg",6),I()(),Se(9,s4,9,1,"nav",7),I()),t&2&&(jt("scrolled",r.isScrolled),F(3),Q("src",r.logosImages.logo,Je),F(3),ao("aria-expanded",r.mobileMenuOpen),F(),Q("ngIf",!r.mobileMenuOpen),F(),Q("ngIf",r.mobileMenuOpen),F(),Q("ngIf",r.mobileMenuOpen))},dependencies:[$e,Ln],styles:[".mobile-nav[_ngcontent-%COMP%]{width:100%;position:fixed;top:0;left:0;z-index:1100;background-color:transparent;transition:background-color .3s ease,box-shadow .3s ease;font-family:Roboto,sans-serif}.mobile-nav.scrolled[_ngcontent-%COMP%]{background-color:#fff;box-shadow:0 2px 10px #0000001a}.mobile-nav_container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;display:flex;align-items:center;justify-content:space-between;height:70px;padding:0 20px}.mobile-nav_logo[_ngcontent-%COMP%]{display:flex;align-items:center}.mobile-nav_logo_image[_ngcontent-%COMP%]{width:40px;height:40px;margin-right:10px}.mobile-nav_logo_text[_ngcontent-%COMP%]{font-weight:700;font-size:1.2rem;color:#1e1f4b}.mobile-nav_burger-btn[_ngcontent-%COMP%]{background:none;border:none;cursor:pointer;padding:8px}.mobile-nav_burger-btn[_ngcontent-%COMP%]   .burger-icon[_ngcontent-%COMP%]{width:24px;height:24px;stroke:#1e1f4b}.mobile-nav_links[_ngcontent-%COMP%]{display:flex;flex-direction:column;background-color:#fff;padding:10px 20px;box-shadow:0 4px 10px -2px #0000001f}.mobile-nav_links_link[_ngcontent-%COMP%]{font-size:1rem;font-weight:600;color:#1e1f4b;padding:12px 0;cursor:pointer;text-decoration:none}.mobile-nav_links_link.cta[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;padding:8px 16px;border-radius:8px;font-weight:700;margin-top:10px;text-align:center}.mobile-nav_links_link[_ngcontent-%COMP%]:hover{color:#7b4ae2}@media (min-width: 768px){.mobile-nav[_ngcontent-%COMP%]{display:none}}"],data:{animation:[Bn("openClose",[Ip("open",ht({height:"*",opacity:1,transform:"scaleY(1)"})),Ip("closed",ht({height:"0",opacity:0,display:"none",transform:"scaleY(0.95)"})),zn("open <=> closed",$n("200ms ease-in-out"))])]}})};var eg=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=ge({type:n,selectors:[["app-landing"]],decls:12,vars:0,template:function(t,r){t&1&&ie(0,"app-navbar")(1,"app-mobile-nav")(2,"app-hero")(3,"app-stats")(4,"app-help-areas")(5,"app-offer-section")(6,"app-testimonials")(7,"app-how-it-works")(8,"app-faq")(9,"app-specialists-showcase")(10,"app-cta-section")(11,"app-footer")},dependencies:[qp,Gp,Wp,Kp,Qp,Yp,Zp,Jp,Xp,ir,Qr,or],encapsulation:2})};var DR=(()=>{class n{_renderer;_elementRef;onChange=t=>{};onTouched=()=>{};constructor(t,r){this._renderer=t,this._elementRef=r}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static \u0275fac=function(r){return new(r||n)(ee(_i),ee(Ur))};static \u0275dir=yt({type:n})}return n})(),SR=(()=>{class n extends DR{static \u0275fac=(()=>{let t;return function(i){return(t||(t=io(n)))(i||n)}})();static \u0275dir=yt({type:n,features:[Cr]})}return n})(),Vw=new oe(""),a4={provide:Vw,useExisting:Pr(()=>jw),multi:!0},jw=(()=>{class n extends SR{writeValue(t){this.setProperty("checked",t)}static \u0275fac=(()=>{let t;return function(i){return(t||(t=io(n)))(i||n)}})();static \u0275dir=yt({type:n,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(r,i){r&1&&Ve("change",function(s){return i.onChange(s.target.checked)})("blur",function(){return i.onTouched()})},standalone:!1,features:[ps([a4]),Cr]})}return n})(),l4={provide:Vw,useExisting:Pr(()=>Wa),multi:!0};function c4(){let n=tr()?tr().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var u4=new oe(""),Wa=(()=>{class n extends DR{_compositionMode;_composing=!1;constructor(t,r,i){super(t,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!c4())}writeValue(t){let r=t??"";this.setProperty("value",r)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static \u0275fac=function(r){return new(r||n)(ee(_i),ee(Ur),ee(u4,8))};static \u0275dir=yt({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&Ve("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},standalone:!1,features:[ps([l4]),Cr]})}return n})();function Uw(n){return n==null||Bw(n)===0}function Bw(n){return n==null?null:Array.isArray(n)||typeof n=="string"?n.length:n instanceof Set?n.size:null}var $w=new oe(""),TR=new oe(""),d4=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,sr=class{static min(e){return h4(e)}static max(e){return f4(e)}static required(e){return AR(e)}static requiredTrue(e){return p4(e)}static email(e){return g4(e)}static minLength(e){return m4(e)}static maxLength(e){return y4(e)}static pattern(e){return v4(e)}static nullValidator(e){return rg()}static compose(e){return kR(e)}static composeAsync(e){return FR(e)}};function h4(n){return e=>{if(e.value==null||n==null)return null;let t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}function f4(n){return e=>{if(e.value==null||n==null)return null;let t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}function AR(n){return Uw(n.value)?{required:!0}:null}function p4(n){return n.value===!0?null:{required:!0}}function g4(n){return Uw(n.value)||d4.test(n.value)?null:{email:!0}}function m4(n){return e=>{let t=e.value?.length??Bw(e.value);return t===null||t===0?null:t<n?{minlength:{requiredLength:n,actualLength:t}}:null}}function y4(n){return e=>{let t=e.value?.length??Bw(e.value);return t!==null&&t>n?{maxlength:{requiredLength:n,actualLength:t}}:null}}function v4(n){if(!n)return rg;let e,t;return typeof n=="string"?(t="",n.charAt(0)!=="^"&&(t+="^"),t+=n,n.charAt(n.length-1)!=="$"&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(Uw(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}function rg(n){return null}function MR(n){return n!=null}function xR(n){return so(n)?tt(n):n}function RR(n){let e={};return n.forEach(t=>{e=t!=null?B(B({},e),t):e}),Object.keys(e).length===0?null:e}function NR(n,e){return e.map(t=>t(n))}function _4(n){return!n.validate}function PR(n){return n.map(e=>_4(e)?e:t=>e.validate(t))}function kR(n){if(!n)return null;let e=n.filter(MR);return e.length==0?null:function(t){return RR(NR(t,e))}}function OR(n){return n!=null?kR(PR(n)):null}function FR(n){if(!n)return null;let e=n.filter(MR);return e.length==0?null:function(t){let r=NR(t,e).map(xR);return qy(r).pipe(Re(RR))}}function LR(n){return n!=null?FR(PR(n)):null}function yR(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function VR(n){return n._rawValidators}function jR(n){return n._rawAsyncValidators}function Pw(n){return n?Array.isArray(n)?n:[n]:[]}function ig(n,e){return Array.isArray(n)?n.includes(e):n===e}function vR(n,e){let t=Pw(e);return Pw(n).forEach(i=>{ig(t,i)||t.push(i)}),t}function _R(n,e){return Pw(e).filter(t=>!ig(n,t))}var og=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=OR(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=LR(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},qa=class extends og{name;get formDirective(){return null}get path(){return null}},xu=class extends og{_parent=null;name=null;valueAccessor=null},sg=class{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},w4={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},hle=me(B({},w4),{"[class.ng-submitted]":"isSubmitted"}),dg=(()=>{class n extends sg{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)(ee(xu,2))};static \u0275dir=yt({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&jt("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[Cr]})}return n})(),hg=(()=>{class n extends sg{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)(ee(qa,10))};static \u0275dir=yt({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&jt("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},standalone:!1,features:[Cr]})}return n})();var Su="VALID",tg="INVALID",za="PENDING",Tu="DISABLED",vo=class{},ag=class extends vo{value;source;constructor(e,t){super(),this.value=e,this.source=t}},Au=class extends vo{pristine;source;constructor(e,t){super(),this.pristine=e,this.source=t}},Mu=class extends vo{touched;source;constructor(e,t){super(),this.touched=e,this.source=t}},Ha=class extends vo{status;source;constructor(e,t){super(),this.status=e,this.source=t}},kw=class extends vo{source;constructor(e){super(),this.source=e}},Ow=class extends vo{source;constructor(e){super(),this.source=e}};function zw(n){return(fg(n)?n.validators:n)||null}function E4(n){return Array.isArray(n)?OR(n):n||null}function Hw(n,e){return(fg(e)?e.asyncValidators:n)||null}function b4(n){return Array.isArray(n)?LR(n):n||null}function fg(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function UR(n,e,t){let r=n.controls;if(!(e?Object.keys(r):r).length)throw new j(1e3,"");if(!r[t])throw new j(1001,"")}function BR(n,e,t){n._forEachChild((r,i)=>{if(t[i]===void 0)throw new j(1002,"")})}var Ga=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,t){this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return er(this.statusReactive)}set status(e){er(()=>this.statusReactive.set(e))}_status=Ca(()=>this.statusReactive());statusReactive=mi(void 0);get valid(){return this.status===Su}get invalid(){return this.status===tg}get pending(){return this.status==za}get disabled(){return this.status===Tu}get enabled(){return this.status!==Tu}errors;get pristine(){return er(this.pristineReactive)}set pristine(e){er(()=>this.pristineReactive.set(e))}_pristine=Ca(()=>this.pristineReactive());pristineReactive=mi(!0);get dirty(){return!this.pristine}get touched(){return er(this.touchedReactive)}set touched(e){er(()=>this.touchedReactive.set(e))}_touched=Ca(()=>this.touchedReactive());touchedReactive=mi(!1);get untouched(){return!this.touched}_events=new Et;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(vR(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(vR(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(_R(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(_R(e,this._rawAsyncValidators))}hasValidator(e){return ig(this._rawValidators,e)}hasAsyncValidator(e){return ig(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(me(B({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new Mu(!0,r))}markAllAsDirty(e={}){this.markAsDirty({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsDirty(e))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),t&&e.emitEvent!==!1&&this._events.next(new Mu(!1,r))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(me(B({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new Au(!1,r))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),t&&e.emitEvent!==!1&&this._events.next(new Au(!0,r))}markAsPending(e={}){this.status=za;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Ha(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(me(B({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Tu,this.errors=null,this._forEachChild(i=>{i.disable(me(B({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new ag(this.value,r)),this._events.next(new Ha(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(me(B({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Su,this._forEachChild(r=>{r.enable(me(B({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(me(B({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Su||this.status===za)&&this._runAsyncValidator(r,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new ag(this.value,t)),this._events.next(new Ha(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(me(B({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Tu:Su}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=za,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1,shouldHaveEmitted:e!==!1};let r=xR(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){let r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new Ha(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,r)}_initObservables(){this.valueChanges=new Ct,this.statusChanges=new Ct}_calculateStatus(){return this._allControlsDisabled()?Tu:this.errors?tg:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(za)?za:this._anyControlsHaveStatus(tg)?tg:Su}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),i&&this._events.next(new Au(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new Mu(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){fg(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=E4(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=b4(this._rawAsyncValidators)}},lg=class extends Ga{constructor(e,t,r){super(zw(t),Hw(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){BR(this,!0,e),Object.keys(e).forEach(r=>{UR(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>r._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,o)=>{r=t(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var Fw=class extends lg{};var qw=new oe("",{providedIn:"root",factory:()=>pg}),pg="always";function C4(n,e){return[...e.path,n]}function wR(n,e,t=pg){Gw(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),D4(n,e),T4(n,e),S4(n,e),I4(n,e)}function ER(n,e,t=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),ug(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function cg(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function I4(n,e){if(e.valueAccessor.setDisabledState){let t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function Gw(n,e){let t=VR(n);e.validator!==null?n.setValidators(yR(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let r=jR(n);e.asyncValidator!==null?n.setAsyncValidators(yR(r,e.asyncValidator)):typeof r=="function"&&n.setAsyncValidators([r]);let i=()=>n.updateValueAndValidity();cg(e._rawValidators,i),cg(e._rawAsyncValidators,i)}function ug(n,e){let t=!1;if(n!==null){if(e.validator!==null){let i=VR(n);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.validator);o.length!==i.length&&(t=!0,n.setValidators(o))}}if(e.asyncValidator!==null){let i=jR(n);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.asyncValidator);o.length!==i.length&&(t=!0,n.setAsyncValidators(o))}}}let r=()=>{};return cg(e._rawValidators,r),cg(e._rawAsyncValidators,r),t}function D4(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&$R(n,e)})}function S4(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&$R(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function $R(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function T4(n,e){let t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function A4(n,e){n==null,Gw(n,e)}function M4(n,e){return ug(n,e)}function x4(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function R4(n){return Object.getPrototypeOf(n.constructor)===SR}function N4(n,e){n._syncPendingControls(),e.forEach(t=>{let r=t.control;r.updateOn==="submit"&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function P4(n,e){if(!e)return null;Array.isArray(e);let t,r,i;return e.forEach(o=>{o.constructor===Wa?t=o:R4(o)?r=o:i=o}),i||r||t||null}function k4(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function bR(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function CR(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var ng=class extends Ga{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,t,r){super(zw(t),Hw(r,t)),this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),fg(t)&&(t.nonNullable||t.initialValueIsDefault)&&(CR(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){bR(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){bR(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){CR(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var O4=n=>n instanceof ng;var gg=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275dir=yt({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return n})();var zR=new oe("");var F4={provide:qa,useExisting:Pr(()=>Ru)},Ru=(()=>{class n extends qa{callSetDisabledState;get submitted(){return er(this._submittedReactive)}set submitted(t){this._submittedReactive.set(t)}_submitted=Ca(()=>this._submittedReactive());_submittedReactive=mi(!1);_oldForm;_onCollectionChange=()=>this._updateDomValue();directives=[];form=null;ngSubmit=new Ct;constructor(t,r,i){super(),this.callSetDisabledState=i,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(ug(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){let r=this.form.get(t.path);return wR(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){ER(t.control||null,t,!1),k4(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this._submittedReactive.set(!0),N4(this.form,this.directives),this.ngSubmit.emit(t),this.form._events.next(new kw(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0,r={}){this.form.reset(t,r),this._submittedReactive.set(!1),r?.emitEvent!==!1&&this.form._events.next(new Ow(this.form))}_updateDomValue(){this.directives.forEach(t=>{let r=t.control,i=this.form.get(t.path);r!==i&&(ER(r||null,t),O4(i)&&(wR(i,t,this.callSetDisabledState),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){let r=this.form.get(t.path);A4(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){let r=this.form.get(t.path);r&&M4(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Gw(this.form,this),this._oldForm&&ug(this._oldForm,this)}static \u0275fac=function(r){return new(r||n)(ee($w,10),ee(TR,10),ee(qw,8))};static \u0275dir=yt({type:n,selectors:[["","formGroup",""]],hostBindings:function(r,i){r&1&&Ve("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[ps([F4]),Cr,jr]})}return n})();var L4={provide:xu,useExisting:Pr(()=>Nu)},Nu=(()=>{class n extends xu{_ngModelWarningConfig;_added=!1;viewModel;control;name=null;set isDisabled(t){}model;update=new Ct;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(t,r,i,o,s){super(),this._ngModelWarningConfig=s,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=P4(this,o)}ngOnChanges(t){this._added||this._setUpControl(),x4(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return C4(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_setUpControl(){this.control=this.formDirective.addControl(this),this._added=!0}static \u0275fac=function(r){return new(r||n)(ee(qa,13),ee($w,10),ee(TR,10),ee(Vw,10),ee(zR,8))};static \u0275dir=yt({type:n,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},standalone:!1,features:[ps([L4]),Cr,jr]})}return n})();var V4=(()=>{class n{_validator=rg;_onChange;_enabled;ngOnChanges(t){if(this.inputName in t){let r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):rg,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return t!=null}static \u0275fac=function(r){return new(r||n)};static \u0275dir=yt({type:n,features:[jr]})}return n})();var j4={provide:$w,useExisting:Pr(()=>Pu),multi:!0};var Pu=(()=>{class n extends V4{required;inputName="required";normalizeInput=gs;createValidator=t=>AR;enabled(t){return t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=io(n)))(i||n)}})();static \u0275dir=yt({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){r&2&&ao("required",i._enabled?"":null)},inputs:{required:"required"},standalone:!1,features:[ps([j4]),Cr]})}return n})();var HR=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Xn({type:n});static \u0275inj=kn({})}return n})(),Lw=class extends Ga{constructor(e,t,r){super(zw(t),Hw(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),t&&(this.controls.splice(i,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){BR(this,!1,e),e.forEach((r,i)=>{UR(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,r)=>r._syncPendingControls()?!0:t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function IR(n){return!!n&&(n.asyncValidators!==void 0||n.validators!==void 0||n.updateOn!==void 0)}var mg=(()=>{class n{useNonNullable=!1;get nonNullable(){let t=new n;return t.useNonNullable=!0,t}group(t,r=null){let i=this._reduceControls(t),o={};return IR(r)?o=r:r!==null&&(o.validators=r.validator,o.asyncValidators=r.asyncValidator),new lg(i,o)}record(t,r=null){let i=this._reduceControls(t);return new Fw(i,r)}control(t,r,i){let o={};return this.useNonNullable?(IR(r)?o=r:(o.validators=r,o.asyncValidators=i),new ng(t,me(B({},o),{nonNullable:!0}))):new ng(t,r,i)}array(t,r,i){let o=t.map(s=>this._createControl(s));return new Lw(o,r,i)}_reduceControls(t){let r={};return Object.keys(t).forEach(i=>{r[i]=this._createControl(t[i])}),r}_createControl(t){if(t instanceof ng)return t;if(t instanceof Ga)return t;if(Array.isArray(t)){let r=t[0],i=t.length>1?t[1]:null,o=t.length>2?t[2]:null;return this.control(r,i,o)}else return this.control(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var qR=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:qw,useValue:t.callSetDisabledState??pg}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=Xn({type:n});static \u0275inj=kn({imports:[HR]})}return n})(),yg=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:zR,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:qw,useValue:t.callSetDisabledState??pg}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=Xn({type:n});static \u0275inj=kn({imports:[HR]})}return n})();function U4(n,e){n&1&&(C(0,"div",18),T(1," Podaj poprawny email. "),I())}function B4(n,e){n&1&&(C(0,"div",18),T(1," Imi\u0119 jest wymagane. "),I())}function $4(n,e){n&1&&(C(0,"div",18),T(1," Nazwisko jest wymagane. "),I())}function z4(n,e){n&1&&(C(0,"div",18),T(1," Numer telefonu musi zawiera\u0107 9 cyfr. "),I())}var vg=class n{constructor(e){this.fb=e;this.contactForm=this.fb.group({email:["",[sr.required,sr.email]],firstName:["",sr.required],lastName:["",sr.required],phone:["",[sr.required,sr.pattern(/^\d{9}$/)]]})}logosImages=new ft;contactForm;submitForm(){this.contactForm.valid?(console.log("Form submitted:",this.contactForm.value),alert("Wys\u0142ano formularz!"),this.contactForm.reset()):this.contactForm.markAllAsTouched()}static \u0275fac=function(t){return new(t||n)(ee(mg))};static \u0275cmp=ge({type:n,selectors:[["app-contact"]],decls:37,vars:6,consts:[[1,"contact"],[1,"contact__container"],[1,"contact__left"],[1,"contact__title"],["alt","Kontakt",1,"contact__image",3,"src"],[1,"contact__right"],[1,"contact__form",3,"ngSubmit","formGroup"],["for","email"],[2,"color","red"],["id","email","type","email","formControlName","email","placeholder","np. jan.kowalski@example.com","required",""],["class","error",4,"ngIf"],["for","firstName"],["id","firstName","type","text","formControlName","firstName","placeholder","np. Jan","required",""],["for","lastName"],["id","lastName","type","text","formControlName","lastName","placeholder","np. Kowalski","required",""],["for","phone"],["id","phone","type","tel","formControlName","phone","placeholder","np. 123456789","required",""],["type","submit",1,"contact__submit"],[1,"error"]],template:function(t,r){if(t&1&&(ie(0,"app-navbar")(1,"app-mobile-nav"),C(2,"div",0)(3,"div",1)(4,"div",2)(5,"h2",3),T(6,"Skontaktuj si\u0119 z nami w celu wizyty"),I(),ie(7,"img",4),I(),C(8,"div",5)(9,"form",6),Ve("ngSubmit",function(){return r.submitForm()}),C(10,"label",7),T(11,"Email "),C(12,"span",8),T(13,"*"),I()(),ie(14,"input",9),Se(15,U4,2,0,"div",10),C(16,"label",11),T(17,"Imi\u0119 "),C(18,"span",8),T(19,"*"),I()(),ie(20,"input",12),Se(21,B4,2,0,"div",10),C(22,"label",13),T(23,"Nazwisko "),C(24,"span",8),T(25,"*"),I()(),ie(26,"input",14),Se(27,$4,2,0,"div",10),C(28,"label",15),T(29,"Numer telefonu "),C(30,"span",8),T(31,"*"),I()(),ie(32,"input",16),Se(33,z4,2,0,"div",10),C(34,"button",17),T(35,"Wy\u015Blij"),I()()()()(),ie(36,"app-footer")),t&2){let i,o,s,a;F(7),Q("src",r.logosImages.psychologistTalkingImage,Je),F(2),Q("formGroup",r.contactForm),F(6),Q("ngIf",((i=r.contactForm.get("email"))==null?null:i.touched)&&((i=r.contactForm.get("email"))==null?null:i.invalid)),F(6),Q("ngIf",((o=r.contactForm.get("firstName"))==null?null:o.touched)&&((o=r.contactForm.get("firstName"))==null?null:o.invalid)),F(6),Q("ngIf",((s=r.contactForm.get("lastName"))==null?null:s.touched)&&((s=r.contactForm.get("lastName"))==null?null:s.invalid)),F(6),Q("ngIf",((a=r.contactForm.get("phone"))==null?null:a.touched)&&((a=r.contactForm.get("phone"))==null?null:a.invalid))}},dependencies:[$e,Ln,yg,gg,Wa,dg,hg,Pu,Ru,Nu,ir,Qr,or],styles:[".contact[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;padding:80px 20px;min-height:70vh;background-color:#f9f9f9}.contact__container[_ngcontent-%COMP%]{display:flex;max-width:1200px;width:100%;background-color:#fff;box-shadow:0 4px 20px #0000001a;border-radius:16px;overflow:hidden}.contact__left[_ngcontent-%COMP%], .contact__right[_ngcontent-%COMP%]{flex:1;padding:40px}.contact__left[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;background-color:#fff}.contact__left[_ngcontent-%COMP%]   .contact__title[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:700;color:#011632;text-align:center;margin-bottom:30px}.contact__left[_ngcontent-%COMP%]   .contact__image[_ngcontent-%COMP%]{max-width:100%;height:auto;border-radius:12px}.contact__right[_ngcontent-%COMP%]{background-color:#eef1f8;display:flex;align-items:center}.contact__right[_ngcontent-%COMP%]   .contact__form[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;gap:15px}.contact__right[_ngcontent-%COMP%]   .contact__form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:600;margin-bottom:5px;color:#333}.contact__right[_ngcontent-%COMP%]   .contact__form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:10px;font-size:1rem;border:1px solid #ccc;border-radius:8px;background-color:#fff}.contact__right[_ngcontent-%COMP%]   .contact__form[_ngcontent-%COMP%]   .error[_ngcontent-%COMP%]{color:red;font-size:.85rem;margin-top:-8px;margin-bottom:10px}.contact__right[_ngcontent-%COMP%]   .contact__form[_ngcontent-%COMP%]   .contact__submit[_ngcontent-%COMP%]{margin-top:20px;padding:12px;font-size:1rem;font-weight:700;background-color:#007bff;color:#fff;border:none;border-radius:8px;cursor:pointer;transition:background .3s ease}.contact__right[_ngcontent-%COMP%]   .contact__form[_ngcontent-%COMP%]   .contact__submit[_ngcontent-%COMP%]:hover{background-color:#0056b3}@media (max-width: 768px){.contact__container[_ngcontent-%COMP%]{flex-direction:column}.contact__left[_ngcontent-%COMP%], .contact__right[_ngcontent-%COMP%]{padding:30px 20px}.contact__left[_ngcontent-%COMP%]   .contact__title[_ngcontent-%COMP%]{font-size:2rem}}"]})};var WR=()=>{};var YR=function(n){let e=[],t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},H4=function(n){let e=[],t=0,r=0;for(;t<n.length;){let i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=n[t++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=n[t++],s=n[t++],a=n[t++],l=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{let o=n[t++],s=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},ZR={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){let o=n[i],s=i+1<n.length,a=s?n[i+1]:0,l=i+2<n.length,u=l?n[i+2]:0,d=o>>2,f=(o&3)<<4|a>>4,p=(a&15)<<2|u>>6,m=u&63;l||(m=64,s||(p=64)),r.push(t[d],t[f],t[p],t[m])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(YR(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):H4(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){let o=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;let u=i<n.length?t[n.charAt(i)]:64;++i;let f=i<n.length?t[n.charAt(i)]:64;if(++i,o==null||a==null||u==null||f==null)throw new Ww;let p=o<<2|a>>4;if(r.push(p),u!==64){let m=a<<4&240|u>>2;if(r.push(m),f!==64){let v=u<<6&192|f;r.push(v)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},Ww=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},q4=function(n){let e=YR(n);return ZR.encodeByteArray(e,!0)},Ou=function(n){return q4(n).replace(/\./g,"")},JR=function(n){try{return ZR.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function XR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var G4=()=>XR().__FIREBASE_DEFAULTS__,W4=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},K4=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&JR(n[1]);return e&&JSON.parse(e)},Kw=()=>{try{return WR()||G4()||W4()||K4()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},Q4=n=>{var e,t;return(t=(e=Kw())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},eN=n=>{let e=Q4(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},Qw=()=>{var n;return(n=Kw())===null||n===void 0?void 0:n.config};var _g=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}};function wg(n){return n.endsWith(".cloudworkstations.dev")}function tN(n){return H(this,null,function*(){return(yield fetch(n,{credentials:"include"})).ok})}function nN(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Ou(JSON.stringify(t)),Ou(JSON.stringify(s)),""].join(".")}var ku={};function Y4(){let n={prod:[],emulator:[]};for(let e of Object.keys(ku))ku[e]?n.emulator.push(e):n.prod.push(e);return n}function Z4(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}var KR=!1;function rN(n,e){if(typeof window>"u"||typeof document>"u"||!wg(window.location.host)||ku[n]===e||ku[n]||KR)return;ku[n]=e;function t(p){return`__firebase__banner__${p}`}let r="__firebase__banner",o=Y4().prod.length>0;function s(){let p=document.getElementById(r);p&&p.remove()}function a(p){p.style.display="flex",p.style.background="#7faaf0",p.style.position="fixed",p.style.bottom="5px",p.style.left="5px",p.style.padding=".5em",p.style.borderRadius="5px",p.style.alignItems="center"}function l(p,m){p.setAttribute("width","24"),p.setAttribute("id",m),p.setAttribute("height","24"),p.setAttribute("viewBox","0 0 24 24"),p.setAttribute("fill","none"),p.style.marginLeft="-6px"}function u(){let p=document.createElement("span");return p.style.cursor="pointer",p.style.marginLeft="16px",p.style.fontSize="24px",p.innerHTML=" &times;",p.onclick=()=>{KR=!0,s()},p}function d(p,m){p.setAttribute("id",m),p.innerText="Learn more",p.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",p.setAttribute("target","__blank"),p.style.paddingLeft="5px",p.style.textDecoration="underline"}function f(){let p=Z4(r),m=t("text"),v=document.getElementById(m)||document.createElement("span"),w=t("learnmore"),A=document.getElementById(w)||document.createElement("a"),N=t("preprendIcon"),O=document.getElementById(N)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(p.created){let U=p.element;a(U),d(A,w);let q=u();l(O,N),U.append(O,v,A,q),document.body.appendChild(U)}o?(v.innerText="Preview backend disconnected.",O.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(O.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,v.innerText="Preview backend running in this workspace."),v.setAttribute("id",m)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}function iN(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function J4(){var n;let e=(n=Kw())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function oN(){return!J4()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Yw(){try{return typeof indexedDB=="object"}catch{return!1}}function sN(){return new Promise((n,e)=>{try{let t=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}var X4="FirebaseError",Di=class n extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=X4,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Fu.prototype.create)}},Fu=class{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?eH(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new Di(i,a,r)}};function eH(n,e){return n.replace(tH,(t,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var tH=/\{\$([^}]+)}/g;function Ka(n,e){if(n===e)return!0;let t=Object.keys(n),r=Object.keys(e);for(let i of t){if(!r.includes(i))return!1;let o=n[i],s=e[i];if(QR(o)&&QR(s)){if(!Ka(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!t.includes(i))return!1;return!0}function QR(n){return n!==null&&typeof n=="object"}var Tle=4*60*60*1e3;function Lu(n){return n&&n._delegate?n._delegate:n}var Si=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Ts="[DEFAULT]";var Zw=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let r=new _g;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(rH(e))try{this.getOrInitializeService({instanceIdentifier:Ts})}catch{}for(let[t,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(t);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Ts){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return H(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Ts){return this.instances.has(e)}getOptions(e=Ts){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,t){var r;let i=this.normalizeInstanceIdentifier(t),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){let r=this.onInitCallbacks.get(t);if(r)for(let i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:nH(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ts){return this.component?this.component.multipleInstances?e:Ts:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function nH(n){return n===Ts?void 0:n}function rH(n){return n.instantiationMode==="EAGER"}var Eg=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new Zw(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var iH=[],Oe=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(Oe||{}),oH={debug:Oe.DEBUG,verbose:Oe.VERBOSE,info:Oe.INFO,warn:Oe.WARN,error:Oe.ERROR,silent:Oe.SILENT},sH=Oe.INFO,aH={[Oe.DEBUG]:"log",[Oe.VERBOSE]:"log",[Oe.INFO]:"info",[Oe.WARN]:"warn",[Oe.ERROR]:"error"},lH=(n,e,...t)=>{if(e<n.logLevel)return;let r=new Date().toISOString(),i=aH[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Qa=class{constructor(e){this.name=e,this._logLevel=sH,this._logHandler=lH,this._userLogHandler=null,iH.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Oe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?oH[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Oe.DEBUG,...e),this._logHandler(this,Oe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Oe.VERBOSE,...e),this._logHandler(this,Oe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Oe.INFO,...e),this._logHandler(this,Oe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Oe.WARN,...e),this._logHandler(this,Oe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Oe.ERROR,...e),this._logHandler(this,Oe.ERROR,...e)}};var cH=(n,e)=>e.some(t=>n instanceof t),aN,lN;function uH(){return aN||(aN=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function dH(){return lN||(lN=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var cN=new WeakMap,Xw=new WeakMap,uN=new WeakMap,Jw=new WeakMap,tE=new WeakMap;function hH(n){let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t(Yr(n.result)),i()},s=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&cN.set(t,n)}).catch(()=>{}),tE.set(e,n),e}function fH(n){if(Xw.has(n))return;let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),i()},s=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});Xw.set(n,e)}var eE={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Xw.get(n);if(e==="objectStoreNames")return n.objectStoreNames||uN.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Yr(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function dN(n){eE=n(eE)}function pH(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let r=n.call(bg(this),e,...t);return uN.set(r,e.sort?e.sort():[e]),Yr(r)}:dH().includes(n)?function(...e){return n.apply(bg(this),e),Yr(cN.get(this))}:function(...e){return Yr(n.apply(bg(this),e))}}function gH(n){return typeof n=="function"?pH(n):(n instanceof IDBTransaction&&fH(n),cH(n,uH())?new Proxy(n,eE):n)}function Yr(n){if(n instanceof IDBRequest)return hH(n);if(Jw.has(n))return Jw.get(n);let e=gH(n);return e!==n&&(Jw.set(n,e),tE.set(e,n)),e}var bg=n=>tE.get(n);function fN(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(n,e),a=Yr(s);return r&&s.addEventListener("upgradeneeded",l=>{r(Yr(s.result),l.oldVersion,l.newVersion,Yr(s.transaction),l)}),t&&s.addEventListener("blocked",l=>t(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}var mH=["get","getKey","getAll","getAllKeys","count"],yH=["put","add","delete","clear"],nE=new Map;function hN(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(nE.get(e))return nE.get(e);let t=e.replace(/FromIndex$/,""),r=e!==t,i=yH.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||mH.includes(t)))return;let o=function(s,...a){return H(this,null,function*(){let l=this.transaction(s,i?"readwrite":"readonly"),u=l.store;return r&&(u=u.index(a.shift())),(yield Promise.all([u[t](...a),i&&l.done]))[0]})};return nE.set(e,o),o}dN(n=>me(B({},n),{get:(e,t,r)=>hN(e,t)||n.get(e,t,r),has:(e,t)=>!!hN(e,t)||n.has(e,t)}));var iE=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(vH(t)){let r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}};function vH(n){let e=n.getComponent();return e?.type==="VERSION"}var oE="@firebase/app",pN="0.13.1";var Ti=new Qa("@firebase/app"),_H="@firebase/app-compat",wH="@firebase/analytics-compat",EH="@firebase/analytics",bH="@firebase/app-check-compat",CH="@firebase/app-check",IH="@firebase/auth",DH="@firebase/auth-compat",SH="@firebase/database",TH="@firebase/data-connect",AH="@firebase/database-compat",MH="@firebase/functions",xH="@firebase/functions-compat",RH="@firebase/installations",NH="@firebase/installations-compat",PH="@firebase/messaging",kH="@firebase/messaging-compat",OH="@firebase/performance",FH="@firebase/performance-compat",LH="@firebase/remote-config",VH="@firebase/remote-config-compat",jH="@firebase/storage",UH="@firebase/storage-compat",BH="@firebase/firestore",$H="@firebase/ai",zH="@firebase/firestore-compat",HH="firebase",qH="11.9.0";var sE="[DEFAULT]",GH={[oE]:"fire-core",[_H]:"fire-core-compat",[EH]:"fire-analytics",[wH]:"fire-analytics-compat",[CH]:"fire-app-check",[bH]:"fire-app-check-compat",[IH]:"fire-auth",[DH]:"fire-auth-compat",[SH]:"fire-rtdb",[TH]:"fire-data-connect",[AH]:"fire-rtdb-compat",[MH]:"fire-fn",[xH]:"fire-fn-compat",[RH]:"fire-iid",[NH]:"fire-iid-compat",[PH]:"fire-fcm",[kH]:"fire-fcm-compat",[OH]:"fire-perf",[FH]:"fire-perf-compat",[LH]:"fire-rc",[VH]:"fire-rc-compat",[jH]:"fire-gcs",[UH]:"fire-gcs-compat",[BH]:"fire-fst",[zH]:"fire-fst-compat",[$H]:"fire-vertex","fire-js":"fire-js",[HH]:"fire-js-all"};var Cg=new Map,WH=new Map,aE=new Map;function gN(n,e){try{n.container.addComponent(e)}catch(t){Ti.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Vu(n){let e=n.name;if(aE.has(e))return Ti.debug(`There were multiple attempts to register component ${e}.`),!1;aE.set(e,n);for(let t of Cg.values())gN(t,n);for(let t of WH.values())gN(t,n);return!0}function _N(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function wN(n){return n==null?!1:n.settings!==void 0}var KH={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},_o=new Fu("app","Firebase",KH);var lE=class{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Si("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw _o.create("app-deleted",{appName:this._name})}};var EN=qH;function dE(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let r=Object.assign({name:sE,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw _o.create("bad-app-name",{appName:String(i)});if(t||(t=Qw()),!t)throw _o.create("no-options");let o=Cg.get(i);if(o){if(Ka(t,o.options)&&Ka(r,o.config))return o;throw _o.create("duplicate-app",{appName:i})}let s=new Eg(i);for(let l of aE.values())s.addComponent(l);let a=new lE(t,r,s);return Cg.set(i,a),a}function bN(n=sE){let e=Cg.get(n);if(!e&&n===sE&&Qw())return dE();if(!e)throw _o.create("no-app",{appName:n});return e}function wo(n,e,t){var r;let i=(r=GH[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ti.warn(a.join(" "));return}Vu(new Si(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var QH="firebase-heartbeat-database",YH=1,ju="firebase-heartbeat-store",rE=null;function CN(){return rE||(rE=fN(QH,YH,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(ju)}catch(t){console.warn(t)}}}}).catch(n=>{throw _o.create("idb-open",{originalErrorMessage:n.message})})),rE}function ZH(n){return H(this,null,function*(){try{let t=(yield CN()).transaction(ju),r=yield t.objectStore(ju).get(IN(n));return yield t.done,r}catch(e){if(e instanceof Di)Ti.warn(e.message);else{let t=_o.create("idb-get",{originalErrorMessage:e?.message});Ti.warn(t.message)}}})}function mN(n,e){return H(this,null,function*(){try{let r=(yield CN()).transaction(ju,"readwrite");yield r.objectStore(ju).put(e,IN(n)),yield r.done}catch(t){if(t instanceof Di)Ti.warn(t.message);else{let r=_o.create("idb-set",{originalErrorMessage:t?.message});Ti.warn(r.message)}}})}function IN(n){return`${n.name}!${n.options.appId}`}var JH=1024,XH=30,cE=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new uE(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return H(this,null,function*(){var e,t;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=yN();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>XH){let s=t6(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Ti.warn(r)}})}getHeartbeatsHeader(){return H(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=yN(),{heartbeatsToSend:r,unsentEntries:i}=e6(this._heartbeatsCache.heartbeats),o=Ou(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return Ti.warn(t),""}})}};function yN(){return new Date().toISOString().substring(0,10)}function e6(n,e=JH){let t=[],r=n.slice();for(let i of n){let o=t.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),vN(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),vN(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}var uE=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return H(this,null,function*(){return Yw()?sN().then(()=>!0).catch(()=>!1):!1})}read(){return H(this,null,function*(){if(yield this._canUseIndexedDBPromise){let t=yield ZH(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return H(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return mN(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return H(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return mN(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function vN(n){return Ou(JSON.stringify({version:2,heartbeats:n})).length}function t6(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}function n6(n){Vu(new Si("platform-logger",e=>new iE(e),"PRIVATE")),Vu(new Si("heartbeat",e=>new cE(e),"PRIVATE")),wo(oE,pN,n),wo(oE,pN,"esm2017"),wo("fire-js","")}n6("");var r6="firebase",i6="11.9.1";wo(r6,i6,"app");var DN=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},SN={};var Ai,hE;(function(){var n;function e(D,_){function E(){}E.prototype=_.prototype,D.D=_.prototype,D.prototype=new E,D.prototype.constructor=D,D.C=function(S,M,x){for(var b=Array(arguments.length-2),at=2;at<arguments.length;at++)b[at-2]=arguments[at];return _.prototype[M].apply(S,b)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(D,_,E){E||(E=0);var S=Array(16);if(typeof _=="string")for(var M=0;16>M;++M)S[M]=_.charCodeAt(E++)|_.charCodeAt(E++)<<8|_.charCodeAt(E++)<<16|_.charCodeAt(E++)<<24;else for(M=0;16>M;++M)S[M]=_[E++]|_[E++]<<8|_[E++]<<16|_[E++]<<24;_=D.g[0],E=D.g[1],M=D.g[2];var x=D.g[3],b=_+(x^E&(M^x))+S[0]+3614090360&4294967295;_=E+(b<<7&4294967295|b>>>25),b=x+(M^_&(E^M))+S[1]+3905402710&4294967295,x=_+(b<<12&4294967295|b>>>20),b=M+(E^x&(_^E))+S[2]+606105819&4294967295,M=x+(b<<17&4294967295|b>>>15),b=E+(_^M&(x^_))+S[3]+3250441966&4294967295,E=M+(b<<22&4294967295|b>>>10),b=_+(x^E&(M^x))+S[4]+4118548399&4294967295,_=E+(b<<7&4294967295|b>>>25),b=x+(M^_&(E^M))+S[5]+1200080426&4294967295,x=_+(b<<12&4294967295|b>>>20),b=M+(E^x&(_^E))+S[6]+2821735955&4294967295,M=x+(b<<17&4294967295|b>>>15),b=E+(_^M&(x^_))+S[7]+4249261313&4294967295,E=M+(b<<22&4294967295|b>>>10),b=_+(x^E&(M^x))+S[8]+1770035416&4294967295,_=E+(b<<7&4294967295|b>>>25),b=x+(M^_&(E^M))+S[9]+2336552879&4294967295,x=_+(b<<12&4294967295|b>>>20),b=M+(E^x&(_^E))+S[10]+4294925233&4294967295,M=x+(b<<17&4294967295|b>>>15),b=E+(_^M&(x^_))+S[11]+2304563134&4294967295,E=M+(b<<22&4294967295|b>>>10),b=_+(x^E&(M^x))+S[12]+1804603682&4294967295,_=E+(b<<7&4294967295|b>>>25),b=x+(M^_&(E^M))+S[13]+4254626195&4294967295,x=_+(b<<12&4294967295|b>>>20),b=M+(E^x&(_^E))+S[14]+2792965006&4294967295,M=x+(b<<17&4294967295|b>>>15),b=E+(_^M&(x^_))+S[15]+1236535329&4294967295,E=M+(b<<22&4294967295|b>>>10),b=_+(M^x&(E^M))+S[1]+4129170786&4294967295,_=E+(b<<5&4294967295|b>>>27),b=x+(E^M&(_^E))+S[6]+3225465664&4294967295,x=_+(b<<9&4294967295|b>>>23),b=M+(_^E&(x^_))+S[11]+643717713&4294967295,M=x+(b<<14&4294967295|b>>>18),b=E+(x^_&(M^x))+S[0]+3921069994&4294967295,E=M+(b<<20&4294967295|b>>>12),b=_+(M^x&(E^M))+S[5]+3593408605&4294967295,_=E+(b<<5&4294967295|b>>>27),b=x+(E^M&(_^E))+S[10]+38016083&4294967295,x=_+(b<<9&4294967295|b>>>23),b=M+(_^E&(x^_))+S[15]+3634488961&4294967295,M=x+(b<<14&4294967295|b>>>18),b=E+(x^_&(M^x))+S[4]+3889429448&4294967295,E=M+(b<<20&4294967295|b>>>12),b=_+(M^x&(E^M))+S[9]+568446438&4294967295,_=E+(b<<5&4294967295|b>>>27),b=x+(E^M&(_^E))+S[14]+3275163606&4294967295,x=_+(b<<9&4294967295|b>>>23),b=M+(_^E&(x^_))+S[3]+4107603335&4294967295,M=x+(b<<14&4294967295|b>>>18),b=E+(x^_&(M^x))+S[8]+1163531501&4294967295,E=M+(b<<20&4294967295|b>>>12),b=_+(M^x&(E^M))+S[13]+2850285829&4294967295,_=E+(b<<5&4294967295|b>>>27),b=x+(E^M&(_^E))+S[2]+4243563512&4294967295,x=_+(b<<9&4294967295|b>>>23),b=M+(_^E&(x^_))+S[7]+1735328473&4294967295,M=x+(b<<14&4294967295|b>>>18),b=E+(x^_&(M^x))+S[12]+2368359562&4294967295,E=M+(b<<20&4294967295|b>>>12),b=_+(E^M^x)+S[5]+4294588738&4294967295,_=E+(b<<4&4294967295|b>>>28),b=x+(_^E^M)+S[8]+2272392833&4294967295,x=_+(b<<11&4294967295|b>>>21),b=M+(x^_^E)+S[11]+1839030562&4294967295,M=x+(b<<16&4294967295|b>>>16),b=E+(M^x^_)+S[14]+4259657740&4294967295,E=M+(b<<23&4294967295|b>>>9),b=_+(E^M^x)+S[1]+2763975236&4294967295,_=E+(b<<4&4294967295|b>>>28),b=x+(_^E^M)+S[4]+1272893353&4294967295,x=_+(b<<11&4294967295|b>>>21),b=M+(x^_^E)+S[7]+4139469664&4294967295,M=x+(b<<16&4294967295|b>>>16),b=E+(M^x^_)+S[10]+3200236656&4294967295,E=M+(b<<23&4294967295|b>>>9),b=_+(E^M^x)+S[13]+681279174&4294967295,_=E+(b<<4&4294967295|b>>>28),b=x+(_^E^M)+S[0]+3936430074&4294967295,x=_+(b<<11&4294967295|b>>>21),b=M+(x^_^E)+S[3]+3572445317&4294967295,M=x+(b<<16&4294967295|b>>>16),b=E+(M^x^_)+S[6]+76029189&4294967295,E=M+(b<<23&4294967295|b>>>9),b=_+(E^M^x)+S[9]+3654602809&4294967295,_=E+(b<<4&4294967295|b>>>28),b=x+(_^E^M)+S[12]+3873151461&4294967295,x=_+(b<<11&4294967295|b>>>21),b=M+(x^_^E)+S[15]+530742520&4294967295,M=x+(b<<16&4294967295|b>>>16),b=E+(M^x^_)+S[2]+3299628645&4294967295,E=M+(b<<23&4294967295|b>>>9),b=_+(M^(E|~x))+S[0]+4096336452&4294967295,_=E+(b<<6&4294967295|b>>>26),b=x+(E^(_|~M))+S[7]+1126891415&4294967295,x=_+(b<<10&4294967295|b>>>22),b=M+(_^(x|~E))+S[14]+2878612391&4294967295,M=x+(b<<15&4294967295|b>>>17),b=E+(x^(M|~_))+S[5]+4237533241&4294967295,E=M+(b<<21&4294967295|b>>>11),b=_+(M^(E|~x))+S[12]+1700485571&4294967295,_=E+(b<<6&4294967295|b>>>26),b=x+(E^(_|~M))+S[3]+2399980690&4294967295,x=_+(b<<10&4294967295|b>>>22),b=M+(_^(x|~E))+S[10]+4293915773&4294967295,M=x+(b<<15&4294967295|b>>>17),b=E+(x^(M|~_))+S[1]+2240044497&4294967295,E=M+(b<<21&4294967295|b>>>11),b=_+(M^(E|~x))+S[8]+1873313359&4294967295,_=E+(b<<6&4294967295|b>>>26),b=x+(E^(_|~M))+S[15]+4264355552&4294967295,x=_+(b<<10&4294967295|b>>>22),b=M+(_^(x|~E))+S[6]+2734768916&4294967295,M=x+(b<<15&4294967295|b>>>17),b=E+(x^(M|~_))+S[13]+1309151649&4294967295,E=M+(b<<21&4294967295|b>>>11),b=_+(M^(E|~x))+S[4]+4149444226&4294967295,_=E+(b<<6&4294967295|b>>>26),b=x+(E^(_|~M))+S[11]+3174756917&4294967295,x=_+(b<<10&4294967295|b>>>22),b=M+(_^(x|~E))+S[2]+718787259&4294967295,M=x+(b<<15&4294967295|b>>>17),b=E+(x^(M|~_))+S[9]+3951481745&4294967295,D.g[0]=D.g[0]+_&4294967295,D.g[1]=D.g[1]+(M+(b<<21&4294967295|b>>>11))&4294967295,D.g[2]=D.g[2]+M&4294967295,D.g[3]=D.g[3]+x&4294967295}r.prototype.u=function(D,_){_===void 0&&(_=D.length);for(var E=_-this.blockSize,S=this.B,M=this.h,x=0;x<_;){if(M==0)for(;x<=E;)i(this,D,x),x+=this.blockSize;if(typeof D=="string"){for(;x<_;)if(S[M++]=D.charCodeAt(x++),M==this.blockSize){i(this,S),M=0;break}}else for(;x<_;)if(S[M++]=D[x++],M==this.blockSize){i(this,S),M=0;break}}this.h=M,this.o+=_},r.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var _=1;_<D.length-8;++_)D[_]=0;var E=8*this.o;for(_=D.length-8;_<D.length;++_)D[_]=E&255,E/=256;for(this.u(D),D=Array(16),_=E=0;4>_;++_)for(var S=0;32>S;S+=8)D[E++]=this.g[_]>>>S&255;return D};function o(D,_){var E=a;return Object.prototype.hasOwnProperty.call(E,D)?E[D]:E[D]=_(D)}function s(D,_){this.h=_;for(var E=[],S=!0,M=D.length-1;0<=M;M--){var x=D[M]|0;S&&x==_||(E[M]=x,S=!1)}this.g=E}var a={};function l(D){return-128<=D&&128>D?o(D,function(_){return new s([_|0],0>_?-1:0)}):new s([D|0],0>D?-1:0)}function u(D){if(isNaN(D)||!isFinite(D))return f;if(0>D)return A(u(-D));for(var _=[],E=1,S=0;D>=E;S++)_[S]=D/E|0,E*=4294967296;return new s(_,0)}function d(D,_){if(D.length==0)throw Error("number format error: empty string");if(_=_||10,2>_||36<_)throw Error("radix out of range: "+_);if(D.charAt(0)=="-")return A(d(D.substring(1),_));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var E=u(Math.pow(_,8)),S=f,M=0;M<D.length;M+=8){var x=Math.min(8,D.length-M),b=parseInt(D.substring(M,M+x),_);8>x?(x=u(Math.pow(_,x)),S=S.j(x).add(u(b))):(S=S.j(E),S=S.add(u(b)))}return S}var f=l(0),p=l(1),m=l(16777216);n=s.prototype,n.m=function(){if(w(this))return-A(this).m();for(var D=0,_=1,E=0;E<this.g.length;E++){var S=this.i(E);D+=(0<=S?S:4294967296+S)*_,_*=4294967296}return D},n.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(v(this))return"0";if(w(this))return"-"+A(this).toString(D);for(var _=u(Math.pow(D,6)),E=this,S="";;){var M=q(E,_).g;E=N(E,M.j(_));var x=((0<E.g.length?E.g[0]:E.h)>>>0).toString(D);if(E=M,v(E))return x+S;for(;6>x.length;)x="0"+x;S=x+S}},n.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function v(D){if(D.h!=0)return!1;for(var _=0;_<D.g.length;_++)if(D.g[_]!=0)return!1;return!0}function w(D){return D.h==-1}n.l=function(D){return D=N(this,D),w(D)?-1:v(D)?0:1};function A(D){for(var _=D.g.length,E=[],S=0;S<_;S++)E[S]=~D.g[S];return new s(E,~D.h).add(p)}n.abs=function(){return w(this)?A(this):this},n.add=function(D){for(var _=Math.max(this.g.length,D.g.length),E=[],S=0,M=0;M<=_;M++){var x=S+(this.i(M)&65535)+(D.i(M)&65535),b=(x>>>16)+(this.i(M)>>>16)+(D.i(M)>>>16);S=b>>>16,x&=65535,b&=65535,E[M]=b<<16|x}return new s(E,E[E.length-1]&-2147483648?-1:0)};function N(D,_){return D.add(A(_))}n.j=function(D){if(v(this)||v(D))return f;if(w(this))return w(D)?A(this).j(A(D)):A(A(this).j(D));if(w(D))return A(this.j(A(D)));if(0>this.l(m)&&0>D.l(m))return u(this.m()*D.m());for(var _=this.g.length+D.g.length,E=[],S=0;S<2*_;S++)E[S]=0;for(S=0;S<this.g.length;S++)for(var M=0;M<D.g.length;M++){var x=this.i(S)>>>16,b=this.i(S)&65535,at=D.i(M)>>>16,Mt=D.i(M)&65535;E[2*S+2*M]+=b*Mt,O(E,2*S+2*M),E[2*S+2*M+1]+=x*Mt,O(E,2*S+2*M+1),E[2*S+2*M+1]+=b*at,O(E,2*S+2*M+1),E[2*S+2*M+2]+=x*at,O(E,2*S+2*M+2)}for(S=0;S<_;S++)E[S]=E[2*S+1]<<16|E[2*S];for(S=_;S<2*_;S++)E[S]=0;return new s(E,0)};function O(D,_){for(;(D[_]&65535)!=D[_];)D[_+1]+=D[_]>>>16,D[_]&=65535,_++}function U(D,_){this.g=D,this.h=_}function q(D,_){if(v(_))throw Error("division by zero");if(v(D))return new U(f,f);if(w(D))return _=q(A(D),_),new U(A(_.g),A(_.h));if(w(_))return _=q(D,A(_)),new U(A(_.g),_.h);if(30<D.g.length){if(w(D)||w(_))throw Error("slowDivide_ only works with positive integers.");for(var E=p,S=_;0>=S.l(D);)E=Ee(E),S=Ee(S);var M=ae(E,1),x=ae(S,1);for(S=ae(S,2),E=ae(E,2);!v(S);){var b=x.add(S);0>=b.l(D)&&(M=M.add(E),x=b),S=ae(S,1),E=ae(E,1)}return _=N(D,M.j(_)),new U(M,_)}for(M=f;0<=D.l(_);){for(E=Math.max(1,Math.floor(D.m()/_.m())),S=Math.ceil(Math.log(E)/Math.LN2),S=48>=S?1:Math.pow(2,S-48),x=u(E),b=x.j(_);w(b)||0<b.l(D);)E-=S,x=u(E),b=x.j(_);v(x)&&(x=p),M=M.add(x),D=N(D,b)}return new U(M,D)}n.A=function(D){return q(this,D).h},n.and=function(D){for(var _=Math.max(this.g.length,D.g.length),E=[],S=0;S<_;S++)E[S]=this.i(S)&D.i(S);return new s(E,this.h&D.h)},n.or=function(D){for(var _=Math.max(this.g.length,D.g.length),E=[],S=0;S<_;S++)E[S]=this.i(S)|D.i(S);return new s(E,this.h|D.h)},n.xor=function(D){for(var _=Math.max(this.g.length,D.g.length),E=[],S=0;S<_;S++)E[S]=this.i(S)^D.i(S);return new s(E,this.h^D.h)};function Ee(D){for(var _=D.g.length+1,E=[],S=0;S<_;S++)E[S]=D.i(S)<<1|D.i(S-1)>>>31;return new s(E,D.h)}function ae(D,_){var E=_>>5;_%=32;for(var S=D.g.length-E,M=[],x=0;x<S;x++)M[x]=0<_?D.i(x+E)>>>_|D.i(x+E+1)<<32-_:D.i(x+E);return new s(M,D.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,hE=SN.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=u,s.fromString=d,Ai=SN.Integer=s}).apply(typeof DN<"u"?DN:typeof self<"u"?self:typeof window<"u"?window:{});var Ig=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Mi={};var fE,o6,Ya,pE,Uu,Dg,gE,mE,yE;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,h,g){return c==Array.prototype||c==Object.prototype||(c[h]=g.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ig=="object"&&Ig];for(var h=0;h<c.length;++h){var g=c[h];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var r=t(this);function i(c,h){if(h)e:{var g=r;c=c.split(".");for(var y=0;y<c.length-1;y++){var R=c[y];if(!(R in g))break e;g=g[R]}c=c[c.length-1],y=g[c],h=h(y),h!=y&&h!=null&&e(g,c,{configurable:!0,writable:!0,value:h})}}function o(c,h){c instanceof String&&(c+="");var g=0,y=!1,R={next:function(){if(!y&&g<c.length){var k=g++;return{value:h(k,c[k]),done:!1}}return y=!0,{done:!0,value:void 0}}};return R[Symbol.iterator]=function(){return R},R}i("Array.prototype.values",function(c){return c||function(){return o(this,function(h,g){return g})}});var s=s||{},a=this||self;function l(c){var h=typeof c;return h=h!="object"?h:c?Array.isArray(c)?"array":h:"null",h=="array"||h=="object"&&typeof c.length=="number"}function u(c){var h=typeof c;return h=="object"&&c!=null||h=="function"}function d(c,h,g){return c.call.apply(c.bind,arguments)}function f(c,h,g){if(!c)throw Error();if(2<arguments.length){var y=Array.prototype.slice.call(arguments,2);return function(){var R=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(R,y),c.apply(h,R)}}return function(){return c.apply(h,arguments)}}function p(c,h,g){return p=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:f,p.apply(null,arguments)}function m(c,h){var g=Array.prototype.slice.call(arguments,1);return function(){var y=g.slice();return y.push.apply(y,arguments),c.apply(this,y)}}function v(c,h){function g(){}g.prototype=h.prototype,c.aa=h.prototype,c.prototype=new g,c.prototype.constructor=c,c.Qb=function(y,R,k){for(var z=Array(arguments.length-2),Ke=2;Ke<arguments.length;Ke++)z[Ke-2]=arguments[Ke];return h.prototype[R].apply(y,z)}}function w(c){let h=c.length;if(0<h){let g=Array(h);for(let y=0;y<h;y++)g[y]=c[y];return g}return[]}function A(c,h){for(let g=1;g<arguments.length;g++){let y=arguments[g];if(l(y)){let R=c.length||0,k=y.length||0;c.length=R+k;for(let z=0;z<k;z++)c[R+z]=y[z]}else c.push(y)}}class N{constructor(h,g){this.i=h,this.j=g,this.h=0,this.g=null}get(){let h;return 0<this.h?(this.h--,h=this.g,this.g=h.next,h.next=null):h=this.i(),h}}function O(c){return/^[\s\xa0]*$/.test(c)}function U(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function q(c){return q[" "](c),c}q[" "]=function(){};var Ee=U().indexOf("Gecko")!=-1&&!(U().toLowerCase().indexOf("webkit")!=-1&&U().indexOf("Edge")==-1)&&!(U().indexOf("Trident")!=-1||U().indexOf("MSIE")!=-1)&&U().indexOf("Edge")==-1;function ae(c,h,g){for(let y in c)h.call(g,c[y],y,c)}function D(c,h){for(let g in c)h.call(void 0,c[g],g,c)}function _(c){let h={};for(let g in c)h[g]=c[g];return h}let E="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function S(c,h){let g,y;for(let R=1;R<arguments.length;R++){y=arguments[R];for(g in y)c[g]=y[g];for(let k=0;k<E.length;k++)g=E[k],Object.prototype.hasOwnProperty.call(y,g)&&(c[g]=y[g])}}function M(c){var h=1;c=c.split(":");let g=[];for(;0<h&&c.length;)g.push(c.shift()),h--;return c.length&&g.push(c.join(":")),g}function x(c){a.setTimeout(()=>{throw c},0)}function b(){var c=ce;let h=null;return c.g&&(h=c.g,c.g=c.g.next,c.g||(c.h=null),h.next=null),h}class at{constructor(){this.h=this.g=null}add(h,g){let y=Mt.get();y.set(h,g),this.h?this.h.next=y:this.g=y,this.h=y}}var Mt=new N(()=>new W,c=>c.reset());class W{constructor(){this.next=this.g=this.h=null}set(h,g){this.h=h,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let Z,te=!1,ce=new at,qe=()=>{let c=a.Promise.resolve(void 0);Z=()=>{c.then(xt)}};var xt=()=>{for(var c;c=b();){try{c.h.call(c.g)}catch(g){x(g)}var h=Mt;h.j(c),100>h.h&&(h.h++,c.next=h.g,h.g=c)}te=!1};function Ce(){this.s=this.s,this.C=this.C}Ce.prototype.s=!1,Ce.prototype.ma=function(){this.s||(this.s=!0,this.N())},Ce.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Ie(c,h){this.type=c,this.g=this.target=h,this.defaultPrevented=!1}Ie.prototype.h=function(){this.defaultPrevented=!0};var be=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,h=Object.defineProperty({},"passive",{get:function(){c=!0}});try{let g=()=>{};a.addEventListener("test",g,h),a.removeEventListener("test",g,h)}catch{}return c}();function ln(c,h){if(Ie.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var g=this.type=c.type,y=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=h,h=c.relatedTarget){if(Ee){e:{try{q(h.nodeName);var R=!0;break e}catch{}R=!1}R||(h=null)}}else g=="mouseover"?h=c.fromElement:g=="mouseout"&&(h=c.toElement);this.relatedTarget=h,y?(this.clientX=y.clientX!==void 0?y.clientX:y.pageX,this.clientY=y.clientY!==void 0?y.clientY:y.pageY,this.screenX=y.screenX||0,this.screenY=y.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Gn[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&ln.aa.h.call(this)}}v(ln,Ie);var Gn={2:"touch",3:"pen",4:"mouse"};ln.prototype.h=function(){ln.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var et="closure_listenable_"+(1e6*Math.random()|0),hr=0;function Yt(c,h,g,y,R){this.listener=c,this.proxy=null,this.src=h,this.type=g,this.capture=!!y,this.ha=R,this.key=++hr,this.da=this.fa=!1}function Lt(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Nr(c){this.src=c,this.g={},this.h=0}Nr.prototype.add=function(c,h,g,y,R){var k=c.toString();c=this.g[k],c||(c=this.g[k]=[],this.h++);var z=Po(c,h,y,R);return-1<z?(h=c[z],g||(h.fa=!1)):(h=new Yt(h,this.src,k,!!y,R),h.fa=g,c.push(h)),h};function Bs(c,h){var g=h.type;if(g in c.g){var y=c.g[g],R=Array.prototype.indexOf.call(y,h,void 0),k;(k=0<=R)&&Array.prototype.splice.call(y,R,1),k&&(Lt(h),c.g[g].length==0&&(delete c.g[g],c.h--))}}function Po(c,h,g,y){for(var R=0;R<c.length;++R){var k=c[R];if(!k.da&&k.listener==h&&k.capture==!!g&&k.ha==y)return R}return-1}var $s="closure_lm_"+(1e6*Math.random()|0),zs={};function jl(c,h,g,y,R){if(y&&y.once)return gD(c,h,g,y,R);if(Array.isArray(h)){for(var k=0;k<h.length;k++)jl(c,h[k],g,y,R);return null}return g=uy(g),c&&c[et]?c.K(h,g,u(y)?!!y.capture:!!y,R):Hs(c,h,g,!1,y,R)}function Hs(c,h,g,y,R,k){if(!h)throw Error("Invalid event type");var z=u(R)?!!R.capture:!!R,Ke=ly(c);if(Ke||(c[$s]=Ke=new Nr(c)),g=Ke.add(h,g,y,z,k),g.proxy)return g;if(y=WF(),g.proxy=y,y.src=c,y.listener=g,c.addEventListener)be||(R=z),R===void 0&&(R=!1),c.addEventListener(h.toString(),y,R);else if(c.attachEvent)c.attachEvent(yD(h.toString()),y);else if(c.addListener&&c.removeListener)c.addListener(y);else throw Error("addEventListener and attachEvent are unavailable.");return g}function WF(){function c(g){return h.call(c.src,c.listener,g)}let h=KF;return c}function gD(c,h,g,y,R){if(Array.isArray(h)){for(var k=0;k<h.length;k++)gD(c,h[k],g,y,R);return null}return g=uy(g),c&&c[et]?c.L(h,g,u(y)?!!y.capture:!!y,R):Hs(c,h,g,!0,y,R)}function mD(c,h,g,y,R){if(Array.isArray(h))for(var k=0;k<h.length;k++)mD(c,h[k],g,y,R);else y=u(y)?!!y.capture:!!y,g=uy(g),c&&c[et]?(c=c.i,h=String(h).toString(),h in c.g&&(k=c.g[h],g=Po(k,g,y,R),-1<g&&(Lt(k[g]),Array.prototype.splice.call(k,g,1),k.length==0&&(delete c.g[h],c.h--)))):c&&(c=ly(c))&&(h=c.g[h.toString()],c=-1,h&&(c=Po(h,g,y,R)),(g=-1<c?h[c]:null)&&ay(g))}function ay(c){if(typeof c!="number"&&c&&!c.da){var h=c.src;if(h&&h[et])Bs(h.i,c);else{var g=c.type,y=c.proxy;h.removeEventListener?h.removeEventListener(g,y,c.capture):h.detachEvent?h.detachEvent(yD(g),y):h.addListener&&h.removeListener&&h.removeListener(y),(g=ly(h))?(Bs(g,c),g.h==0&&(g.src=null,h[$s]=null)):Lt(c)}}}function yD(c){return c in zs?zs[c]:zs[c]="on"+c}function KF(c,h){if(c.da)c=!0;else{h=new ln(h,this);var g=c.listener,y=c.ha||c.src;c.fa&&ay(c),c=g.call(y,h)}return c}function ly(c){return c=c[$s],c instanceof Nr?c:null}var cy="__closure_events_fn_"+(1e9*Math.random()>>>0);function uy(c){return typeof c=="function"?c:(c[cy]||(c[cy]=function(h){return c.handleEvent(h)}),c[cy])}function Zt(){Ce.call(this),this.i=new Nr(this),this.M=this,this.F=null}v(Zt,Ce),Zt.prototype[et]=!0,Zt.prototype.removeEventListener=function(c,h,g,y){mD(this,c,h,g,y)};function cn(c,h){var g,y=c.F;if(y)for(g=[];y;y=y.F)g.push(y);if(c=c.M,y=h.type||h,typeof h=="string")h=new Ie(h,c);else if(h instanceof Ie)h.target=h.target||c;else{var R=h;h=new Ie(y,c),S(h,R)}if(R=!0,g)for(var k=g.length-1;0<=k;k--){var z=h.g=g[k];R=Pd(z,y,!0,h)&&R}if(z=h.g=c,R=Pd(z,y,!0,h)&&R,R=Pd(z,y,!1,h)&&R,g)for(k=0;k<g.length;k++)z=h.g=g[k],R=Pd(z,y,!1,h)&&R}Zt.prototype.N=function(){if(Zt.aa.N.call(this),this.i){var c=this.i,h;for(h in c.g){for(var g=c.g[h],y=0;y<g.length;y++)Lt(g[y]);delete c.g[h],c.h--}}this.F=null},Zt.prototype.K=function(c,h,g,y){return this.i.add(String(c),h,!1,g,y)},Zt.prototype.L=function(c,h,g,y){return this.i.add(String(c),h,!0,g,y)};function Pd(c,h,g,y){if(h=c.i.g[String(h)],!h)return!0;h=h.concat();for(var R=!0,k=0;k<h.length;++k){var z=h[k];if(z&&!z.da&&z.capture==g){var Ke=z.listener,Ht=z.ha||z.src;z.fa&&Bs(c.i,z),R=Ke.call(Ht,y)!==!1&&R}}return R&&!y.defaultPrevented}function vD(c,h,g){if(typeof c=="function")g&&(c=p(c,g));else if(c&&typeof c.handleEvent=="function")c=p(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(h)?-1:a.setTimeout(c,h||0)}function _D(c){c.g=vD(()=>{c.g=null,c.i&&(c.i=!1,_D(c))},c.l);let h=c.h;c.h=null,c.m.apply(null,h)}class QF extends Ce{constructor(h,g){super(),this.m=h,this.l=g,this.h=null,this.i=!1,this.g=null}j(h){this.h=arguments,this.g?this.i=!0:_D(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ul(c){Ce.call(this),this.h=c,this.g={}}v(Ul,Ce);var wD=[];function ED(c){ae(c.g,function(h,g){this.g.hasOwnProperty(g)&&ay(h)},c),c.g={}}Ul.prototype.N=function(){Ul.aa.N.call(this),ED(this)},Ul.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var dy=a.JSON.stringify,YF=a.JSON.parse,ZF=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function hy(){}hy.prototype.h=null;function bD(c){return c.h||(c.h=c.i())}function CD(){}var Bl={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function fy(){Ie.call(this,"d")}v(fy,Ie);function py(){Ie.call(this,"c")}v(py,Ie);var ko={},ID=null;function kd(){return ID=ID||new Zt}ko.La="serverreachability";function DD(c){Ie.call(this,ko.La,c)}v(DD,Ie);function $l(c){let h=kd();cn(h,new DD(h))}ko.STAT_EVENT="statevent";function SD(c,h){Ie.call(this,ko.STAT_EVENT,c),this.stat=h}v(SD,Ie);function un(c){let h=kd();cn(h,new SD(h,c))}ko.Ma="timingevent";function TD(c,h){Ie.call(this,ko.Ma,c),this.size=h}v(TD,Ie);function zl(c,h){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},h)}function Hl(){this.g=!0}Hl.prototype.xa=function(){this.g=!1};function JF(c,h,g,y,R,k){c.info(function(){if(c.g)if(k)for(var z="",Ke=k.split("&"),Ht=0;Ht<Ke.length;Ht++){var Ue=Ke[Ht].split("=");if(1<Ue.length){var Jt=Ue[0];Ue=Ue[1];var Xt=Jt.split("_");z=2<=Xt.length&&Xt[1]=="type"?z+(Jt+"="+Ue+"&"):z+(Jt+"=redacted&")}}else z=null;else z=k;return"XMLHTTP REQ ("+y+") [attempt "+R+"]: "+h+`
`+g+`
`+z})}function XF(c,h,g,y,R,k,z){c.info(function(){return"XMLHTTP RESP ("+y+") [ attempt "+R+"]: "+h+`
`+g+`
`+k+" "+z})}function qs(c,h,g,y){c.info(function(){return"XMLHTTP TEXT ("+h+"): "+tL(c,g)+(y?" "+y:"")})}function eL(c,h){c.info(function(){return"TIMEOUT: "+h})}Hl.prototype.info=function(){};function tL(c,h){if(!c.g)return h;if(!h)return null;try{var g=JSON.parse(h);if(g){for(c=0;c<g.length;c++)if(Array.isArray(g[c])){var y=g[c];if(!(2>y.length)){var R=y[1];if(Array.isArray(R)&&!(1>R.length)){var k=R[0];if(k!="noop"&&k!="stop"&&k!="close")for(var z=1;z<R.length;z++)R[z]=""}}}}return dy(g)}catch{return h}}var Od={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},AD={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},gy;function Fd(){}v(Fd,hy),Fd.prototype.g=function(){return new XMLHttpRequest},Fd.prototype.i=function(){return{}},gy=new Fd;function zi(c,h,g,y){this.j=c,this.i=h,this.l=g,this.R=y||1,this.U=new Ul(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new MD}function MD(){this.i=null,this.g="",this.h=!1}var xD={},my={};function yy(c,h,g){c.L=1,c.v=Ud(si(h)),c.m=g,c.P=!0,RD(c,null)}function RD(c,h){c.F=Date.now(),Ld(c),c.A=si(c.v);var g=c.A,y=c.R;Array.isArray(y)||(y=[String(y)]),qD(g.i,"t",y),c.C=0,g=c.j.J,c.h=new MD,c.g=cS(c.j,g?h:null,!c.m),0<c.O&&(c.M=new QF(p(c.Y,c,c.g),c.O)),h=c.U,g=c.g,y=c.ca;var R="readystatechange";Array.isArray(R)||(R&&(wD[0]=R.toString()),R=wD);for(var k=0;k<R.length;k++){var z=jl(g,R[k],y||h.handleEvent,!1,h.h||h);if(!z)break;h.g[z.key]=z}h=c.H?_(c.H):{},c.m?(c.u||(c.u="POST"),h["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,h)):(c.u="GET",c.g.ea(c.A,c.u,null,h)),$l(),JF(c.i,c.u,c.A,c.l,c.R,c.m)}zi.prototype.ca=function(c){c=c.target;let h=this.M;h&&ai(c)==3?h.j():this.Y(c)},zi.prototype.Y=function(c){try{if(c==this.g)e:{let Xt=ai(this.g);var h=this.g.Ba();let Ks=this.g.Z();if(!(3>Xt)&&(Xt!=3||this.g&&(this.h.h||this.g.oa()||JD(this.g)))){this.J||Xt!=4||h==7||(h==8||0>=Ks?$l(3):$l(2)),vy(this);var g=this.g.Z();this.X=g;t:if(ND(this)){var y=JD(this.g);c="";var R=y.length,k=ai(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Oo(this),ql(this);var z="";break t}this.h.i=new a.TextDecoder}for(h=0;h<R;h++)this.h.h=!0,c+=this.h.i.decode(y[h],{stream:!(k&&h==R-1)});y.length=0,this.h.g+=c,this.C=0,z=this.h.g}else z=this.g.oa();if(this.o=g==200,XF(this.i,this.u,this.A,this.l,this.R,Xt,g),this.o){if(this.T&&!this.K){t:{if(this.g){var Ke,Ht=this.g;if((Ke=Ht.g?Ht.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!O(Ke)){var Ue=Ke;break t}}Ue=null}if(g=Ue)qs(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,_y(this,g);else{this.o=!1,this.s=3,un(12),Oo(this),ql(this);break e}}if(this.P){g=!0;let fr;for(;!this.J&&this.C<z.length;)if(fr=nL(this,z),fr==my){Xt==4&&(this.s=4,un(14),g=!1),qs(this.i,this.l,null,"[Incomplete Response]");break}else if(fr==xD){this.s=4,un(15),qs(this.i,this.l,z,"[Invalid Chunk]"),g=!1;break}else qs(this.i,this.l,fr,null),_y(this,fr);if(ND(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Xt!=4||z.length!=0||this.h.h||(this.s=1,un(16),g=!1),this.o=this.o&&g,!g)qs(this.i,this.l,z,"[Invalid Chunked Response]"),Oo(this),ql(this);else if(0<z.length&&!this.W){this.W=!0;var Jt=this.j;Jt.g==this&&Jt.ba&&!Jt.M&&(Jt.j.info("Great, no buffering proxy detected. Bytes received: "+z.length),Dy(Jt),Jt.M=!0,un(11))}}else qs(this.i,this.l,z,null),_y(this,z);Xt==4&&Oo(this),this.o&&!this.J&&(Xt==4?oS(this.j,this):(this.o=!1,Ld(this)))}else _L(this.g),g==400&&0<z.indexOf("Unknown SID")?(this.s=3,un(12)):(this.s=0,un(13)),Oo(this),ql(this)}}}catch{}finally{}};function ND(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function nL(c,h){var g=c.C,y=h.indexOf(`
`,g);return y==-1?my:(g=Number(h.substring(g,y)),isNaN(g)?xD:(y+=1,y+g>h.length?my:(h=h.slice(y,y+g),c.C=y+g,h)))}zi.prototype.cancel=function(){this.J=!0,Oo(this)};function Ld(c){c.S=Date.now()+c.I,PD(c,c.I)}function PD(c,h){if(c.B!=null)throw Error("WatchDog timer not null");c.B=zl(p(c.ba,c),h)}function vy(c){c.B&&(a.clearTimeout(c.B),c.B=null)}zi.prototype.ba=function(){this.B=null;let c=Date.now();0<=c-this.S?(eL(this.i,this.A),this.L!=2&&($l(),un(17)),Oo(this),this.s=2,ql(this)):PD(this,this.S-c)};function ql(c){c.j.G==0||c.J||oS(c.j,c)}function Oo(c){vy(c);var h=c.M;h&&typeof h.ma=="function"&&h.ma(),c.M=null,ED(c.U),c.g&&(h=c.g,c.g=null,h.abort(),h.ma())}function _y(c,h){try{var g=c.j;if(g.G!=0&&(g.g==c||wy(g.h,c))){if(!c.K&&wy(g.h,c)&&g.G==3){try{var y=g.Da.g.parse(h)}catch{y=null}if(Array.isArray(y)&&y.length==3){var R=y;if(R[0]==0){e:if(!g.u){if(g.g)if(g.g.F+3e3<c.F)qd(g),zd(g);else break e;Iy(g),un(18)}}else g.za=R[1],0<g.za-g.T&&37500>R[2]&&g.F&&g.v==0&&!g.C&&(g.C=zl(p(g.Za,g),6e3));if(1>=FD(g.h)&&g.ca){try{g.ca()}catch{}g.ca=void 0}}else Lo(g,11)}else if((c.K||g.g==c)&&qd(g),!O(h))for(R=g.Da.g.parse(h),h=0;h<R.length;h++){let Ue=R[h];if(g.T=Ue[0],Ue=Ue[1],g.G==2)if(Ue[0]=="c"){g.K=Ue[1],g.ia=Ue[2];let Jt=Ue[3];Jt!=null&&(g.la=Jt,g.j.info("VER="+g.la));let Xt=Ue[4];Xt!=null&&(g.Aa=Xt,g.j.info("SVER="+g.Aa));let Ks=Ue[5];Ks!=null&&typeof Ks=="number"&&0<Ks&&(y=1.5*Ks,g.L=y,g.j.info("backChannelRequestTimeoutMs_="+y)),y=g;let fr=c.g;if(fr){let Wd=fr.g?fr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Wd){var k=y.h;k.g||Wd.indexOf("spdy")==-1&&Wd.indexOf("quic")==-1&&Wd.indexOf("h2")==-1||(k.j=k.l,k.g=new Set,k.h&&(Ey(k,k.h),k.h=null))}if(y.D){let Sy=fr.g?fr.g.getResponseHeader("X-HTTP-Session-Id"):null;Sy&&(y.ya=Sy,Ze(y.I,y.D,Sy))}}g.G=3,g.l&&g.l.ua(),g.ba&&(g.R=Date.now()-c.F,g.j.info("Handshake RTT: "+g.R+"ms")),y=g;var z=c;if(y.qa=lS(y,y.J?y.ia:null,y.W),z.K){LD(y.h,z);var Ke=z,Ht=y.L;Ht&&(Ke.I=Ht),Ke.B&&(vy(Ke),Ld(Ke)),y.g=z}else rS(y);0<g.i.length&&Hd(g)}else Ue[0]!="stop"&&Ue[0]!="close"||Lo(g,7);else g.G==3&&(Ue[0]=="stop"||Ue[0]=="close"?Ue[0]=="stop"?Lo(g,7):Cy(g):Ue[0]!="noop"&&g.l&&g.l.ta(Ue),g.v=0)}}$l(4)}catch{}}var rL=class{constructor(c,h){this.g=c,this.map=h}};function kD(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function OD(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function FD(c){return c.h?1:c.g?c.g.size:0}function wy(c,h){return c.h?c.h==h:c.g?c.g.has(h):!1}function Ey(c,h){c.g?c.g.add(h):c.h=h}function LD(c,h){c.h&&c.h==h?c.h=null:c.g&&c.g.has(h)&&c.g.delete(h)}kD.prototype.cancel=function(){if(this.i=VD(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let c of this.g.values())c.cancel();this.g.clear()}};function VD(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let h=c.i;for(let g of c.g.values())h=h.concat(g.D);return h}return w(c.i)}function iL(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(l(c)){for(var h=[],g=c.length,y=0;y<g;y++)h.push(c[y]);return h}h=[],g=0;for(y in c)h[g++]=c[y];return h}function oL(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(l(c)||typeof c=="string"){var h=[];c=c.length;for(var g=0;g<c;g++)h.push(g);return h}h=[],g=0;for(let y in c)h[g++]=y;return h}}}function jD(c,h){if(c.forEach&&typeof c.forEach=="function")c.forEach(h,void 0);else if(l(c)||typeof c=="string")Array.prototype.forEach.call(c,h,void 0);else for(var g=oL(c),y=iL(c),R=y.length,k=0;k<R;k++)h.call(void 0,y[k],g&&g[k],c)}var UD=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function sL(c,h){if(c){c=c.split("&");for(var g=0;g<c.length;g++){var y=c[g].indexOf("="),R=null;if(0<=y){var k=c[g].substring(0,y);R=c[g].substring(y+1)}else k=c[g];h(k,R?decodeURIComponent(R.replace(/\+/g," ")):"")}}}function Fo(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Fo){this.h=c.h,Vd(this,c.j),this.o=c.o,this.g=c.g,jd(this,c.s),this.l=c.l;var h=c.i,g=new Kl;g.i=h.i,h.g&&(g.g=new Map(h.g),g.h=h.h),BD(this,g),this.m=c.m}else c&&(h=String(c).match(UD))?(this.h=!1,Vd(this,h[1]||"",!0),this.o=Gl(h[2]||""),this.g=Gl(h[3]||"",!0),jd(this,h[4]),this.l=Gl(h[5]||"",!0),BD(this,h[6]||"",!0),this.m=Gl(h[7]||"")):(this.h=!1,this.i=new Kl(null,this.h))}Fo.prototype.toString=function(){var c=[],h=this.j;h&&c.push(Wl(h,$D,!0),":");var g=this.g;return(g||h=="file")&&(c.push("//"),(h=this.o)&&c.push(Wl(h,$D,!0),"@"),c.push(encodeURIComponent(String(g)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.s,g!=null&&c.push(":",String(g))),(g=this.l)&&(this.g&&g.charAt(0)!="/"&&c.push("/"),c.push(Wl(g,g.charAt(0)=="/"?cL:lL,!0))),(g=this.i.toString())&&c.push("?",g),(g=this.m)&&c.push("#",Wl(g,dL)),c.join("")};function si(c){return new Fo(c)}function Vd(c,h,g){c.j=g?Gl(h,!0):h,c.j&&(c.j=c.j.replace(/:$/,""))}function jd(c,h){if(h){if(h=Number(h),isNaN(h)||0>h)throw Error("Bad port number "+h);c.s=h}else c.s=null}function BD(c,h,g){h instanceof Kl?(c.i=h,hL(c.i,c.h)):(g||(h=Wl(h,uL)),c.i=new Kl(h,c.h))}function Ze(c,h,g){c.i.set(h,g)}function Ud(c){return Ze(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Gl(c,h){return c?h?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Wl(c,h,g){return typeof c=="string"?(c=encodeURI(c).replace(h,aL),g&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function aL(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var $D=/[#\/\?@]/g,lL=/[#\?:]/g,cL=/[#\?]/g,uL=/[#\?@]/g,dL=/#/g;function Kl(c,h){this.h=this.g=null,this.i=c||null,this.j=!!h}function Hi(c){c.g||(c.g=new Map,c.h=0,c.i&&sL(c.i,function(h,g){c.add(decodeURIComponent(h.replace(/\+/g," ")),g)}))}n=Kl.prototype,n.add=function(c,h){Hi(this),this.i=null,c=Gs(this,c);var g=this.g.get(c);return g||this.g.set(c,g=[]),g.push(h),this.h+=1,this};function zD(c,h){Hi(c),h=Gs(c,h),c.g.has(h)&&(c.i=null,c.h-=c.g.get(h).length,c.g.delete(h))}function HD(c,h){return Hi(c),h=Gs(c,h),c.g.has(h)}n.forEach=function(c,h){Hi(this),this.g.forEach(function(g,y){g.forEach(function(R){c.call(h,R,y,this)},this)},this)},n.na=function(){Hi(this);let c=Array.from(this.g.values()),h=Array.from(this.g.keys()),g=[];for(let y=0;y<h.length;y++){let R=c[y];for(let k=0;k<R.length;k++)g.push(h[y])}return g},n.V=function(c){Hi(this);let h=[];if(typeof c=="string")HD(this,c)&&(h=h.concat(this.g.get(Gs(this,c))));else{c=Array.from(this.g.values());for(let g=0;g<c.length;g++)h=h.concat(c[g])}return h},n.set=function(c,h){return Hi(this),this.i=null,c=Gs(this,c),HD(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[h]),this.h+=1,this},n.get=function(c,h){return c?(c=this.V(c),0<c.length?String(c[0]):h):h};function qD(c,h,g){zD(c,h),0<g.length&&(c.i=null,c.g.set(Gs(c,h),w(g)),c.h+=g.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let c=[],h=Array.from(this.g.keys());for(var g=0;g<h.length;g++){var y=h[g];let k=encodeURIComponent(String(y)),z=this.V(y);for(y=0;y<z.length;y++){var R=k;z[y]!==""&&(R+="="+encodeURIComponent(String(z[y]))),c.push(R)}}return this.i=c.join("&")};function Gs(c,h){return h=String(h),c.j&&(h=h.toLowerCase()),h}function hL(c,h){h&&!c.j&&(Hi(c),c.i=null,c.g.forEach(function(g,y){var R=y.toLowerCase();y!=R&&(zD(this,y),qD(this,R,g))},c)),c.j=h}function fL(c,h){let g=new Hl;if(a.Image){let y=new Image;y.onload=m(qi,g,"TestLoadImage: loaded",!0,h,y),y.onerror=m(qi,g,"TestLoadImage: error",!1,h,y),y.onabort=m(qi,g,"TestLoadImage: abort",!1,h,y),y.ontimeout=m(qi,g,"TestLoadImage: timeout",!1,h,y),a.setTimeout(function(){y.ontimeout&&y.ontimeout()},1e4),y.src=c}else h(!1)}function pL(c,h){let g=new Hl,y=new AbortController,R=setTimeout(()=>{y.abort(),qi(g,"TestPingServer: timeout",!1,h)},1e4);fetch(c,{signal:y.signal}).then(k=>{clearTimeout(R),k.ok?qi(g,"TestPingServer: ok",!0,h):qi(g,"TestPingServer: server error",!1,h)}).catch(()=>{clearTimeout(R),qi(g,"TestPingServer: error",!1,h)})}function qi(c,h,g,y,R){try{R&&(R.onload=null,R.onerror=null,R.onabort=null,R.ontimeout=null),y(g)}catch{}}function gL(){this.g=new ZF}function mL(c,h,g){let y=g||"";try{jD(c,function(R,k){let z=R;u(R)&&(z=dy(R)),h.push(y+k+"="+encodeURIComponent(z))})}catch(R){throw h.push(y+"type="+encodeURIComponent("_badmap")),R}}function Ql(c){this.l=c.Ub||null,this.j=c.eb||!1}v(Ql,hy),Ql.prototype.g=function(){return new Bd(this.l,this.j)},Ql.prototype.i=function(c){return function(){return c}}({});function Bd(c,h){Zt.call(this),this.D=c,this.o=h,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}v(Bd,Zt),n=Bd.prototype,n.open=function(c,h){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=h,this.readyState=1,Zl(this)},n.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let h={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(h.body=c),(this.D||a).fetch(new Request(this.A,h)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Yl(this)),this.readyState=0},n.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Zl(this)),this.g&&(this.readyState=3,Zl(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;GD(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function GD(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}n.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var h=c.value?c.value:new Uint8Array(0);(h=this.v.decode(h,{stream:!c.done}))&&(this.response=this.responseText+=h)}c.done?Yl(this):Zl(this),this.readyState==3&&GD(this)}},n.Ra=function(c){this.g&&(this.response=this.responseText=c,Yl(this))},n.Qa=function(c){this.g&&(this.response=c,Yl(this))},n.ga=function(){this.g&&Yl(this)};function Yl(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Zl(c)}n.setRequestHeader=function(c,h){this.u.append(c,h)},n.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let c=[],h=this.h.entries();for(var g=h.next();!g.done;)g=g.value,c.push(g[0]+": "+g[1]),g=h.next();return c.join(`\r
`)};function Zl(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Bd.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function WD(c){let h="";return ae(c,function(g,y){h+=y,h+=":",h+=g,h+=`\r
`}),h}function by(c,h,g){e:{for(y in g){var y=!1;break e}y=!0}y||(g=WD(g),typeof c=="string"?g!=null&&encodeURIComponent(String(g)):Ze(c,h,g))}function dt(c){Zt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}v(dt,Zt);var yL=/^https?$/i,vL=["POST","PUT"];n=dt.prototype,n.Ha=function(c){this.J=c},n.ea=function(c,h,g,y){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);h=h?h.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():gy.g(),this.v=this.o?bD(this.o):bD(gy),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(h,String(c),!0),this.B=!1}catch(k){KD(this,k);return}if(c=g||"",g=new Map(this.headers),y)if(Object.getPrototypeOf(y)===Object.prototype)for(var R in y)g.set(R,y[R]);else if(typeof y.keys=="function"&&typeof y.get=="function")for(let k of y.keys())g.set(k,y.get(k));else throw Error("Unknown input type for opt_headers: "+String(y));y=Array.from(g.keys()).find(k=>k.toLowerCase()=="content-type"),R=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(vL,h,void 0))||y||R||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[k,z]of g)this.g.setRequestHeader(k,z);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ZD(this),this.u=!0,this.g.send(c),this.u=!1}catch(k){KD(this,k)}};function KD(c,h){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=h,c.m=5,QD(c),$d(c)}function QD(c){c.A||(c.A=!0,cn(c,"complete"),cn(c,"error"))}n.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,cn(this,"complete"),cn(this,"abort"),$d(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),$d(this,!0)),dt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?YD(this):this.bb())},n.bb=function(){YD(this)};function YD(c){if(c.h&&typeof s<"u"&&(!c.v[1]||ai(c)!=4||c.Z()!=2)){if(c.u&&ai(c)==4)vD(c.Ea,0,c);else if(cn(c,"readystatechange"),ai(c)==4){c.h=!1;try{let z=c.Z();e:switch(z){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var h=!0;break e;default:h=!1}var g;if(!(g=h)){var y;if(y=z===0){var R=String(c.D).match(UD)[1]||null;!R&&a.self&&a.self.location&&(R=a.self.location.protocol.slice(0,-1)),y=!yL.test(R?R.toLowerCase():"")}g=y}if(g)cn(c,"complete"),cn(c,"success");else{c.m=6;try{var k=2<ai(c)?c.g.statusText:""}catch{k=""}c.l=k+" ["+c.Z()+"]",QD(c)}}finally{$d(c)}}}}function $d(c,h){if(c.g){ZD(c);let g=c.g,y=c.v[0]?()=>{}:null;c.g=null,c.v=null,h||cn(c,"ready");try{g.onreadystatechange=y}catch{}}}function ZD(c){c.I&&(a.clearTimeout(c.I),c.I=null)}n.isActive=function(){return!!this.g};function ai(c){return c.g?c.g.readyState:0}n.Z=function(){try{return 2<ai(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(c){if(this.g){var h=this.g.responseText;return c&&h.indexOf(c)==0&&(h=h.substring(c.length)),YF(h)}};function JD(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function _L(c){let h={};c=(c.g&&2<=ai(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let y=0;y<c.length;y++){if(O(c[y]))continue;var g=M(c[y]);let R=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();let k=h[R]||[];h[R]=k,k.push(g)}D(h,function(y){return y.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Jl(c,h,g){return g&&g.internalChannelParams&&g.internalChannelParams[c]||h}function XD(c){this.Aa=0,this.i=[],this.j=new Hl,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Jl("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Jl("baseRetryDelayMs",5e3,c),this.cb=Jl("retryDelaySeedMs",1e4,c),this.Wa=Jl("forwardChannelMaxRetries",2,c),this.wa=Jl("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new kD(c&&c.concurrentRequestLimit),this.Da=new gL,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=XD.prototype,n.la=8,n.G=1,n.connect=function(c,h,g,y){un(0),this.W=c,this.H=h||{},g&&y!==void 0&&(this.H.OSID=g,this.H.OAID=y),this.F=this.X,this.I=lS(this,null,this.W),Hd(this)};function Cy(c){if(eS(c),c.G==3){var h=c.U++,g=si(c.I);if(Ze(g,"SID",c.K),Ze(g,"RID",h),Ze(g,"TYPE","terminate"),Xl(c,g),h=new zi(c,c.j,h),h.L=2,h.v=Ud(si(g)),g=!1,a.navigator&&a.navigator.sendBeacon)try{g=a.navigator.sendBeacon(h.v.toString(),"")}catch{}!g&&a.Image&&(new Image().src=h.v,g=!0),g||(h.g=cS(h.j,null),h.g.ea(h.v)),h.F=Date.now(),Ld(h)}aS(c)}function zd(c){c.g&&(Dy(c),c.g.cancel(),c.g=null)}function eS(c){zd(c),c.u&&(a.clearTimeout(c.u),c.u=null),qd(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function Hd(c){if(!OD(c.h)&&!c.s){c.s=!0;var h=c.Ga;Z||qe(),te||(Z(),te=!0),ce.add(h,c),c.B=0}}function wL(c,h){return FD(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=h.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=zl(p(c.Ga,c,h),sS(c,c.B)),c.B++,!0)}n.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;let R=new zi(this,this.j,c),k=this.o;if(this.S&&(k?(k=_(k),S(k,this.S)):k=this.S),this.m!==null||this.O||(R.H=k,k=null),this.P)e:{for(var h=0,g=0;g<this.i.length;g++){t:{var y=this.i[g];if("__data__"in y.map&&(y=y.map.__data__,typeof y=="string")){y=y.length;break t}y=void 0}if(y===void 0)break;if(h+=y,4096<h){h=g;break e}if(h===4096||g===this.i.length-1){h=g+1;break e}}h=1e3}else h=1e3;h=nS(this,R,h),g=si(this.I),Ze(g,"RID",c),Ze(g,"CVER",22),this.D&&Ze(g,"X-HTTP-Session-Id",this.D),Xl(this,g),k&&(this.O?h="headers="+encodeURIComponent(String(WD(k)))+"&"+h:this.m&&by(g,this.m,k)),Ey(this.h,R),this.Ua&&Ze(g,"TYPE","init"),this.P?(Ze(g,"$req",h),Ze(g,"SID","null"),R.T=!0,yy(R,g,null)):yy(R,g,h),this.G=2}}else this.G==3&&(c?tS(this,c):this.i.length==0||OD(this.h)||tS(this))};function tS(c,h){var g;h?g=h.l:g=c.U++;let y=si(c.I);Ze(y,"SID",c.K),Ze(y,"RID",g),Ze(y,"AID",c.T),Xl(c,y),c.m&&c.o&&by(y,c.m,c.o),g=new zi(c,c.j,g,c.B+1),c.m===null&&(g.H=c.o),h&&(c.i=h.D.concat(c.i)),h=nS(c,g,1e3),g.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Ey(c.h,g),yy(g,y,h)}function Xl(c,h){c.H&&ae(c.H,function(g,y){Ze(h,y,g)}),c.l&&jD({},function(g,y){Ze(h,y,g)})}function nS(c,h,g){g=Math.min(c.i.length,g);var y=c.l?p(c.l.Na,c.l,c):null;e:{var R=c.i;let k=-1;for(;;){let z=["count="+g];k==-1?0<g?(k=R[0].g,z.push("ofs="+k)):k=0:z.push("ofs="+k);let Ke=!0;for(let Ht=0;Ht<g;Ht++){let Ue=R[Ht].g,Jt=R[Ht].map;if(Ue-=k,0>Ue)k=Math.max(0,R[Ht].g-100),Ke=!1;else try{mL(Jt,z,"req"+Ue+"_")}catch{y&&y(Jt)}}if(Ke){y=z.join("&");break e}}}return c=c.i.splice(0,g),h.D=c,y}function rS(c){if(!c.g&&!c.u){c.Y=1;var h=c.Fa;Z||qe(),te||(Z(),te=!0),ce.add(h,c),c.v=0}}function Iy(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=zl(p(c.Fa,c),sS(c,c.v)),c.v++,!0)}n.Fa=function(){if(this.u=null,iS(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=zl(p(this.ab,this),c)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,un(10),zd(this),iS(this))};function Dy(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function iS(c){c.g=new zi(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var h=si(c.qa);Ze(h,"RID","rpc"),Ze(h,"SID",c.K),Ze(h,"AID",c.T),Ze(h,"CI",c.F?"0":"1"),!c.F&&c.ja&&Ze(h,"TO",c.ja),Ze(h,"TYPE","xmlhttp"),Xl(c,h),c.m&&c.o&&by(h,c.m,c.o),c.L&&(c.g.I=c.L);var g=c.g;c=c.ia,g.L=1,g.v=Ud(si(h)),g.m=null,g.P=!0,RD(g,c)}n.Za=function(){this.C!=null&&(this.C=null,zd(this),Iy(this),un(19))};function qd(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function oS(c,h){var g=null;if(c.g==h){qd(c),Dy(c),c.g=null;var y=2}else if(wy(c.h,h))g=h.D,LD(c.h,h),y=1;else return;if(c.G!=0){if(h.o)if(y==1){g=h.m?h.m.length:0,h=Date.now()-h.F;var R=c.B;y=kd(),cn(y,new TD(y,g)),Hd(c)}else rS(c);else if(R=h.s,R==3||R==0&&0<h.X||!(y==1&&wL(c,h)||y==2&&Iy(c)))switch(g&&0<g.length&&(h=c.h,h.i=h.i.concat(g)),R){case 1:Lo(c,5);break;case 4:Lo(c,10);break;case 3:Lo(c,6);break;default:Lo(c,2)}}}function sS(c,h){let g=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(g*=2),g*h}function Lo(c,h){if(c.j.info("Error code "+h),h==2){var g=p(c.fb,c),y=c.Xa;let R=!y;y=new Fo(y||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Vd(y,"https"),Ud(y),R?fL(y.toString(),g):pL(y.toString(),g)}else un(2);c.G=0,c.l&&c.l.sa(h),aS(c),eS(c)}n.fb=function(c){c?(this.j.info("Successfully pinged google.com"),un(2)):(this.j.info("Failed to ping google.com"),un(1))};function aS(c){if(c.G=0,c.ka=[],c.l){let h=VD(c.h);(h.length!=0||c.i.length!=0)&&(A(c.ka,h),A(c.ka,c.i),c.h.i.length=0,w(c.i),c.i.length=0),c.l.ra()}}function lS(c,h,g){var y=g instanceof Fo?si(g):new Fo(g);if(y.g!="")h&&(y.g=h+"."+y.g),jd(y,y.s);else{var R=a.location;y=R.protocol,h=h?h+"."+R.hostname:R.hostname,R=+R.port;var k=new Fo(null);y&&Vd(k,y),h&&(k.g=h),R&&jd(k,R),g&&(k.l=g),y=k}return g=c.D,h=c.ya,g&&h&&Ze(y,g,h),Ze(y,"VER",c.la),Xl(c,y),y}function cS(c,h,g){if(h&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return h=c.Ca&&!c.pa?new dt(new Ql({eb:g})):new dt(c.pa),h.Ha(c.J),h}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function uS(){}n=uS.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Gd(){}Gd.prototype.g=function(c,h){return new Mn(c,h)};function Mn(c,h){Zt.call(this),this.g=new XD(h),this.l=c,this.h=h&&h.messageUrlParams||null,c=h&&h.messageHeaders||null,h&&h.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=h&&h.initMessageHeaders||null,h&&h.messageContentType&&(c?c["X-WebChannel-Content-Type"]=h.messageContentType:c={"X-WebChannel-Content-Type":h.messageContentType}),h&&h.va&&(c?c["X-WebChannel-Client-Profile"]=h.va:c={"X-WebChannel-Client-Profile":h.va}),this.g.S=c,(c=h&&h.Sb)&&!O(c)&&(this.g.m=c),this.v=h&&h.supportsCrossDomainXhr||!1,this.u=h&&h.sendRawJson||!1,(h=h&&h.httpSessionIdParam)&&!O(h)&&(this.g.D=h,c=this.h,c!==null&&h in c&&(c=this.h,h in c&&delete c[h])),this.j=new Ws(this)}v(Mn,Zt),Mn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Mn.prototype.close=function(){Cy(this.g)},Mn.prototype.o=function(c){var h=this.g;if(typeof c=="string"){var g={};g.__data__=c,c=g}else this.u&&(g={},g.__data__=dy(c),c=g);h.i.push(new rL(h.Ya++,c)),h.G==3&&Hd(h)},Mn.prototype.N=function(){this.g.l=null,delete this.j,Cy(this.g),delete this.g,Mn.aa.N.call(this)};function dS(c){fy.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var h=c.__sm__;if(h){e:{for(let g in h){c=g;break e}c=void 0}(this.i=c)&&(c=this.i,h=h!==null&&c in h?h[c]:void 0),this.data=h}else this.data=c}v(dS,fy);function hS(){py.call(this),this.status=1}v(hS,py);function Ws(c){this.g=c}v(Ws,uS),Ws.prototype.ua=function(){cn(this.g,"a")},Ws.prototype.ta=function(c){cn(this.g,new dS(c))},Ws.prototype.sa=function(c){cn(this.g,new hS)},Ws.prototype.ra=function(){cn(this.g,"b")},Gd.prototype.createWebChannel=Gd.prototype.g,Mn.prototype.send=Mn.prototype.o,Mn.prototype.open=Mn.prototype.m,Mn.prototype.close=Mn.prototype.close,yE=Mi.createWebChannelTransport=function(){return new Gd},mE=Mi.getStatEventTarget=function(){return kd()},gE=Mi.Event=ko,Dg=Mi.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Od.NO_ERROR=0,Od.TIMEOUT=8,Od.HTTP_ERROR=6,Uu=Mi.ErrorCode=Od,AD.COMPLETE="complete",pE=Mi.EventType=AD,CD.EventType=Bl,Bl.OPEN="a",Bl.CLOSE="b",Bl.ERROR="c",Bl.MESSAGE="d",Zt.prototype.listen=Zt.prototype.K,Ya=Mi.WebChannel=CD,o6=Mi.FetchXmlHttpFactory=Ql,dt.prototype.listenOnce=dt.prototype.L,dt.prototype.getLastError=dt.prototype.Ka,dt.prototype.getLastErrorCode=dt.prototype.Ba,dt.prototype.getStatus=dt.prototype.Z,dt.prototype.getResponseJson=dt.prototype.Oa,dt.prototype.getResponseText=dt.prototype.oa,dt.prototype.send=dt.prototype.ea,dt.prototype.setWithCredentials=dt.prototype.Ha,fE=Mi.XhrIo=dt}).apply(typeof Ig<"u"?Ig:typeof self<"u"?self:typeof window<"u"?window:{});var TN="@firebase/firestore",AN="4.7.17";var $t=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};$t.UNAUTHENTICATED=new $t(null),$t.GOOGLE_CREDENTIALS=new $t("google-credentials-uid"),$t.FIRST_PARTY=new $t("first-party-uid"),$t.MOCK_USER=new $t("mock-user");var El="11.9.0";var Rs=new Qa("@firebase/firestore");function Za(){return Rs.logLevel}function X(n,...e){if(Rs.logLevel<=Oe.DEBUG){let t=e.map(cC);Rs.debug(`Firestore (${El}): ${n}`,...t)}}function Ni(n,...e){if(Rs.logLevel<=Oe.ERROR){let t=e.map(cC);Rs.error(`Firestore (${El}): ${n}`,...t)}}function al(n,...e){if(Rs.logLevel<=Oe.WARN){let t=e.map(cC);Rs.warn(`Firestore (${El}): ${n}`,...t)}}function cC(n){if(typeof n=="string")return n;try{return function(t){return JSON.stringify(t)}(n)}catch{return n}}function he(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,_P(n,r,t)}function _P(n,e,t){let r=`FIRESTORE (${El}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw Ni(r),new Error(r)}function ct(n,e,t,r){let i="Unexpected state";typeof t=="string"?i=t:r=t,n||_P(e,i,r)}function Le(n,e){return n}var $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},ne=class extends Di{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Ri=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var Rg=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},CE=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t($t.UNAUTHENTICATED))}shutdown(){}},IE=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},DE=class{constructor(e){this.t=e,this.currentUser=$t.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){ct(this.o===void 0,42304);let r=this.i,i=l=>this.i!==r?(r=this.i,t(l)):Promise.resolve(),o=new Ri;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Ri,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let l=o;e.enqueueRetryable(()=>H(this,null,function*(){yield l.promise,yield i(this.currentUser)}))},a=l=>{X("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){let l=this.t.getImmediate({optional:!0});l?a(l):(X("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Ri)}},0),s()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(X("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ct(typeof r.accessToken=="string",31837,{l:r}),new Rg(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return ct(e===null||typeof e=="string",2055,{h:e}),new $t(e)}},SE=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=$t.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);let e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}},TE=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new SE(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t($t.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Ng=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},AE=class{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,wN(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){ct(this.o===void 0,3512);let r=o=>{o.error!=null&&X("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.m;return this.m=o.token,X("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{X("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.V.getImmediate({optional:!0});o?i(o):X("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Ng(this.p));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(ct(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new Ng(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function s6(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}function wP(){return new TextEncoder}var ME=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516),r="";for(;r.length<20;){let i=s6(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+=e.charAt(i[o]%62))}return r}};function Te(n,e){return n<e?-1:n>e?1:0}function xE(n,e){let t=0;for(;t<n.length&&t<e.length;){let r=n.codePointAt(t),i=e.codePointAt(t);if(r!==i){if(r<128&&i<128)return Te(r,i);{let o=wP(),s=a6(o.encode(MN(n,t)),o.encode(MN(e,t)));return s!==0?s:Te(r,i)}}t+=r>65535?2:1}return Te(n.length,e.length)}function MN(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function a6(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return Te(n[t],e[t]);return Te(n.length,e.length)}function ll(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}var xN=-62135596800,RN=1e6,nn=class n{static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*RN);return new n(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ne($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ne($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<xN)throw new ne($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ne($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/RN}_compareTo(e){return this.seconds===e.seconds?Te(this.nanoseconds,e.nanoseconds):Te(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds-xN;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var ve=class n{static fromTimestamp(e){return new n(e)}static min(){return new n(new nn(0,0))}static max(){return new n(new nn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var NN="__name__",Pg=class n{constructor(e,t,r){t===void 0?t=0:t>e.length&&he(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&he(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let r=Math.min(e.length,t.length);for(let i=0;i<r;i++){let o=n.compareSegments(e.get(i),t.get(i));if(o!==0)return o}return Te(e.length,t.length)}static compareSegments(e,t){let r=n.isNumericId(e),i=n.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?n.extractNumericId(e).compare(n.extractNumericId(t)):xE(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ai.fromString(e.substring(4,e.length-2))}},vt=class n extends Pg{construct(e,t,r){return new n(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let r of e){if(r.indexOf("//")>=0)throw new ne($.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new n(t)}static emptyPath(){return new n([])}},l6=/^[_a-zA-Z][_a-zA-Z0-9]*$/,lr=class n extends Pg{construct(e,t,r){return new n(e,t,r)}static isValidIdentifier(e){return l6.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===NN}static keyField(){return new n([NN])}static fromServerFormat(e){let t=[],r="",i=0,o=()=>{if(r.length===0)throw new ne($.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""},s=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new ne($.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new ne($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new ne($.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var le=class n{constructor(e){this.path=e}static fromPath(e){return new n(vt.fromString(e))}static fromName(e){return new n(vt.fromString(e).popFirst(5))}static empty(){return new n(vt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&vt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return vt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new vt(e.slice()))}};var Wu=-1,RE=class{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}};RE.UNKNOWN_ID=-1;function c6(n,e){let t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=ve.fromTimestamp(r===1e9?new nn(t+1,0):new nn(t,r));return new Ns(i,le.empty(),e)}function u6(n){return new Ns(n.readTime,n.key,Wu)}var Ns=class n{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new n(ve.min(),le.empty(),Wu)}static max(){return new n(ve.max(),le.empty(),Wu)}};function d6(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=le.comparator(n.documentKey,e.documentKey),t!==0?t:Te(n.largestBatchId,e.largestBatchId))}var h6="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",NE=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function sm(n){return H(this,null,function*(){if(n.code!==$.FAILED_PRECONDITION||n.message!==h6)throw n;X("LocalStore","Unexpectedly lost primary lease")})}var V=class n{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&he(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof n?t:n.resolve(t)}catch(t){return n.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):n.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):n.reject(t)}static resolve(e){return new n((t,r)=>{t(e)})}static reject(e){return new n((t,r)=>{r(e)})}static waitFor(e){return new n((t,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&t()},l=>r(l))}),s=!0,o===i&&t()})}static or(e){let t=n.resolve(!1);for(let r of e)t=t.next(i=>i?n.resolve(i):r());return t}static forEach(e,t){let r=[];return e.forEach((i,o)=>{r.push(t.call(this,i,o))}),this.waitFor(r)}static mapArray(e,t){return new n((r,i)=>{let o=e.length,s=new Array(o),a=0;for(let l=0;l<o;l++){let u=l;t(e[u]).next(d=>{s[u]=d,++a,a===o&&r(s)},d=>i(d))}})}static doWhile(e,t){return new n((r,i)=>{let o=()=>{e()===!0?t().next(()=>{o()},i):r()};o()})}};function f6(n){let e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function bl(n){return n.name==="IndexedDbTransactionError"}var uC=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ue(i),this.ce=i=>r.writeSequenceNumber(i))}ue(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this.ce&&this.ce(t),t}}n.le=-1;return n})(),p6=-1;function am(n){return n==null}function Ku(n){return n===0&&1/n==-1/0}function g6(n){return typeof n=="number"&&Number.isInteger(n)&&!Ku(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}var EP="";function m6(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=PN(e)),e=y6(n.get(t),e);return PN(e)}function y6(n,e){let t=e,r=n.length;for(let i=0;i<r;i++){let o=n.charAt(i);switch(o){case"\0":t+="";break;case EP:t+="";break;default:t+=o}}return t}function PN(n){return n+EP+""}var v6="remoteDocuments",bP="owner";var CP="mutationQueues";var IP="mutations";var DP="documentMutations",_6="remoteDocumentsV14";var SP="remoteDocumentGlobal";var TP="targets";var AP="targetDocuments";var MP="targetGlobal",xP="collectionParents";var RP="clientMetadata";var NP="bundles";var PP="namedQueries";var w6="indexConfiguration";var E6="indexState";var b6="indexEntries";var kP="documentOverlays";var C6="globals";var I6=[CP,IP,DP,v6,TP,bP,MP,AP,RP,SP,xP,NP,PP],hce=[...I6,kP],D6=[CP,IP,DP,_6,TP,bP,MP,AP,RP,SP,xP,NP,PP,kP],S6=D6,T6=[...S6,w6,E6,b6];var fce=[...T6,C6];function kN(n){let e=0;for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Cl(n,e){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function OP(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var _t=class n{constructor(e,t){this.comparator=e,this.root=t||Zr.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Zr.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Zr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){let e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new tl(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new tl(this.root,e,this.comparator,!1)}getReverseIterator(){return new tl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new tl(this.root,e,this.comparator,!0)}},tl=class{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Zr=class n{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??n.RED,this.left=i??n.EMPTY,this.right=o??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new n(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):o===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return n.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw he(43730,{key:this.key,value:this.value});if(this.right.isRed())throw he(14113,{key:this.key,value:this.value});let e=this.left.check();if(e!==this.right.check())throw he(27949);return e+(this.isRed()?0:1)}};Zr.EMPTY=null,Zr.RED=!0,Zr.BLACK=!1;Zr.EMPTY=new class{constructor(){this.size=0}get key(){throw he(57766)}get value(){throw he(16141)}get color(){throw he(16727)}get left(){throw he(29726)}get right(){throw he(36894)}copy(e,t,r,i,o){return this}insert(e,t,r){return new Zr(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var zt=class n{constructor(e){this.comparator=e,this.data=new _t(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new kg(this.data.getIterator())}getIteratorFrom(e){return new kg(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},kg=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var As=class n{constructor(e){this.fields=e,e.sort(lr.comparator)}static empty(){return new n([])}unionWith(e){let t=new zt(lr.comparator);for(let r of this.fields)t=t.add(r);for(let r of e)t=t.add(r);return new n(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ll(this.fields,e.fields,(t,r)=>t.isEqual(r))}};var Og=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var rn=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Og("Invalid base64 string: "+o):o}}(e);return new n(t)}static fromUint8Array(e){let t=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){let r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Te(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};rn.EMPTY_BYTE_STRING=new rn("");var A6=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Pi(n){if(ct(!!n,39018),typeof n=="string"){let e=0,t=A6.exec(n);if(ct(!!t,46558,{timestamp:n}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ot(n.seconds),nanos:ot(n.nanos)}}function ot(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function ki(n){return typeof n=="string"?rn.fromBase64String(n):rn.fromUint8Array(n)}var FP="server_timestamp",LP="__type__",VP="__previous_value__",jP="__local_write_time__";function dC(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[LP])===null||t===void 0?void 0:t.stringValue)===FP}function lm(n){let e=n.mapValue.fields[VP];return dC(e)?lm(e):e}function Qu(n){let e=Pi(n.mapValue.fields[jP].timestampValue);return new nn(e.seconds,e.nanos)}var PE=class{constructor(e,t,r,i,o,s,a,l,u,d){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u,this.isUsingEmulator=d}},Fg="(default)",Lg=class n{constructor(e,t){this.projectId=e,this.database=t||Fg}static empty(){return new n("","")}get isDefaultDatabase(){return this.database===Fg}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};var hC="__type__",UP="__max__",Sg={mapValue:{fields:{__type__:{stringValue:UP}}}},fC="__vector__",cl="value";function Eo(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?dC(n)?4:$P(n)?9007199254740991:BP(n)?10:11:he(28295,{value:n})}function Xr(n,e){if(n===e)return!0;let t=Eo(n);if(t!==Eo(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Qu(n).isEqual(Qu(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=Pi(i.timestampValue),a=Pi(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,o){return ki(i.bytesValue).isEqual(ki(o.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,o){return ot(i.geoPointValue.latitude)===ot(o.geoPointValue.latitude)&&ot(i.geoPointValue.longitude)===ot(o.geoPointValue.longitude)}(n,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return ot(i.integerValue)===ot(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=ot(i.doubleValue),a=ot(o.doubleValue);return s===a?Ku(s)===Ku(a):isNaN(s)&&isNaN(a)}return!1}(n,e);case 9:return ll(n.arrayValue.values||[],e.arrayValue.values||[],Xr);case 10:case 11:return function(i,o){let s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(kN(s)!==kN(a))return!1;for(let l in s)if(s.hasOwnProperty(l)&&(a[l]===void 0||!Xr(s[l],a[l])))return!1;return!0}(n,e);default:return he(52216,{left:n})}}function Yu(n,e){return(n.values||[]).find(t=>Xr(t,e))!==void 0}function ul(n,e){if(n===e)return 0;let t=Eo(n),r=Eo(e);if(t!==r)return Te(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Te(n.booleanValue,e.booleanValue);case 2:return function(o,s){let a=ot(o.integerValue||o.doubleValue),l=ot(s.integerValue||s.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(n,e);case 3:return ON(n.timestampValue,e.timestampValue);case 4:return ON(Qu(n),Qu(e));case 5:return xE(n.stringValue,e.stringValue);case 6:return function(o,s){let a=ki(o),l=ki(s);return a.compareTo(l)}(n.bytesValue,e.bytesValue);case 7:return function(o,s){let a=o.split("/"),l=s.split("/");for(let u=0;u<a.length&&u<l.length;u++){let d=Te(a[u],l[u]);if(d!==0)return d}return Te(a.length,l.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,s){let a=Te(ot(o.latitude),ot(s.latitude));return a!==0?a:Te(ot(o.longitude),ot(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return FN(n.arrayValue,e.arrayValue);case 10:return function(o,s){var a,l,u,d;let f=o.fields||{},p=s.fields||{},m=(a=f[cl])===null||a===void 0?void 0:a.arrayValue,v=(l=p[cl])===null||l===void 0?void 0:l.arrayValue,w=Te(((u=m?.values)===null||u===void 0?void 0:u.length)||0,((d=v?.values)===null||d===void 0?void 0:d.length)||0);return w!==0?w:FN(m,v)}(n.mapValue,e.mapValue);case 11:return function(o,s){if(o===Sg.mapValue&&s===Sg.mapValue)return 0;if(o===Sg.mapValue)return 1;if(s===Sg.mapValue)return-1;let a=o.fields||{},l=Object.keys(a),u=s.fields||{},d=Object.keys(u);l.sort(),d.sort();for(let f=0;f<l.length&&f<d.length;++f){let p=xE(l[f],d[f]);if(p!==0)return p;let m=ul(a[l[f]],u[d[f]]);if(m!==0)return m}return Te(l.length,d.length)}(n.mapValue,e.mapValue);default:throw he(23264,{Pe:t})}}function ON(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Te(n,e);let t=Pi(n),r=Pi(e),i=Te(t.seconds,r.seconds);return i!==0?i:Te(t.nanos,r.nanos)}function FN(n,e){let t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){let o=ul(t[i],r[i]);if(o)return o}return Te(t.length,r.length)}function dl(n){return kE(n)}function kE(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){let r=Pi(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return ki(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return le.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(let o of t.values||[])i?i=!1:r+=",",r+=kE(o);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){let r=Object.keys(t.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${kE(t.fields[s])}`;return i+"}"}(n.mapValue):he(61005,{value:n})}function Mg(n){switch(Eo(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let e=lm(n);return e?16+Mg(e):16;case 5:return 2*n.stringValue.length;case 6:return ki(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,o)=>i+Mg(o),0)}(n.arrayValue);case 10:case 11:return function(r){let i=0;return Cl(r.fields,(o,s)=>{i+=o.length+Mg(s)}),i}(n.mapValue);default:throw he(13486,{value:n})}}function LN(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function OE(n){return!!n&&"integerValue"in n}function pC(n){return!!n&&"arrayValue"in n}function VN(n){return!!n&&"nullValue"in n}function jN(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function vE(n){return!!n&&"mapValue"in n}function BP(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[hC])===null||t===void 0?void 0:t.stringValue)===fC}function $u(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return Cl(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=$u(r)),e}if(n.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=$u(n.arrayValue.values[t]);return e}return Object.assign({},n)}function $P(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===UP}var gce={mapValue:{fields:{[hC]:{stringValue:fC},[cl]:{arrayValue:{}}}}};var xi=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!vE(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=$u(t)}setAll(e){let t=lr.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!t.isImmediateParentOf(a)){let l=this.getFieldsMap(t);this.applyChanges(l,r,i),r={},i=[],t=a.popLast()}s?r[a.lastSegment()]=$u(s):i.push(a.lastSegment())});let o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){let t=this.field(e.popLast());vE(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Xr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];vE(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Cl(t,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new n($u(this.value))}};var Mr=class n{constructor(e,t,r,i,o,s,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new n(e,0,ve.min(),ve.min(),ve.min(),xi.empty(),0)}static newFoundDocument(e,t,r,i){return new n(e,1,t,ve.min(),r,i,0)}static newNoDocument(e,t){return new n(e,2,t,ve.min(),ve.min(),xi.empty(),0)}static newUnknownDocument(e,t){return new n(e,3,t,ve.min(),ve.min(),xi.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ve.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=xi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=xi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ve.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var hl=class{constructor(e,t){this.position=e,this.inclusive=t}};function UN(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){let o=e[i],s=n.position[i];if(o.field.isKeyField()?r=le.comparator(le.fromName(s.referenceValue),t.key):r=ul(s,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function BN(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Xr(n.position[t],e.position[t]))return!1;return!0}var fl=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function M6(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var Vg=class{},Tt=class n extends Vg{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new LE(e,t,r):t==="array-contains"?new UE(e,r):t==="in"?new BE(e,r):t==="not-in"?new $E(e,r):t==="array-contains-any"?new zE(e,r):new n(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new VE(e,r):new jE(e,r)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(ul(t,this.value)):t!==null&&Eo(this.value)===Eo(t)&&this.matchesComparison(ul(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return he(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},xr=class n extends Vg{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new n(e,t)}matches(e){return zP(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}};function zP(n){return n.op==="and"}function HP(n){return x6(n)&&zP(n)}function x6(n){for(let e of n.filters)if(e instanceof xr)return!1;return!0}function FE(n){if(n instanceof Tt)return n.field.canonicalString()+n.op.toString()+dl(n.value);if(HP(n))return n.filters.map(e=>FE(e)).join(",");{let e=n.filters.map(t=>FE(t)).join(",");return`${n.op}(${e})`}}function qP(n,e){return n instanceof Tt?function(r,i){return i instanceof Tt&&r.op===i.op&&r.field.isEqual(i.field)&&Xr(r.value,i.value)}(n,e):n instanceof xr?function(r,i){return i instanceof xr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&qP(s,i.filters[a]),!0):!1}(n,e):void he(19439)}function GP(n){return n instanceof Tt?function(t){return`${t.field.canonicalString()} ${t.op} ${dl(t.value)}`}(n):n instanceof xr?function(t){return t.op.toString()+" {"+t.getFilters().map(GP).join(" ,")+"}"}(n):"Filter"}var LE=class extends Tt{constructor(e,t,r){super(e,t,r),this.key=le.fromName(r.referenceValue)}matches(e){let t=le.comparator(e.key,this.key);return this.matchesComparison(t)}},VE=class extends Tt{constructor(e,t){super(e,"in",t),this.keys=WP("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},jE=class extends Tt{constructor(e,t){super(e,"not-in",t),this.keys=WP("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function WP(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>le.fromName(r.referenceValue))}var UE=class extends Tt{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return pC(t)&&Yu(t.arrayValue,this.value)}},BE=class extends Tt{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&Yu(this.value.arrayValue,t)}},$E=class extends Tt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Yu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Yu(this.value.arrayValue,t)}},zE=class extends Tt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!pC(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Yu(this.value.arrayValue,r))}};var HE=class{constructor(e,t=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.Ie=null}};function $N(n,e=null,t=[],r=[],i=null,o=null,s=null){return new HE(n,e,t,r,i,o,s)}function gC(n){let e=Le(n);if(e.Ie===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>FE(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),am(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>dl(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>dl(r)).join(",")),e.Ie=t}return e.Ie}function mC(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!M6(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!qP(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!BN(n.startAt,e.startAt)&&BN(n.endAt,e.endAt)}function qE(n){return le.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}var Ps=class{constructor(e,t=null,r=[],i=[],o=null,s="F",a=null,l=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=l,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}};function R6(n,e,t,r,i,o,s,a){return new Ps(n,e,t,r,i,o,s,a)}function KP(n){return new Ps(n)}function zN(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function QP(n){return n.collectionGroup!==null}function zu(n){let e=Le(n);if(e.Ee===null){e.Ee=[];let t=new Set;for(let o of e.explicitOrderBy)e.Ee.push(o),t.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new zt(lr.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.Ee.push(new fl(o,r))}),t.has(lr.keyField().canonicalString())||e.Ee.push(new fl(lr.keyField(),r))}return e.Ee}function Jr(n){let e=Le(n);return e.de||(e.de=N6(e,zu(n))),e.de}function N6(n,e){if(n.limitType==="F")return $N(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new fl(i.field,o)});let t=n.endAt?new hl(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new hl(n.startAt.position,n.startAt.inclusive):null;return $N(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function GE(n,e){let t=n.filters.concat([e]);return new Ps(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function WE(n,e,t){return new Ps(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function cm(n,e){return mC(Jr(n),Jr(e))&&n.limitType===e.limitType}function YP(n){return`${gC(Jr(n))}|lt:${n.limitType}`}function Ja(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>GP(i)).join(", ")}]`),am(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>dl(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>dl(i)).join(",")),`Target(${r})`}(Jr(n))}; limitType=${n.limitType})`}function um(n,e){return e.isFoundDocument()&&function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):le.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(n,e)&&function(r,i){for(let o of zu(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(n,e)&&function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(s,a,l){let u=UN(s,a,l);return s.inclusive?u<=0:u<0}(r.startAt,zu(r),i)||r.endAt&&!function(s,a,l){let u=UN(s,a,l);return s.inclusive?u>=0:u>0}(r.endAt,zu(r),i))}(n,e)}function P6(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function ZP(n){return(e,t)=>{let r=!1;for(let i of zu(n)){let o=k6(i,e,t);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function k6(n,e,t){let r=n.field.isKeyField()?le.comparator(e.key,t.key):function(o,s,a){let l=s.data.field(o),u=a.data.field(o);return l!==null&&u!==null?ul(l,u):he(42886)}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return he(19790,{direction:n.dir})}}var Oi=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Cl(this.inner,(t,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return OP(this.inner)}size(){return this.innerSize}};var O6=new _t(le.comparator);function bo(){return O6}var JP=new _t(le.comparator);function Bu(...n){let e=JP;for(let t of n)e=e.insert(t.key,t);return e}function F6(n){let e=JP;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Ms(){return Hu()}function XP(){return Hu()}function Hu(){return new Oi(n=>n.toString(),(n,e)=>n.isEqual(e))}var mce=new _t(le.comparator),L6=new zt(le.comparator);function je(...n){let e=L6;for(let t of n)e=e.add(t);return e}var V6=new zt(Te);function j6(){return V6}function yC(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ku(e)?"-0":e}}function ek(n){return{integerValue:""+n}}function U6(n,e){return g6(e)?ek(e):yC(n,e)}var pl=class{constructor(){this._=void 0}};function B6(n,e,t){return n instanceof Zu?function(i,o){let s={fields:{[LP]:{stringValue:FP},[jP]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&dC(o)&&(o=lm(o)),o&&(s.fields[VP]=o),{mapValue:s}}(t,e):n instanceof gl?tk(n,e):n instanceof ml?nk(n,e):function(i,o){let s=z6(i,o),a=HN(s)+HN(i.Re);return OE(s)&&OE(i.Re)?ek(a):yC(i.serializer,a)}(n,e)}function $6(n,e,t){return n instanceof gl?tk(n,e):n instanceof ml?nk(n,e):t}function z6(n,e){return n instanceof Ju?function(r){return OE(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}var Zu=class extends pl{},gl=class extends pl{constructor(e){super(),this.elements=e}};function tk(n,e){let t=rk(e);for(let r of n.elements)t.some(i=>Xr(i,r))||t.push(r);return{arrayValue:{values:t}}}var ml=class extends pl{constructor(e){super(),this.elements=e}};function nk(n,e){let t=rk(e);for(let r of n.elements)t=t.filter(i=>!Xr(i,r));return{arrayValue:{values:t}}}var Ju=class extends pl{constructor(e,t){super(),this.serializer=e,this.Re=t}};function HN(n){return ot(n.integerValue||n.doubleValue)}function rk(n){return pC(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function H6(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof gl&&i instanceof gl||r instanceof ml&&i instanceof ml?ll(r.elements,i.elements,Xr):r instanceof Ju&&i instanceof Ju?Xr(r.Re,i.Re):r instanceof Zu&&i instanceof Zu}(n.transform,e.transform)}var qu=class n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new n}static exists(e){return new n(void 0,e)}static updateTime(e){return new n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function xg(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}var Xu=class{};function ik(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new KE(n.key,qu.none()):new ed(n.key,n.data,qu.none());{let t=n.data,r=xi.empty(),i=new zt(lr.comparator);for(let o of e.fields)if(!i.has(o)){let s=t.field(o);s===null&&o.length>1&&(o=o.popLast(),s=t.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new yl(n.key,r,new As(i.toArray()),qu.none())}}function q6(n,e,t){n instanceof ed?function(i,o,s){let a=i.value.clone(),l=GN(i.fieldTransforms,o,s.transformResults);a.setAll(l),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(n,e,t):n instanceof yl?function(i,o,s){if(!xg(i.precondition,o))return void o.convertToUnknownDocument(s.version);let a=GN(i.fieldTransforms,o,s.transformResults),l=o.data;l.setAll(ok(i)),l.setAll(a),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(n,e,t):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,t)}function Gu(n,e,t,r){return n instanceof ed?function(o,s,a,l){if(!xg(o.precondition,s))return a;let u=o.value.clone(),d=WN(o.fieldTransforms,l,s);return u.setAll(d),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(n,e,t,r):n instanceof yl?function(o,s,a,l){if(!xg(o.precondition,s))return a;let u=WN(o.fieldTransforms,l,s),d=s.data;return d.setAll(ok(o)),d.setAll(u),s.convertToFoundDocument(s.version,d).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(f=>f.field))}(n,e,t,r):function(o,s,a){return xg(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(n,e,t)}function qN(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&ll(r,i,(o,s)=>H6(o,s))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}var ed=class extends Xu{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},yl=class extends Xu{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function ok(n){let e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let r=n.data.field(t);e.set(t,r)}}),e}function GN(n,e,t){let r=new Map;ct(n.length===t.length,32656,{Ve:t.length,me:n.length});for(let i=0;i<t.length;i++){let o=n[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,$6(s,a,t[i]))}return r}function WN(n,e,t){let r=new Map;for(let i of n){let o=i.transform,s=t.data.field(i.field);r.set(i.field,B6(o,s,e))}return r}var KE=class extends Xu{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}};var QE=class{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){let r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&q6(o,e,r[i])}}applyToLocalView(e,t){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(t=Gu(r,e,t,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(t=Gu(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let r=XP();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=t.has(i.key)?null:a;let l=ik(s,a);l!==null&&r.set(i.key,l),s.isValidDocument()||s.convertToNoDocument(ve.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),je())}isEqual(e){return this.batchId===e.batchId&&ll(this.mutations,e.mutations,(t,r)=>qN(t,r))&&ll(this.baseMutations,e.baseMutations,(t,r)=>qN(t,r))}};var YE=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var ZE=class{constructor(e,t){this.count=e,this.unchangedNames=t}};var Dt,Fe;function sk(n){if(n===void 0)return Ni("GRPC error has no .code"),$.UNKNOWN;switch(n){case Dt.OK:return $.OK;case Dt.CANCELLED:return $.CANCELLED;case Dt.UNKNOWN:return $.UNKNOWN;case Dt.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case Dt.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case Dt.INTERNAL:return $.INTERNAL;case Dt.UNAVAILABLE:return $.UNAVAILABLE;case Dt.UNAUTHENTICATED:return $.UNAUTHENTICATED;case Dt.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case Dt.NOT_FOUND:return $.NOT_FOUND;case Dt.ALREADY_EXISTS:return $.ALREADY_EXISTS;case Dt.PERMISSION_DENIED:return $.PERMISSION_DENIED;case Dt.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case Dt.ABORTED:return $.ABORTED;case Dt.OUT_OF_RANGE:return $.OUT_OF_RANGE;case Dt.UNIMPLEMENTED:return $.UNIMPLEMENTED;case Dt.DATA_LOSS:return $.DATA_LOSS;default:return he(39323,{code:n})}}(Fe=Dt||(Dt={}))[Fe.OK=0]="OK",Fe[Fe.CANCELLED=1]="CANCELLED",Fe[Fe.UNKNOWN=2]="UNKNOWN",Fe[Fe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Fe[Fe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Fe[Fe.NOT_FOUND=5]="NOT_FOUND",Fe[Fe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Fe[Fe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Fe[Fe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Fe[Fe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Fe[Fe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Fe[Fe.ABORTED=10]="ABORTED",Fe[Fe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Fe[Fe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Fe[Fe.INTERNAL=13]="INTERNAL",Fe[Fe.UNAVAILABLE=14]="UNAVAILABLE",Fe[Fe.DATA_LOSS=15]="DATA_LOSS";var KN=null;var G6=new Ai([4294967295,4294967295],0);function QN(n){let e=wP().encode(n),t=new hE;return t.update(e),new Uint8Array(t.digest())}function YN(n){let e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Ai([t,r],0),new Ai([i,o],0)]}var JE=class n{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new xs(`Invalid padding: ${t}`);if(r<0)throw new xs(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new xs(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new xs(`Invalid padding when bitmap length is 0: ${t}`);this.pe=8*e.length-t,this.ye=Ai.fromNumber(this.pe)}we(e,t,r){let i=e.add(t.multiply(Ai.fromNumber(r)));return i.compare(G6)===1&&(i=new Ai([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;let t=QN(e),[r,i]=YN(t);for(let o=0;o<this.hashCount;o++){let s=this.we(r,i,o);if(!this.be(s))return!1}return!0}static create(e,t,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new n(o,i,t);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.pe===0)return;let t=QN(e),[r,i]=YN(t);for(let o=0;o<this.hashCount;o++){let s=this.we(r,i,o);this.Se(s)}}Se(e){let t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}},xs=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var jg=class n{constructor(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){let i=new Map;return i.set(e,td.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new n(ve.min(),i,new _t(Te),bo(),je())}},td=class n{constructor(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new n(r,t,je(),je(),je())}};var rl=class{constructor(e,t,r,i){this.De=e,this.removedTargetIds=t,this.key=r,this.ve=i}},Ug=class{constructor(e,t){this.targetId=e,this.Ce=t}},Bg=class{constructor(e,t,r=rn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}},$g=class{constructor(){this.Fe=0,this.Me=ZN(),this.xe=rn.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=je(),t=je(),r=je();return this.Me.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:he(38017,{changeType:o})}}),new td(this.xe,this.Oe,e,t,r)}Qe(){this.Ne=!1,this.Me=ZN()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,ct(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}},XE=class{constructor(e){this.ze=e,this.je=new Map,this.He=bo(),this.Je=Tg(),this.Ye=Tg(),this.Ze=new _t(Te)}Xe(e){for(let t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(let t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,t=>{let r=this.rt(t);switch(e.state){case 0:this.it(t)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(t);break;case 3:this.it(t)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),r.ke(e.resumeToken));break;default:he(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach((r,i)=>{this.it(i)&&t(i)})}ot(e){let t=e.targetId,r=e.Ce.count,i=this._t(t);if(i){let o=i.target;if(qE(o))if(r===0){let s=new le(o.path);this.tt(t,s,Mr.newNoDocument(s,ve.min()))}else ct(r===1,20013,{expectedCount:r});else{let s=this.ut(t);if(s!==r){let a=this.ct(e),l=a?this.lt(a,e,s):1;if(l!==0){this.st(t);let u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,u)}KN?.ht(function(d,f,p,m,v){var w,A,N,O,U,q;let Ee={localCacheCount:d,existenceFilterCount:f.count,databaseId:p.database,projectId:p.projectId},ae=f.unchangedNames;return ae&&(Ee.bloomFilter={applied:v===0,hashCount:(w=ae?.hashCount)!==null&&w!==void 0?w:0,bitmapLength:(O=(N=(A=ae?.bits)===null||A===void 0?void 0:A.bitmap)===null||N===void 0?void 0:N.length)!==null&&O!==void 0?O:0,padding:(q=(U=ae?.bits)===null||U===void 0?void 0:U.padding)!==null&&q!==void 0?q:0,mightContain:D=>{var _;return(_=m?.mightContain(D))!==null&&_!==void 0&&_}}),Ee}(s,e.Ce,this.ze.Pt(),a,l))}}}}ct(e){let t=e.Ce.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=t,s,a;try{s=ki(r).toUint8Array()}catch(l){if(l instanceof Og)return al("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new JE(s,i,o)}catch(l){return al(l instanceof xs?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.pe===0?null:a}lt(e,t,r){return t.Ce.count===r-this.Tt(e,t.targetId)?0:2}Tt(e,t){let r=this.ze.getRemoteKeysForTarget(t),i=0;return r.forEach(o=>{let s=this.ze.Pt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.tt(t,o,null),i++)}),i}It(e){let t=new Map;this.je.forEach((o,s)=>{let a=this._t(s);if(a){if(o.current&&qE(a.target)){let l=new le(a.target.path);this.Et(l).has(s)||this.dt(s,l)||this.tt(s,l,Mr.newNoDocument(l,e))}o.Le&&(t.set(s,o.qe()),o.Qe())}});let r=je();this.Ye.forEach((o,s)=>{let a=!0;s.forEachWhile(l=>{let u=this._t(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.He.forEach((o,s)=>s.setReadTime(e));let i=new jg(e,t,this.Ze,this.He,r);return this.He=bo(),this.Je=Tg(),this.Ye=Tg(),this.Ze=new _t(Te),i}et(e,t){if(!this.it(e))return;let r=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,r),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,r){if(!this.it(e))return;let i=this.rt(e);this.dt(e,t)?i.$e(t,1):i.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),r&&(this.He=this.He.insert(t,r))}removeTarget(e){this.je.delete(e)}ut(e){let t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new $g,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new zt(Te),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new zt(Te),this.Je=this.Je.insert(e,t)),t}it(e){let t=this._t(e)!==null;return t||X("WatchChangeAggregator","Detected inactive target",e),t}_t(e){let t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new $g),this.ze.getRemoteKeysForTarget(e).forEach(t=>{this.tt(e,t,null)})}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}};function Tg(){return new _t(le.comparator)}function ZN(){return new _t(le.comparator)}var W6={asc:"ASCENDING",desc:"DESCENDING"},K6={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Q6={and:"AND",or:"OR"},eb=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function tb(n,e){return n.useProto3Json||am(e)?e:{value:e}}function nb(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function ak(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function il(n){return ct(!!n,49232),ve.fromTimestamp(function(t){let r=Pi(t);return new nn(r.seconds,r.nanos)}(n))}function lk(n,e){return rb(n,e).canonicalString()}function rb(n,e){let t=function(i){return new vt(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function ck(n){let e=vt.fromString(n);return ct(pk(e),10190,{key:e.toString()}),e}function _E(n,e){let t=ck(e);if(t.get(1)!==n.databaseId.projectId)throw new ne($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new ne($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new le(dk(t))}function uk(n,e){return lk(n.databaseId,e)}function Y6(n){let e=ck(n);return e.length===4?vt.emptyPath():dk(e)}function JN(n){return new vt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function dk(n){return ct(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function Z6(n,e){let t;if("targetChange"in e){e.targetChange;let r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:he(39313,{state:u})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(u,d){return u.useProto3Json?(ct(d===void 0||typeof d=="string",58123),rn.fromBase64String(d||"")):(ct(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),rn.fromUint8Array(d||new Uint8Array))}(n,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(u){let d=u.code===void 0?$.UNKNOWN:sk(u.code);return new ne(d,u.message||"")}(s);t=new Bg(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=_E(n,r.document.name),o=il(r.document.updateTime),s=r.document.createTime?il(r.document.createTime):ve.min(),a=new xi({mapValue:{fields:r.document.fields}}),l=Mr.newFoundDocument(i,o,s,a),u=r.targetIds||[],d=r.removedTargetIds||[];t=new rl(u,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=_E(n,r.document),o=r.readTime?il(r.readTime):ve.min(),s=Mr.newNoDocument(i,o),a=r.removedTargetIds||[];t=new rl([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=_E(n,r.document),o=r.removedTargetIds||[];t=new rl([],o,i,null)}else{if(!("filter"in e))return he(11601,{Vt:e});{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new ZE(i,o),a=r.targetId;t=new Ug(a,s)}}return t}function J6(n,e){return{documents:[uk(n,e.path)]}}function X6(n,e){let t={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=uk(n,i);let o=function(u){if(u.length!==0)return fk(xr.create(u,"and"))}(e.filters);o&&(t.structuredQuery.where=o);let s=function(u){if(u.length!==0)return u.map(d=>function(p){return{field:Xa(p.field),direction:n5(p.dir)}}(d))}(e.orderBy);s&&(t.structuredQuery.orderBy=s);let a=tb(n,e.limit);return a!==null&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{gt:t,parent:i}}function e5(n){let e=Y6(n.parent),t=n.structuredQuery,r=t.from?t.from.length:0,i=null;if(r>0){ct(r===1,65062);let d=t.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let o=[];t.where&&(o=function(f){let p=hk(f);return p instanceof xr&&HP(p)?p.getFilters():[p]}(t.where));let s=[];t.orderBy&&(s=function(f){return f.map(p=>function(v){return new fl(el(v.field),function(A){switch(A){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(v.direction))}(p))}(t.orderBy));let a=null;t.limit&&(a=function(f){let p;return p=typeof f=="object"?f.value:f,am(p)?null:p}(t.limit));let l=null;t.startAt&&(l=function(f){let p=!!f.before,m=f.values||[];return new hl(m,p)}(t.startAt));let u=null;return t.endAt&&(u=function(f){let p=!f.before,m=f.values||[];return new hl(m,p)}(t.endAt)),R6(e,i,s,o,a,"F",l,u)}function t5(n,e){let t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return he(28987,{purpose:i})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function hk(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":let r=el(t.unaryFilter.field);return Tt.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=el(t.unaryFilter.field);return Tt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=el(t.unaryFilter.field);return Tt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=el(t.unaryFilter.field);return Tt.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return he(61313);default:return he(60726)}}(n):n.fieldFilter!==void 0?function(t){return Tt.create(el(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return he(58110);default:return he(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return xr.create(t.compositeFilter.filters.map(r=>hk(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return he(1026)}}(t.compositeFilter.op))}(n):he(30097,{filter:n})}function n5(n){return W6[n]}function r5(n){return K6[n]}function i5(n){return Q6[n]}function Xa(n){return{fieldPath:n.canonicalString()}}function el(n){return lr.fromServerFormat(n.fieldPath)}function fk(n){return n instanceof Tt?function(t){if(t.op==="=="){if(jN(t.value))return{unaryFilter:{field:Xa(t.field),op:"IS_NAN"}};if(VN(t.value))return{unaryFilter:{field:Xa(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(jN(t.value))return{unaryFilter:{field:Xa(t.field),op:"IS_NOT_NAN"}};if(VN(t.value))return{unaryFilter:{field:Xa(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Xa(t.field),op:r5(t.op),value:t.value}}}(n):n instanceof xr?function(t){let r=t.getFilters().map(i=>fk(i));return r.length===1?r[0]:{compositeFilter:{op:i5(t.op),filters:r}}}(n):he(54877,{filter:n})}function pk(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var nd=class n{constructor(e,t,r,i,o=ve.min(),s=ve.min(),a=rn.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var ib=class{constructor(e){this.wt=e}};function o5(n){let e=e5({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?WE(e,e.limit,"L"):e}var zg=class{constructor(){}vt(e,t){this.Ct(e,t),t.Ft()}Ct(e,t){if("nullValue"in e)this.Mt(t,5);else if("booleanValue"in e)this.Mt(t,10),t.xt(e.booleanValue?1:0);else if("integerValue"in e)this.Mt(t,15),t.xt(ot(e.integerValue));else if("doubleValue"in e){let r=ot(e.doubleValue);isNaN(r)?this.Mt(t,13):(this.Mt(t,15),Ku(r)?t.xt(0):t.xt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Mt(t,20),typeof r=="string"&&(r=Pi(r)),t.Ot(`${r.seconds||""}`),t.xt(r.nanos||0)}else if("stringValue"in e)this.Nt(e.stringValue,t),this.Bt(t);else if("bytesValue"in e)this.Mt(t,30),t.Lt(ki(e.bytesValue)),this.Bt(t);else if("referenceValue"in e)this.kt(e.referenceValue,t);else if("geoPointValue"in e){let r=e.geoPointValue;this.Mt(t,45),t.xt(r.latitude||0),t.xt(r.longitude||0)}else"mapValue"in e?$P(e)?this.Mt(t,Number.MAX_SAFE_INTEGER):BP(e)?this.qt(e.mapValue,t):(this.Qt(e.mapValue,t),this.Bt(t)):"arrayValue"in e?(this.$t(e.arrayValue,t),this.Bt(t)):he(19022,{Ut:e})}Nt(e,t){this.Mt(t,25),this.Kt(e,t)}Kt(e,t){t.Ot(e)}Qt(e,t){let r=e.fields||{};this.Mt(t,55);for(let i of Object.keys(r))this.Nt(i,t),this.Ct(r[i],t)}qt(e,t){var r,i;let o=e.fields||{};this.Mt(t,53);let s=cl,a=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.Mt(t,15),t.xt(ot(a)),this.Nt(s,t),this.Ct(o[s],t)}$t(e,t){let r=e.values||[];this.Mt(t,50);for(let i of r)this.Ct(i,t)}kt(e,t){this.Mt(t,37),le.fromName(e).path.forEach(r=>{this.Mt(t,60),this.Kt(r,t)})}Mt(e,t){e.xt(t)}Bt(e){e.xt(2)}};zg.Wt=new zg;var ob=class{constructor(){this.Cn=new sb}addToCollectionParentIndex(e,t){return this.Cn.add(t),V.resolve()}getCollectionParents(e,t){return V.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return V.resolve()}deleteFieldIndex(e,t){return V.resolve()}deleteAllFieldIndexes(e){return V.resolve()}createTargetIndexes(e,t){return V.resolve()}getDocumentsMatchingTarget(e,t){return V.resolve(null)}getIndexType(e,t){return V.resolve(0)}getFieldIndexes(e,t){return V.resolve([])}getNextCollectionGroupToUpdate(e){return V.resolve(null)}getMinOffset(e,t){return V.resolve(Ns.min())}getMinOffsetFromCollectionGroup(e,t){return V.resolve(Ns.min())}updateCollectionGroup(e,t,r){return V.resolve()}updateIndexEntries(e,t){return V.resolve()}},sb=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new zt(vt.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new zt(vt.comparator)).toArray()}};var yce=new Uint8Array(0);var XN={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},gk=41943040,ar=class n{static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}};ar.DEFAULT_COLLECTION_PERCENTILE=10,ar.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ar.DEFAULT=new ar(gk,ar.DEFAULT_COLLECTION_PERCENTILE,ar.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ar.DISABLED=new ar(-1,0,0);var rd=class n{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new n(0)}static lr(){return new n(-1)}};var eP="LruGarbageCollector",s5=1048576;function tP([n,e],[t,r]){let i=Te(n,t);return i===0?Te(e,r):i}var ab=class{constructor(e){this.Er=e,this.buffer=new zt(tP),this.dr=0}Ar(){return++this.dr}Rr(e){let t=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(t);else{let r=this.buffer.last();tP(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}},lb=class{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){X(eP,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,()=>H(this,null,function*(){this.Vr=null;try{yield this.localStore.collectGarbage(this.garbageCollector)}catch(t){bl(t)?X(eP,"Ignoring IndexedDB error during garbage collection: ",t):yield sm(t)}yield this.mr(3e5)}))}},cb=class{constructor(e,t){this.gr=e,this.params=t}calculateTargetCount(e,t){return this.gr.pr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return V.resolve(uC.le);let r=new ab(t);return this.gr.forEachTarget(e,i=>r.Rr(i.sequenceNumber)).next(()=>this.gr.yr(e,i=>r.Rr(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.gr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.gr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(X("LruGarbageCollector","Garbage collection skipped; disabled"),V.resolve(XN)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(X("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),XN):this.wr(e,t))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,t){let r,i,o,s,a,l,u,d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(X("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),i=this.params.maximumSequenceNumbersToCollect):i=f,s=Date.now(),this.nthSequenceNumber(e,i))).next(f=>(r=f,a=Date.now(),this.removeTargets(e,r,t))).next(f=>(o=f,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(u=Date.now(),Za()<=Oe.DEBUG&&X("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-d}ms
	Determined least recently used ${i} in `+(a-s)+`ms
	Removed ${o} targets in `+(l-a)+`ms
	Removed ${f} documents in `+(u-l)+`ms
Total Duration: ${u-d}ms`),V.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:f})))}};function a5(n,e){return new cb(n,e)}var ub=class{constructor(){this.changes=new Oi(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Mr.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let r=this.changes.get(t);return r!==void 0?V.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var db=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var hb=class{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&Gu(r.mutation,i,As.empty(),nn.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,je()).next(()=>r))}getLocalViewOfDocuments(e,t,r=je()){let i=Ms();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(o=>{let s=Bu();return o.forEach((a,l)=>{s=s.insert(a,l.overlayedDocument)}),s}))}getOverlayedDocuments(e,t){let r=Ms();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,je()))}populateOverlays(e,t,r){let i=[];return r.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{t.set(s,a)})})}computeViews(e,t,r,i){let o=bo(),s=Hu(),a=function(){return Hu()}();return t.forEach((l,u)=>{let d=r.get(u.key);i.has(u.key)&&(d===void 0||d.mutation instanceof yl)?o=o.insert(u.key,u):d!==void 0?(s.set(u.key,d.mutation.getFieldMask()),Gu(d.mutation,u,d.mutation.getFieldMask(),nn.now())):s.set(u.key,As.empty())}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((u,d)=>s.set(u,d)),t.forEach((u,d)=>{var f;return a.set(u,new db(d,(f=s.get(u))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,t){let r=Hu(),i=new _t((s,a)=>s-a),o=je();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>{for(let a of s)a.keys().forEach(l=>{let u=t.get(l);if(u===null)return;let d=r.get(l)||As.empty();d=a.applyToLocalView(u,d),r.set(l,d);let f=(i.get(a.batchId)||je()).add(l);i=i.insert(a.batchId,f)})}).next(()=>{let s=[],a=i.getReverseIterator();for(;a.hasNext();){let l=a.getNext(),u=l.key,d=l.value,f=XP();d.forEach(p=>{if(!o.has(p)){let m=ik(t.get(p),r.get(p));m!==null&&f.set(p,m),o=o.add(p)}}),s.push(this.documentOverlayCache.saveOverlays(e,u,f))}return V.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(s){return le.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):QP(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-o.size):V.resolve(Ms()),a=Wu,l=o;return s.next(u=>V.forEach(u,(d,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),o.get(d)?V.resolve():this.remoteDocumentCache.getEntry(e,d).next(p=>{l=l.insert(d,p)}))).next(()=>this.populateOverlays(e,u,o)).next(()=>this.computeViews(e,l,u,je())).next(d=>({batchId:a,changes:F6(d)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new le(t)).next(r=>{let i=Bu();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){let o=t.collectionGroup,s=Bu();return this.indexManager.getCollectionParents(e,o).next(a=>V.forEach(a,l=>{let u=function(f,p){return new Ps(p,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(t,l.child(o));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(d=>{d.forEach((f,p)=>{s=s.insert(f,p)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,i))).next(s=>{o.forEach((l,u)=>{let d=u.getKey();s.get(d)===null&&(s=s.insert(d,Mr.newInvalidDocument(d)))});let a=Bu();return s.forEach((l,u)=>{let d=o.get(l);d!==void 0&&Gu(d.mutation,u,As.empty(),nn.now()),um(t,u)&&(a=a.insert(l,u))}),a})}};var fb=class{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,t){return V.resolve(this.kr.get(t))}saveBundleMetadata(e,t){return this.kr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:il(i.createTime)}}(t)),V.resolve()}getNamedQuery(e,t){return V.resolve(this.qr.get(t))}saveNamedQuery(e,t){return this.qr.set(t.name,function(i){return{name:i.name,query:o5(i.bundledQuery),readTime:il(i.readTime)}}(t)),V.resolve()}};var pb=class{constructor(){this.overlays=new _t(le.comparator),this.Qr=new Map}getOverlay(e,t){return V.resolve(this.overlays.get(t))}getOverlays(e,t){let r=Ms();return V.forEach(t,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,o)=>{this.St(e,t,o)}),V.resolve()}removeOverlaysForBatchId(e,t,r){let i=this.Qr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Qr.delete(r)),V.resolve()}getOverlaysForCollection(e,t,r){let i=Ms(),o=t.length+1,s=new le(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let l=a.getNext().value,u=l.getKey();if(!t.isPrefixOf(u.path))break;u.path.length===o&&l.largestBatchId>r&&i.set(l.getKey(),l)}return V.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new _t((u,d)=>u-d),s=this.overlays.getIterator();for(;s.hasNext();){let u=s.getNext().value;if(u.getKey().getCollectionGroup()===t&&u.largestBatchId>r){let d=o.get(u.largestBatchId);d===null&&(d=Ms(),o=o.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}let a=Ms(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,d)=>a.set(u,d)),!(a.size()>=i)););return V.resolve(a)}St(e,t,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.Qr.get(i.largestBatchId).delete(r.key);this.Qr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new YE(t,r));let o=this.Qr.get(t);o===void 0&&(o=je(),this.Qr.set(t,o)),this.Qr.set(t,o.add(r.key))}};var gb=class{constructor(){this.sessionToken=rn.EMPTY_BYTE_STRING}getSessionToken(e){return V.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,V.resolve()}};var id=class{constructor(){this.$r=new zt(St.Ur),this.Kr=new zt(St.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,t){let r=new St(e,t);this.$r=this.$r.add(r),this.Kr=this.Kr.add(r)}Gr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.zr(new St(e,t))}jr(e,t){e.forEach(r=>this.removeReference(r,t))}Hr(e){let t=new le(new vt([])),r=new St(t,e),i=new St(t,e+1),o=[];return this.Kr.forEachInRange([r,i],s=>{this.zr(s),o.push(s.key)}),o}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){let t=new le(new vt([])),r=new St(t,e),i=new St(t,e+1),o=je();return this.Kr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let t=new St(e,0),r=this.$r.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}},St=class{constructor(e,t){this.key=e,this.Zr=t}static Ur(e,t){return le.comparator(e.key,t.key)||Te(e.Zr,t.Zr)}static Wr(e,t){return Te(e.Zr,t.Zr)||le.comparator(e.key,t.key)}};var mb=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.nr=1,this.Xr=new zt(St.Ur)}checkEmpty(e){return V.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){let o=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new QE(o,t,r,i);this.mutationQueue.push(s);for(let a of i)this.Xr=this.Xr.add(new St(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return V.resolve(s)}lookupMutationBatch(e,t){return V.resolve(this.ei(t))}getNextMutationBatchAfterBatchId(e,t){let r=t+1,i=this.ti(r),o=i<0?0:i;return V.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return V.resolve(this.mutationQueue.length===0?p6:this.nr-1)}getAllMutationBatches(e){return V.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let r=new St(t,0),i=new St(t,Number.POSITIVE_INFINITY),o=[];return this.Xr.forEachInRange([r,i],s=>{let a=this.ei(s.Zr);o.push(a)}),V.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new zt(Te);return t.forEach(i=>{let o=new St(i,0),s=new St(i,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([o,s],a=>{r=r.add(a.Zr)})}),V.resolve(this.ni(r))}getAllMutationBatchesAffectingQuery(e,t){let r=t.path,i=r.length+1,o=r;le.isDocumentKey(o)||(o=o.child(""));let s=new St(new le(o),0),a=new zt(Te);return this.Xr.forEachWhile(l=>{let u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.Zr)),!0)},s),V.resolve(this.ni(a))}ni(e){let t=[];return e.forEach(r=>{let i=this.ei(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){ct(this.ri(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Xr;return V.forEach(t.mutations,i=>{let o=new St(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Xr=r})}sr(e){}containsKey(e,t){let r=new St(t,0),i=this.Xr.firstAfterOrEqual(r);return V.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,V.resolve()}ri(e,t){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){let t=this.ti(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};var yb=class{constructor(e){this.ii=e,this.docs=function(){return new _t(le.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let r=t.key,i=this.docs.get(r),o=i?i.size:0,s=this.ii(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let r=this.docs.get(t);return V.resolve(r?r.document.mutableCopy():Mr.newInvalidDocument(t))}getEntries(e,t){let r=bo();return t.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Mr.newInvalidDocument(i))}),V.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let o=bo(),s=t.path,a=new le(s.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){let{key:u,value:{document:d}}=l.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||d6(u6(d),r)<=0||(i.has(d.key)||um(t,d))&&(o=o.insert(d.key,d.mutableCopy()))}return V.resolve(o)}getAllFromCollectionGroup(e,t,r,i){he(9500)}si(e,t){return V.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new vb(this)}getSize(e){return V.resolve(this.size)}},vb=class extends ub{constructor(e){super(),this.Br=e}applyChanges(e){let t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Br.addEntry(e,i)):this.Br.removeEntry(r)}),V.waitFor(t)}getFromCache(e,t){return this.Br.getEntry(e,t)}getAllFromCache(e,t){return this.Br.getEntries(e,t)}};var _b=class{constructor(e){this.persistence=e,this.oi=new Oi(t=>gC(t),mC),this.lastRemoteSnapshotVersion=ve.min(),this.highestTargetId=0,this._i=0,this.ai=new id,this.targetCount=0,this.ui=rd.cr()}forEachTarget(e,t){return this.oi.forEach((r,i)=>t(i)),V.resolve()}getLastRemoteSnapshotVersion(e){return V.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return V.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),V.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this._i&&(this._i=t),V.resolve()}Tr(e){this.oi.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this.ui=new rd(t),this.highestTargetId=t),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,t){return this.Tr(t),this.targetCount+=1,V.resolve()}updateTargetData(e,t){return this.Tr(t),V.resolve()}removeTargetData(e,t){return this.oi.delete(t.target),this.ai.Hr(t.targetId),this.targetCount-=1,V.resolve()}removeTargets(e,t,r){let i=0,o=[];return this.oi.forEach((s,a)=>{a.sequenceNumber<=t&&r.get(a.targetId)===null&&(this.oi.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),V.waitFor(o).next(()=>i)}getTargetCount(e){return V.resolve(this.targetCount)}getTargetData(e,t){let r=this.oi.get(t)||null;return V.resolve(r)}addMatchingKeys(e,t,r){return this.ai.Gr(t,r),V.resolve()}removeMatchingKeys(e,t,r){this.ai.jr(t,r);let i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),V.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.ai.Hr(t),V.resolve()}getMatchingKeysForTargetId(e,t){let r=this.ai.Yr(t);return V.resolve(r)}containsKey(e,t){return V.resolve(this.ai.containsKey(t))}};var Hg=class{constructor(e,t){this.ci={},this.overlays={},this.li=new uC(0),this.hi=!1,this.hi=!0,this.Pi=new gb,this.referenceDelegate=e(this),this.Ti=new _b(this),this.indexManager=new ob,this.remoteDocumentCache=function(i){return new yb(i)}(r=>this.referenceDelegate.Ii(r)),this.serializer=new ib(t),this.Ei=new fb(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new pb,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ci[e.toKey()];return r||(r=new mb(t,this.referenceDelegate),this.ci[e.toKey()]=r),r}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,t,r){X("MemoryPersistence","Starting transaction:",e);let i=new wb(this.li.next());return this.referenceDelegate.di(),r(i).next(o=>this.referenceDelegate.Ai(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ri(e,t){return V.or(Object.values(this.ci).map(r=>()=>r.containsKey(e,t)))}},wb=class extends NE{constructor(e){super(),this.currentSequenceNumber=e}},Eb=class n{constructor(e){this.persistence=e,this.Vi=new id,this.mi=null}static fi(e){return new n(e)}get gi(){if(this.mi)return this.mi;throw he(60996)}addReference(e,t,r){return this.Vi.addReference(r,t),this.gi.delete(r.toString()),V.resolve()}removeReference(e,t,r){return this.Vi.removeReference(r,t),this.gi.add(r.toString()),V.resolve()}markPotentiallyOrphaned(e,t){return this.gi.add(t.toString()),V.resolve()}removeTarget(e,t){this.Vi.Hr(t.targetId).forEach(i=>this.gi.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.gi.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}di(){this.mi=new Set}Ai(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return V.forEach(this.gi,r=>{let i=le.fromPath(r);return this.pi(e,i).next(o=>{o||t.removeEntry(i,ve.min())})}).next(()=>(this.mi=null,t.apply(e)))}updateLimboDocument(e,t){return this.pi(e,t).next(r=>{r?this.gi.delete(t.toString()):this.gi.add(t.toString())})}Ii(e){return 0}pi(e,t){return V.or([()=>V.resolve(this.Vi.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ri(e,t)])}},qg=class n{constructor(e,t){this.persistence=e,this.yi=new Oi(r=>m6(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=a5(this,t)}static fi(e,t){return new n(e,t)}di(){}Ai(e){return V.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}pr(e){let t=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}br(e){let t=0;return this.yr(e,r=>{t++}).next(()=>t)}yr(e,t){return V.forEach(this.yi,(r,i)=>this.Dr(e,r,i).next(o=>o?V.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0,i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.si(e,s=>this.Dr(e,s,t).next(a=>{a||(r++,o.removeEntry(s,ve.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.yi.set(t,e.currentSequenceNumber),V.resolve()}removeTarget(e,t){let r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.yi.set(r,e.currentSequenceNumber),V.resolve()}removeReference(e,t,r){return this.yi.set(r,e.currentSequenceNumber),V.resolve()}updateLimboDocument(e,t){return this.yi.set(t,e.currentSequenceNumber),V.resolve()}Ii(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Mg(e.data.value)),t}Dr(e,t,r){return V.or([()=>this.persistence.Ri(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{let i=this.yi.get(t);return V.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}};var bb=class n{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.ds=r,this.As=i}static Rs(e,t){let r=je(),i=je();for(let o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new n(e,t.fromCache,r,i)}};var Cb=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var Ib=class{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return oN()?8:f6(iN())>0?6:4}()}initialize(e,t){this.ys=e,this.indexManager=t,this.Vs=!0}getDocumentsMatchingQuery(e,t,r,i){let o={result:null};return this.ws(e,t).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.bs(e,t,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new Cb;return this.Ss(e,t,s).next(a=>{if(o.result=a,this.fs)return this.Ds(e,t,s,a.size)})}).next(()=>o.result)}Ds(e,t,r,i){return r.documentReadCount<this.gs?(Za()<=Oe.DEBUG&&X("QueryEngine","SDK will not create cache indexes for query:",Ja(t),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),V.resolve()):(Za()<=Oe.DEBUG&&X("QueryEngine","Query:",Ja(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ps*i?(Za()<=Oe.DEBUG&&X("QueryEngine","The SDK decides to create cache indexes for query:",Ja(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Jr(t))):V.resolve())}ws(e,t){if(zN(t))return V.resolve(null);let r=Jr(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=WE(t,null,"F"),r=Jr(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=je(...o);return this.ys.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{let u=this.vs(t,a);return this.Cs(t,u,s,l.readTime)?this.ws(e,WE(t,null,"F")):this.Fs(e,u,t,l)}))})))}bs(e,t,r,i){return zN(t)||i.isEqual(ve.min())?V.resolve(null):this.ys.getDocuments(e,r).next(o=>{let s=this.vs(t,o);return this.Cs(t,s,r,i)?V.resolve(null):(Za()<=Oe.DEBUG&&X("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ja(t)),this.Fs(e,s,t,c6(i,Wu)).next(a=>a))})}vs(e,t){let r=new zt(ZP(e));return t.forEach((i,o)=>{um(e,o)&&(r=r.add(o))}),r}Cs(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;let o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Ss(e,t,r){return Za()<=Oe.DEBUG&&X("QueryEngine","Using full collection scan to execute query:",Ja(t)),this.ys.getDocumentsMatchingQuery(e,t,Ns.min(),r)}Fs(e,t,r,i){return this.ys.getDocumentsMatchingQuery(e,r,i).next(o=>(t.forEach(s=>{o=o.insert(s.key,s)}),o))}};var vC="LocalStore",l5=3e8,Db=class{constructor(e,t,r,i){this.persistence=e,this.Ms=t,this.serializer=i,this.xs=new _t(Te),this.Os=new Oi(o=>gC(o),mC),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(r)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new hb(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.xs))}};function c5(n,e,t,r){return new Db(n,e,t,r)}function mk(n,e){return H(this,null,function*(){let t=Le(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,t.Ls(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],a=[],l=je();for(let u of i){s.push(u.batchId);for(let d of u.mutations)l=l.add(d.key)}for(let u of o){a.push(u.batchId);for(let d of u.mutations)l=l.add(d.key)}return t.localDocuments.getDocuments(r,l).next(u=>({ks:u,removedBatchIds:s,addedBatchIds:a}))})})})}function yk(n){let e=Le(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ti.getLastRemoteSnapshotVersion(t))}function u5(n,e){let t=Le(n),r=e.snapshotVersion,i=t.xs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=t.Bs.newChangeBuffer({trackRemovals:!0});i=t.xs;let a=[];e.targetChanges.forEach((d,f)=>{let p=i.get(f);if(!p)return;a.push(t.Ti.removeMatchingKeys(o,d.removedDocuments,f).next(()=>t.Ti.addMatchingKeys(o,d.addedDocuments,f)));let m=p.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(f)!==null?m=m.withResumeToken(rn.EMPTY_BYTE_STRING,ve.min()).withLastLimboFreeSnapshotVersion(ve.min()):d.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(d.resumeToken,r)),i=i.insert(f,m),function(w,A,N){return w.resumeToken.approximateByteSize()===0||A.snapshotVersion.toMicroseconds()-w.snapshotVersion.toMicroseconds()>=l5?!0:N.addedDocuments.size+N.modifiedDocuments.size+N.removedDocuments.size>0}(p,m,d)&&a.push(t.Ti.updateTargetData(o,m))});let l=bo(),u=je();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(o,d))}),a.push(d5(o,s,e.documentUpdates).next(d=>{l=d.qs,u=d.Qs})),!r.isEqual(ve.min())){let d=t.Ti.getLastRemoteSnapshotVersion(o).next(f=>t.Ti.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(d)}return V.waitFor(a).next(()=>s.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,l,u)).next(()=>l)}).then(o=>(t.xs=i,o))}function d5(n,e,t){let r=je(),i=je();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let s=bo();return t.forEach((a,l)=>{let u=o.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(ve.min())?(e.removeEntry(a,l.readTime),s=s.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),s=s.insert(a,l)):X(vC,"Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{qs:s,Qs:i}})}function h5(n,e){let t=Le(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Ti.getTargetData(r,e).next(o=>o?(i=o,V.resolve(i)):t.Ti.allocateTargetId(r).next(s=>(i=new nd(e,s,"TargetPurposeListen",r.currentSequenceNumber),t.Ti.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=t.xs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.xs=t.xs.insert(r.targetId,r),t.Os.set(e,r.targetId)),r})}function Sb(n,e,t){return H(this,null,function*(){let r=Le(n),i=r.xs.get(e),o=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!bl(s))throw s;X(vC,`Failed to update sequence numbers for target ${e}: ${s}`)}r.xs=r.xs.remove(e),r.Os.delete(i.target)})}function nP(n,e,t){let r=Le(n),i=ve.min(),o=je();return r.persistence.runTransaction("Execute query","readwrite",s=>function(l,u,d){let f=Le(l),p=f.Os.get(d);return p!==void 0?V.resolve(f.xs.get(p)):f.Ti.getTargetData(u,d)}(r,s,Jr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ti.getMatchingKeysForTargetId(s,a.targetId).next(l=>{o=l})}).next(()=>r.Ms.getDocumentsMatchingQuery(s,e,t?i:ve.min(),t?o:je())).next(a=>(f5(r,P6(e),a),{documents:a,$s:o})))}function f5(n,e,t){let r=n.Ns.get(e)||ve.min();t.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.Ns.set(e,r)}var Gg=class{constructor(){this.activeTargetIds=j6()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var Tb=class{constructor(){this.xo=new Gg,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,t,r){this.Oo[e]=t}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new Gg,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var Ab=class{No(e){}shutdown(){}};var rP="ConnectivityMonitor",Wg=class{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){X(rP,"Network connectivity changed: AVAILABLE");for(let e of this.Qo)e(0)}qo(){X(rP,"Network connectivity changed: UNAVAILABLE");for(let e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Ag=null;function Mb(){return Ag===null?Ag=function(){return 268435456+Math.round(2147483648*Math.random())}():Ag++,"0x"+Ag.toString(16)}var wE="RestConnection",p5={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},xb=class{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Ko=t+"://"+e.host,this.Wo=`projects/${r}/databases/${i}`,this.Go=this.databaseId.database===Fg?`project_id=${r}`:`project_id=${r}&database_id=${i}`}zo(e,t,r,i,o){let s=Mb(),a=this.jo(e,t.toUriEncodedString());X(wE,`Sending RPC '${e}' ${s}:`,a,r);let l={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(l,i,o);let{host:u}=new URL(a),d=wg(u);return this.Jo(e,a,l,r,d).then(f=>(X(wE,`Received RPC '${e}' ${s}: `,f),f),f=>{throw al(wE,`RPC '${e}' ${s} failed with error: `,f,"url: ",a,"request:",r),f})}Yo(e,t,r,i,o,s){return this.zo(e,t,r,i,o)}Ho(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+El}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}jo(e,t){let r=p5[e];return`${this.Ko}/v1/${t}:${r}`}terminate(){}};var Rb=class{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}};var tn="WebChannelConnection",Nb=class extends xb{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,r,i,o){let s=Mb();return new Promise((a,l)=>{let u=new fE;u.setWithCredentials(!0),u.listenOnce(pE.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Uu.NO_ERROR:let f=u.getResponseJson();X(tn,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(f)),a(f);break;case Uu.TIMEOUT:X(tn,`RPC '${e}' ${s} timed out`),l(new ne($.DEADLINE_EXCEEDED,"Request time out"));break;case Uu.HTTP_ERROR:let p=u.getStatus();if(X(tn,`RPC '${e}' ${s} failed with status:`,p,"response text:",u.getResponseText()),p>0){let m=u.getResponseJson();Array.isArray(m)&&(m=m[0]);let v=m?.error;if(v&&v.status&&v.message){let w=function(N){let O=N.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(O)>=0?O:$.UNKNOWN}(v.status);l(new ne(w,v.message))}else l(new ne($.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new ne($.UNAVAILABLE,"Connection failed."));break;default:he(9055,{h_:e,streamId:s,P_:u.getLastErrorCode(),T_:u.getLastError()})}}finally{X(tn,`RPC '${e}' ${s} completed.`)}});let d=JSON.stringify(i);X(tn,`RPC '${e}' ${s} sending request:`,i),u.send(t,"POST",d,r,15)})}I_(e,t,r){let i=Mb(),o=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=yE(),a=mE(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Ho(l.initMessageHeaders,t,r),l.encodeInitMessageHeaders=!0;let d=o.join("");X(tn,`Creating RPC '${e}' stream ${i}: ${d}`,l);let f=s.createWebChannel(d,l);this.E_(f);let p=!1,m=!1,v=new Rb({Zo:A=>{m?X(tn,`Not sending because RPC '${e}' stream ${i} is closed:`,A):(p||(X(tn,`Opening RPC '${e}' stream ${i} transport.`),f.open(),p=!0),X(tn,`RPC '${e}' stream ${i} sending:`,A),f.send(A))},Xo:()=>f.close()}),w=(A,N,O)=>{A.listen(N,U=>{try{O(U)}catch(q){setTimeout(()=>{throw q},0)}})};return w(f,Ya.EventType.OPEN,()=>{m||(X(tn,`RPC '${e}' stream ${i} transport opened.`),v.__())}),w(f,Ya.EventType.CLOSE,()=>{m||(m=!0,X(tn,`RPC '${e}' stream ${i} transport closed`),v.u_(),this.d_(f))}),w(f,Ya.EventType.ERROR,A=>{m||(m=!0,al(tn,`RPC '${e}' stream ${i} transport errored. Name:`,A.name,"Message:",A.message),v.u_(new ne($.UNAVAILABLE,"The operation could not be completed")))}),w(f,Ya.EventType.MESSAGE,A=>{var N;if(!m){let O=A.data[0];ct(!!O,16349);let U=O,q=U?.error||((N=U[0])===null||N===void 0?void 0:N.error);if(q){X(tn,`RPC '${e}' stream ${i} received error:`,q);let Ee=q.status,ae=function(E){let S=Dt[E];if(S!==void 0)return sk(S)}(Ee),D=q.message;ae===void 0&&(ae=$.INTERNAL,D="Unknown error status: "+Ee+" with message "+q.message),m=!0,v.u_(new ne(ae,D)),f.close()}else X(tn,`RPC '${e}' stream ${i} received:`,O),v.c_(O)}}),w(a,gE.STAT_EVENT,A=>{A.stat===Dg.PROXY?X(tn,`RPC '${e}' stream ${i} detected buffering proxy`):A.stat===Dg.NOPROXY&&X(tn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{v.a_()},0),v}terminate(){this.l_.forEach(e=>e.close()),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter(t=>t===e)}};function EE(){return typeof document<"u"?document:null}function dm(n){return new eb(n,!0)}var Kg=class{constructor(e,t,r=1e3,i=1.5,o=6e4){this.xi=e,this.timerId=t,this.A_=r,this.R_=i,this.V_=o,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();let t=Math.floor(this.m_+this.w_()),r=Math.max(0,Date.now()-this.g_),i=Math.max(0,t-r);i>0&&X("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.m_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,i,()=>(this.g_=Date.now(),e())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}};var iP="PersistentStream",Pb=class{constructor(e,t,r,i,o,s,a,l){this.xi=e,this.S_=r,this.D_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new Kg(e,t)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}stop(){return H(this,null,function*(){this.O_()&&(yield this.close(0))})}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(e){this.U_(),this.stream.send(e)}q_(){return H(this,null,function*(){if(this.N_())return this.close(0)})}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}close(e,t){return H(this,null,function*(){this.U_(),this.K_(),this.x_.cancel(),this.v_++,e!==4?this.x_.reset():t&&t.code===$.RESOURCE_EXHAUSTED?(Ni(t.toString()),Ni("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):t&&t.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.i_(t)})}W_(){}auth(){this.state=1;let e=this.G_(this.v_),t=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.v_===t&&this.z_(r,i)},r=>{e(()=>{let i=new ne($.UNKNOWN,"Fetching auth token failed: "+r.message);return this.j_(i)})})}z_(e,t){let r=this.G_(this.v_);this.stream=this.H_(e,t),this.stream.e_(()=>{r(()=>this.listener.e_())}),this.stream.n_(()=>{r(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(i=>{r(()=>this.j_(i))}),this.stream.onMessage(i=>{r(()=>++this.M_==1?this.J_(i):this.onNext(i))})}B_(){this.state=5,this.x_.y_(()=>H(this,null,function*(){this.state=0,this.start()}))}j_(e){return X(iP,`close with error: ${e}`),this.stream=null,this.close(4,e)}G_(e){return t=>{this.xi.enqueueAndForget(()=>this.v_===e?t():(X(iP,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},kb=class extends Pb{constructor(e,t,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}H_(e,t){return this.connection.I_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.x_.reset();let t=Z6(this.serializer,e),r=function(o){if(!("targetChange"in o))return ve.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?ve.min():s.readTime?il(s.readTime):ve.min()}(e);return this.listener.Y_(t,r)}Z_(e){let t={};t.database=JN(this.serializer),t.addTarget=function(o,s){let a,l=s.target;if(a=qE(l)?{documents:J6(o,l)}:{query:X6(o,l).gt},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=ak(o,s.resumeToken);let u=tb(o,s.expectedCount);u!==null&&(a.expectedCount=u)}else if(s.snapshotVersion.compareTo(ve.min())>0){a.readTime=nb(o,s.snapshotVersion.toTimestamp());let u=tb(o,s.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);let r=t5(this.serializer,e);r&&(t.labels=r),this.Q_(t)}X_(e){let t={};t.database=JN(this.serializer),t.removeTarget=e,this.Q_(t)}};var Ob=class{},Fb=class extends Ob{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.sa=!1}oa(){if(this.sa)throw new ne($.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,t,r,i){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.zo(e,rb(t,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ne($.UNKNOWN,o.toString())})}Yo(e,t,r,i,o){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Yo(e,rb(t,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ne($.UNKNOWN,s.toString())})}terminate(){this.sa=!0,this.connection.terminate()}},Lb=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(e){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.la("Offline")))}set(e){this.Ta(),this._a=0,e==="Online"&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(Ni(t),this.ua=!1):X("OnlineStateTracker",t)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}};var vl="RemoteStore",Vb=class{constructor(e,t,r,i,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=o,this.Ra.No(s=>{r.enqueueAndForget(()=>H(this,null,function*(){dd(this)&&(X(vl,"Restarting streams for network reachability change."),yield function(l){return H(this,null,function*(){let u=Le(l);u.da.add(4),yield ud(u),u.Va.set("Unknown"),u.da.delete(4),yield hm(u)})}(this))}))}),this.Va=new Lb(r,i)}};function hm(n){return H(this,null,function*(){if(dd(n))for(let e of n.Aa)yield e(!0)})}function ud(n){return H(this,null,function*(){for(let e of n.Aa)yield e(!1)})}function vk(n,e){let t=Le(n);t.Ea.has(e.targetId)||(t.Ea.set(e.targetId,e),bC(t)?EC(t):Il(t).N_()&&wC(t,e))}function _C(n,e){let t=Le(n),r=Il(t);t.Ea.delete(e),r.N_()&&_k(t,e),t.Ea.size===0&&(r.N_()?r.k_():dd(t)&&t.Va.set("Unknown"))}function wC(n,e){if(n.ma.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ve.min())>0){let t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Il(n).Z_(e)}function _k(n,e){n.ma.Ke(e),Il(n).X_(e)}function EC(n){n.ma=new XE({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>n.Ea.get(e)||null,Pt:()=>n.datastore.serializer.databaseId}),Il(n).start(),n.Va.ca()}function bC(n){return dd(n)&&!Il(n).O_()&&n.Ea.size>0}function dd(n){return Le(n).da.size===0}function wk(n){n.ma=void 0}function g5(n){return H(this,null,function*(){n.Va.set("Online")})}function m5(n){return H(this,null,function*(){n.Ea.forEach((e,t)=>{wC(n,e)})})}function y5(n,e){return H(this,null,function*(){wk(n),bC(n)?(n.Va.Pa(e),EC(n)):n.Va.set("Unknown")})}function v5(n,e,t){return H(this,null,function*(){if(n.Va.set("Online"),e instanceof Bg&&e.state===2&&e.cause)try{yield function(i,o){return H(this,null,function*(){let s=o.cause;for(let a of o.targetIds)i.Ea.has(a)&&(yield i.remoteSyncer.rejectListen(a,s),i.Ea.delete(a),i.ma.removeTarget(a))})}(n,e)}catch(r){X(vl,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield oP(n,r)}else if(e instanceof rl?n.ma.Xe(e):e instanceof Ug?n.ma.ot(e):n.ma.nt(e),!t.isEqual(ve.min()))try{let r=yield yk(n.localStore);t.compareTo(r)>=0&&(yield function(o,s){let a=o.ma.It(s);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){let d=o.Ea.get(u);d&&o.Ea.set(u,d.withResumeToken(l.resumeToken,s))}}),a.targetMismatches.forEach((l,u)=>{let d=o.Ea.get(l);if(!d)return;o.Ea.set(l,d.withResumeToken(rn.EMPTY_BYTE_STRING,d.snapshotVersion)),_k(o,l);let f=new nd(d.target,l,u,d.sequenceNumber);wC(o,f)}),o.remoteSyncer.applyRemoteEvent(a)}(n,t))}catch(r){X(vl,"Failed to raise snapshot:",r),yield oP(n,r)}})}function oP(n,e,t){return H(this,null,function*(){if(!bl(e))throw e;n.da.add(1),yield ud(n),n.Va.set("Offline"),t||(t=()=>yk(n.localStore)),n.asyncQueue.enqueueRetryable(()=>H(null,null,function*(){X(vl,"Retrying IndexedDB access"),yield t(),n.da.delete(1),yield hm(n)}))})}function sP(n,e){return H(this,null,function*(){let t=Le(n);t.asyncQueue.verifyOperationInProgress(),X(vl,"RemoteStore received new credentials");let r=dd(t);t.da.add(3),yield ud(t),r&&t.Va.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.da.delete(3),yield hm(t)})}function _5(n,e){return H(this,null,function*(){let t=Le(n);e?(t.da.delete(2),yield hm(t)):e||(t.da.add(2),yield ud(t),t.Va.set("Unknown"))})}function Il(n){return n.fa||(n.fa=function(t,r,i){let o=Le(t);return o.oa(),new kb(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{e_:g5.bind(null,n),n_:m5.bind(null,n),i_:y5.bind(null,n),Y_:v5.bind(null,n)}),n.Aa.push(e=>H(null,null,function*(){e?(n.fa.L_(),bC(n)?EC(n):n.Va.set("Unknown")):(yield n.fa.stop(),wk(n))}))),n.fa}var jb=class n{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Ri,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,o){let s=Date.now()+r,a=new n(e,t,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ne($.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function Ek(n,e){if(Ni("AsyncQueue",`${e}: ${n}`),bl(n))return new ne($.UNAVAILABLE,`${e}: ${n}`);throw n}var Qg=class n{static emptySet(e){return new n(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||le.comparator(t.key,r.key):(t,r)=>le.comparator(t.key,r.key),this.keyedMap=Bu(),this.sortedSet=new _t(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){let r=new n;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}};var Yg=class{constructor(){this.pa=new _t(le.comparator)}track(e){let t=e.doc.key,r=this.pa.get(t);r?e.type!==0&&r.type===3?this.pa=this.pa.insert(t,e):e.type===3&&r.type!==1?this.pa=this.pa.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.pa=this.pa.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.pa=this.pa.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.pa=this.pa.remove(t):e.type===1&&r.type===2?this.pa=this.pa.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.pa=this.pa.insert(t,{type:2,doc:e.doc}):he(63341,{Vt:e,ya:r}):this.pa=this.pa.insert(t,e)}wa(){let e=[];return this.pa.inorderTraversal((t,r)=>{e.push(r)}),e}},_l=class n{constructor(e,t,r,i,o,s,a,l,u){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,t,r,i,o){let s=[];return t.forEach(a=>{s.push({type:0,doc:a})}),new n(e,t,Qg.emptySet(t),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&cm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}};var Ub=class{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(e=>e.va())}},Bb=class{constructor(){this.queries=aP(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,r){let i=Le(t),o=i.queries;i.queries=aP(),o.forEach((s,a)=>{for(let l of a.Sa)l.onError(r)})})(this,new ne($.ABORTED,"Firestore shutting down"))}};function aP(){return new Oi(n=>YP(n),cm)}function w5(n,e){return H(this,null,function*(){let t=Le(n),r=3,i=e.query,o=t.queries.get(i);o?!o.Da()&&e.va()&&(r=2):(o=new Ub,r=e.va()?0:1);try{switch(r){case 0:o.ba=yield t.onListen(i,!0);break;case 1:o.ba=yield t.onListen(i,!1);break;case 2:yield t.onFirstRemoteStoreListen(i)}}catch(s){let a=Ek(s,`Initialization of query '${Ja(e.query)}' failed`);return void e.onError(a)}t.queries.set(i,o),o.Sa.push(e),e.Fa(t.onlineState),o.ba&&e.Ma(o.ba)&&CC(t)})}function E5(n,e){return H(this,null,function*(){let t=Le(n),r=e.query,i=3,o=t.queries.get(r);if(o){let s=o.Sa.indexOf(e);s>=0&&(o.Sa.splice(s,1),o.Sa.length===0?i=e.va()?0:1:!o.Da()&&e.va()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}})}function b5(n,e){let t=Le(n),r=!1;for(let i of e){let o=i.query,s=t.queries.get(o);if(s){for(let a of s.Sa)a.Ma(i)&&(r=!0);s.ba=i}}r&&CC(t)}function C5(n,e,t){let r=Le(n),i=r.queries.get(e);if(i)for(let o of i.Sa)o.onError(t);r.queries.delete(e)}function CC(n){n.Ca.forEach(e=>{e.next()})}var $b,lP;(lP=$b||($b={})).xa="default",lP.Cache="cache";var zb=class{constructor(e,t,r){this.query=e,this.Oa=t,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=r||{}}Ma(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new _l(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Na?this.La(e)&&(this.Oa.next(e),t=!0):this.ka(e,this.onlineState)&&(this.qa(e),t=!0),this.Ba=e,t}onError(e){this.Oa.error(e)}Fa(e){this.onlineState=e;let t=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,e)&&(this.qa(this.Ba),t=!0),t}ka(e,t){if(!e.fromCache||!this.va())return!0;let r=t!=="Offline";return(!this.options.Qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}La(e){if(e.docChanges.length>0)return!0;let t=this.Ba&&this.Ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}qa(e){e=_l.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Na=!0,this.Oa.next(e)}va(){return this.options.source!==$b.Cache}};var Zg=class{constructor(e){this.key=e}},Jg=class{constructor(e){this.key=e}},Hb=class{constructor(e,t){this.query=e,this.Ha=t,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=je(),this.mutatedKeys=je(),this.Za=ZP(e),this.Xa=new Qg(this.Za)}get eu(){return this.Ha}tu(e,t){let r=t?t.nu:new Yg,i=t?t.Xa:this.Xa,o=t?t.mutatedKeys:this.mutatedKeys,s=i,a=!1,l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,f)=>{let p=i.get(d),m=um(this.query,f)?f:null,v=!!p&&this.mutatedKeys.has(p.key),w=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations),A=!1;p&&m?p.data.isEqual(m.data)?v!==w&&(r.track({type:3,doc:m}),A=!0):this.ru(p,m)||(r.track({type:2,doc:m}),A=!0,(l&&this.Za(m,l)>0||u&&this.Za(m,u)<0)&&(a=!0)):!p&&m?(r.track({type:0,doc:m}),A=!0):p&&!m&&(r.track({type:1,doc:p}),A=!0,(l||u)&&(a=!0)),A&&(m?(s=s.add(m),o=w?o.add(d):o.delete(d)):(s=s.delete(d),o=o.delete(d)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let d=this.query.limitType==="F"?s.last():s.first();s=s.delete(d.key),o=o.delete(d.key),r.track({type:1,doc:d})}return{Xa:s,nu:r,Cs:a,mutatedKeys:o}}ru(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){let o=this.Xa;this.Xa=e.Xa,this.mutatedKeys=e.mutatedKeys;let s=e.nu.wa();s.sort((d,f)=>function(m,v){let w=A=>{switch(A){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return he(20277,{Vt:A})}};return w(m)-w(v)}(d.type,f.type)||this.Za(d.doc,f.doc)),this.iu(r),i=i!=null&&i;let a=t&&!i?this.su():[],l=this.Ya.size===0&&this.current&&!i?1:0,u=l!==this.Ja;return this.Ja=l,s.length!==0||u?{snapshot:new _l(this.query,e.Xa,o,s,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),ou:a}:{ou:a}}Fa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new Yg,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(e){return!this.Ha.has(e)&&!!this.Xa.has(e)&&!this.Xa.get(e).hasLocalMutations}iu(e){e&&(e.addedDocuments.forEach(t=>this.Ha=this.Ha.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ha=this.Ha.delete(t)),this.current=e.current)}su(){if(!this.current)return[];let e=this.Ya;this.Ya=je(),this.Xa.forEach(r=>{this._u(r.key)&&(this.Ya=this.Ya.add(r.key))});let t=[];return e.forEach(r=>{this.Ya.has(r)||t.push(new Jg(r))}),this.Ya.forEach(r=>{e.has(r)||t.push(new Zg(r))}),t}au(e){this.Ha=e.$s,this.Ya=je();let t=this.tu(e.documents);return this.applyChanges(t,!0)}uu(){return _l.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}},IC="SyncEngine",qb=class{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}},Gb=class{constructor(e){this.key=e,this.cu=!1}},Wb=class{constructor(e,t,r,i,o,s){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.lu={},this.hu=new Oi(a=>YP(a),cm),this.Pu=new Map,this.Tu=new Set,this.Iu=new _t(le.comparator),this.Eu=new Map,this.du=new id,this.Au={},this.Ru=new Map,this.Vu=rd.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}};function I5(n,e,t=!0){return H(this,null,function*(){let r=Sk(n),i,o=r.hu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.uu()):i=yield bk(r,e,t,!0),i})}function D5(n,e){return H(this,null,function*(){let t=Sk(n);yield bk(t,e,!0,!1)})}function bk(n,e,t,r){return H(this,null,function*(){let i=yield h5(n.localStore,Jr(e)),o=i.targetId,s=n.sharedClientState.addLocalQueryTarget(o,t),a;return r&&(a=yield S5(n,e,o,s==="current",i.resumeToken)),n.isPrimaryClient&&t&&vk(n.remoteStore,i),a})}function S5(n,e,t,r,i){return H(this,null,function*(){n.fu=(f,p,m)=>function(w,A,N,O){return H(this,null,function*(){let U=A.view.tu(N);U.Cs&&(U=yield nP(w.localStore,A.query,!1).then(({documents:D})=>A.view.tu(D,U)));let q=O&&O.targetChanges.get(A.targetId),Ee=O&&O.targetMismatches.get(A.targetId)!=null,ae=A.view.applyChanges(U,w.isPrimaryClient,q,Ee);return uP(w,A.targetId,ae.ou),ae.snapshot})}(n,f,p,m);let o=yield nP(n.localStore,e,!0),s=new Hb(e,o.$s),a=s.tu(o.documents),l=td.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),u=s.applyChanges(a,n.isPrimaryClient,l);uP(n,t,u.ou);let d=new qb(e,t,s);return n.hu.set(e,d),n.Pu.has(t)?n.Pu.get(t).push(e):n.Pu.set(t,[e]),u.snapshot})}function T5(n,e,t){return H(this,null,function*(){let r=Le(n),i=r.hu.get(e),o=r.Pu.get(i.targetId);if(o.length>1)return r.Pu.set(i.targetId,o.filter(s=>!cm(s,e))),void r.hu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield Sb(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&_C(r.remoteStore,i.targetId),Kb(r,i.targetId)}).catch(sm))):(Kb(r,i.targetId),yield Sb(r.localStore,i.targetId,!0))})}function A5(n,e){return H(this,null,function*(){let t=Le(n),r=t.hu.get(e),i=t.Pu.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),_C(t.remoteStore,r.targetId))})}function Ck(n,e){return H(this,null,function*(){let t=Le(n);try{let r=yield u5(t.localStore,e);e.targetChanges.forEach((i,o)=>{let s=t.Eu.get(o);s&&(ct(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.cu=!0:i.modifiedDocuments.size>0?ct(s.cu,14607):i.removedDocuments.size>0&&(ct(s.cu,42227),s.cu=!1))}),yield Dk(t,r,e)}catch(r){yield sm(r)}})}function cP(n,e,t){let r=Le(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){let i=[];r.hu.forEach((o,s)=>{let a=s.view.Fa(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){let l=Le(s);l.onlineState=a;let u=!1;l.queries.forEach((d,f)=>{for(let p of f.Sa)p.Fa(a)&&(u=!0)}),u&&CC(l)}(r.eventManager,e),i.length&&r.lu.Y_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function M5(n,e,t){return H(this,null,function*(){let r=Le(n);r.sharedClientState.updateQueryState(e,"rejected",t);let i=r.Eu.get(e),o=i&&i.key;if(o){let s=new _t(le.comparator);s=s.insert(o,Mr.newNoDocument(o,ve.min()));let a=je().add(o),l=new jg(ve.min(),new Map,new _t(Te),s,a);yield Ck(r,l),r.Iu=r.Iu.remove(o),r.Eu.delete(e),DC(r)}else yield Sb(r.localStore,e,!1).then(()=>Kb(r,e,t)).catch(sm)})}function Kb(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(let r of n.Pu.get(e))n.hu.delete(r),t&&n.lu.gu(r,t);n.Pu.delete(e),n.isPrimaryClient&&n.du.Hr(e).forEach(r=>{n.du.containsKey(r)||Ik(n,r)})}function Ik(n,e){n.Tu.delete(e.path.canonicalString());let t=n.Iu.get(e);t!==null&&(_C(n.remoteStore,t),n.Iu=n.Iu.remove(e),n.Eu.delete(t),DC(n))}function uP(n,e,t){for(let r of t)r instanceof Zg?(n.du.addReference(r.key,e),x5(n,r)):r instanceof Jg?(X(IC,"Document no longer in limbo: "+r.key),n.du.removeReference(r.key,e),n.du.containsKey(r.key)||Ik(n,r.key)):he(19791,{pu:r})}function x5(n,e){let t=e.key,r=t.path.canonicalString();n.Iu.get(t)||n.Tu.has(r)||(X(IC,"New document in limbo: "+t),n.Tu.add(r),DC(n))}function DC(n){for(;n.Tu.size>0&&n.Iu.size<n.maxConcurrentLimboResolutions;){let e=n.Tu.values().next().value;n.Tu.delete(e);let t=new le(vt.fromString(e)),r=n.Vu.next();n.Eu.set(r,new Gb(t)),n.Iu=n.Iu.insert(t,r),vk(n.remoteStore,new nd(Jr(KP(t.path)),r,"TargetPurposeLimboResolution",uC.le))}}function Dk(n,e,t){return H(this,null,function*(){let r=Le(n),i=[],o=[],s=[];r.hu.isEmpty()||(r.hu.forEach((a,l)=>{s.push(r.fu(l,e,t).then(u=>{var d;if((u||t)&&r.isPrimaryClient){let f=u?!u.fromCache:(d=t?.targetChanges.get(l.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(u){i.push(u);let f=bb.Rs(l.targetId,u);o.push(f)}}))}),yield Promise.all(s),r.lu.Y_(i),yield function(l,u){return H(this,null,function*(){let d=Le(l);try{yield d.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>V.forEach(u,p=>V.forEach(p.ds,m=>d.persistence.referenceDelegate.addReference(f,p.targetId,m)).next(()=>V.forEach(p.As,m=>d.persistence.referenceDelegate.removeReference(f,p.targetId,m)))))}catch(f){if(!bl(f))throw f;X(vC,"Failed to update sequence numbers: "+f)}for(let f of u){let p=f.targetId;if(!f.fromCache){let m=d.xs.get(p),v=m.snapshotVersion,w=m.withLastLimboFreeSnapshotVersion(v);d.xs=d.xs.insert(p,w)}}})}(r.localStore,o))})}function R5(n,e){return H(this,null,function*(){let t=Le(n);if(!t.currentUser.isEqual(e)){X(IC,"User change. New user:",e.toKey());let r=yield mk(t.localStore,e);t.currentUser=e,function(o,s){o.Ru.forEach(a=>{a.forEach(l=>{l.reject(new ne($.CANCELLED,s))})}),o.Ru.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Dk(t,r.ks)}})}function N5(n,e){let t=Le(n),r=t.Eu.get(e);if(r&&r.cu)return je().add(r.key);{let i=je(),o=t.Pu.get(e);if(!o)return i;for(let s of o){let a=t.hu.get(s);i=i.unionWith(a.view.eu)}return i}}function Sk(n){let e=Le(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=Ck.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=N5.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=M5.bind(null,e),e.lu.Y_=b5.bind(null,e.eventManager),e.lu.gu=C5.bind(null,e.eventManager),e}var Tk=(()=>{class n{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(t){return H(this,null,function*(){this.serializer=dm(t.databaseInfo.databaseId),this.sharedClientState=this.bu(t),this.persistence=this.Su(t),yield this.persistence.start(),this.localStore=this.Du(t),this.gcScheduler=this.vu(t,this.localStore),this.indexBackfillerScheduler=this.Cu(t,this.localStore)})}vu(t,r){return null}Cu(t,r){return null}Du(t){return c5(this.persistence,new Ib,t.initialUser,this.serializer)}Su(t){return new Hg(Eb.fi,this.serializer)}bu(t){return new Tb}terminate(){return H(this,null,function*(){var t,r;(t=this.gcScheduler)===null||t===void 0||t.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return n.provider={build:()=>new n},n})(),Qb=class extends Tk{constructor(e){super(),this.cacheSizeBytes=e}vu(e,t){ct(this.persistence.referenceDelegate instanceof qg,46915);let r=this.persistence.referenceDelegate.garbageCollector;return new lb(r,e.asyncQueue,t)}Su(e){let t=this.cacheSizeBytes!==void 0?ar.withCacheSize(this.cacheSizeBytes):ar.DEFAULT;return new Hg(r=>qg.fi(r,t),this.serializer)}};var P5=(()=>{class n{initialize(t,r){return H(this,null,function*(){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>cP(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=R5.bind(null,this.syncEngine),yield _5(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(t){return function(){return new Bb}()}createDatastore(t){let r=dm(t.databaseInfo.databaseId),i=function(s){return new Nb(s)}(t.databaseInfo);return function(s,a,l,u){return new Fb(s,a,l,u)}(t.authCredentials,t.appCheckCredentials,i,r)}createRemoteStore(t){return function(i,o,s,a,l){return new Vb(i,o,s,a,l)}(this.localStore,this.datastore,t.asyncQueue,r=>cP(this.syncEngine,r,0),function(){return Wg.C()?new Wg:new Ab}())}createSyncEngine(t,r){return function(o,s,a,l,u,d,f){let p=new Wb(o,s,a,l,u,d);return f&&(p.mu=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}terminate(){return H(this,null,function*(){var t,r;yield function(o){return H(this,null,function*(){let s=Le(o);X(vl,"RemoteStore shutting down."),s.da.add(5),yield ud(s),s.Ra.shutdown(),s.Va.set("Unknown")})}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return n.provider={build:()=>new n},n})();var Yb=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Mu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Mu(this.observer.error,e):Ni("Uncaught Error in snapshot listener:",e.toString()))}xu(){this.muted=!0}Mu(e,t){setTimeout(()=>{this.muted||e(t)},0)}};var Co="FirestoreClient",Zb=class{constructor(e,t,r,i,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=$t.UNAUTHENTICATED,this.clientId=ME.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,s=>H(this,null,function*(){X(Co,"Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(X(Co,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Ri;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>H(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let r=Ek(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function bE(n,e){return H(this,null,function*(){n.asyncQueue.verifyOperationInProgress(),X(Co,"Initializing OfflineComponentProvider");let t=n.configuration;yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(i=>H(null,null,function*(){r.isEqual(i)||(yield mk(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e})}function dP(n,e){return H(this,null,function*(){n.asyncQueue.verifyOperationInProgress();let t=yield k5(n);X(Co,"Initializing OnlineComponentProvider"),yield e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>sP(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>sP(e.remoteStore,i)),n._onlineComponents=e})}function k5(n){return H(this,null,function*(){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){X(Co,"Using user provided OfflineComponentProvider");try{yield bE(n,n._uninitializedComponentsProvider._offline)}catch(e){let t=e;if(!function(i){return i.name==="FirebaseError"?i.code===$.FAILED_PRECONDITION||i.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;al("Error using user provided cache. Falling back to memory cache: "+t),yield bE(n,new Tk)}}else X(Co,"Using default OfflineComponentProvider"),yield bE(n,new Qb(void 0));return n._offlineComponents})}function O5(n){return H(this,null,function*(){return n._onlineComponents||(n._uninitializedComponentsProvider?(X(Co,"Using user provided OnlineComponentProvider"),yield dP(n,n._uninitializedComponentsProvider._online)):(X(Co,"Using default OnlineComponentProvider"),yield dP(n,new P5))),n._onlineComponents})}function F5(n){return H(this,null,function*(){let e=yield O5(n),t=e.eventManager;return t.onListen=I5.bind(null,e.syncEngine),t.onUnlisten=T5.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=D5.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=A5.bind(null,e.syncEngine),t})}function L5(n,e,t={}){let r=new Ri;return n.asyncQueue.enqueueAndForget(()=>H(null,null,function*(){return function(o,s,a,l,u){let d=new Yb({next:p=>{d.xu(),s.enqueueAndForget(()=>E5(o,f)),p.fromCache&&l.source==="server"?u.reject(new ne($.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(p)},error:p=>u.reject(p)}),f=new zb(a,d,{includeMetadataChanges:!0,Qa:!0});return w5(o,f)}(yield F5(n),n.asyncQueue,e,t,r)})),r.promise}function Ak(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var hP=new Map;function V5(n,e,t){if(!t)throw new ne($.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function j5(n,e,t,r){if(e===!0&&r===!0)throw new ne($.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function fP(n){if(le.isDocumentKey(n))throw new ne($.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function fm(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":he(12329,{type:typeof n})}function Jb(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new ne($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=fm(n);throw new ne($.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}var Mk="firestore.googleapis.com",pP=!0,Xg=class{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ne($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Mk,this.ssl=pP}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:pP;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=gk;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<s5)throw new ne($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}j5("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Ak((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new ne($.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new ne($.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new ne($.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},od=class{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Xg({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ne($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ne($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Xg(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new CE;switch(r.type){case"firstParty":return new TE(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ne($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return H(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){let r=hP.get(t);r&&(X("ComponentProvider","Removing Datastore"),hP.delete(t),r.terminate())}(this),Promise.resolve()}};function U5(n,e,t,r={}){var i;n=Jb(n,od);let o=wg(e),s=n._getSettings(),a=Object.assign(Object.assign({},s),{emulatorOptions:n._getEmulatorOptions()}),l=`${e}:${t}`;o&&(tN(`https://${l}`),rN("Firestore",!0)),s.host!==Mk&&s.host!==l&&al("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let u=Object.assign(Object.assign({},s),{host:l,ssl:o,emulatorOptions:r});if(!Ka(u,a)&&(n._setSettings(u),r.mockUserToken)){let d,f;if(typeof r.mockUserToken=="string")d=r.mockUserToken,f=$t.MOCK_USER;else{d=nN(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);let p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new ne($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new $t(p)}n._authCredentials=new IE(new Rg(d,f))}}var wl=class n{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},Fi=class n{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ol(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}},ol=class n extends wl{constructor(e,t,r){super(e,t,KP(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Fi(this.firestore,null,new le(e))}withConverter(e){return new n(this.firestore,e,this._path)}};function xk(n,e,...t){if(n=Lu(n),V5("collection","path",e),n instanceof od){let r=vt.fromString(e,...t);return fP(r),new ol(n,null,r)}{if(!(n instanceof Fi||n instanceof ol))throw new ne($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(vt.fromString(e,...t));return fP(r),new ol(n.firestore,null,r)}}var gP="AsyncQueue",em=class{constructor(e=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new Kg(this,"async_queue_retry"),this.rc=()=>{let r=EE();r&&X(gP,"Visibility state changed to "+r.visibilityState),this.x_.b_()},this.sc=e;let t=EE();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;let t=EE();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise(()=>{});let t=new Ri;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ju.push(e),this.ac()))}ac(){return H(this,null,function*(){if(this.Ju.length!==0){try{yield this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(e){if(!bl(e))throw e;X(gP,"Operation failed with retryable error: "+e)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}})}_c(e){let t=this.sc.then(()=>(this.ec=!0,e().catch(r=>{throw this.Xu=r,this.ec=!1,Ni("INTERNAL UNHANDLED ERROR: ",mP(r)),r}).then(r=>(this.ec=!1,r))));return this.sc=t,t}enqueueAfterDelay(e,t,r){this.oc(),this.nc.indexOf(e)>-1&&(t=0);let i=jb.createAndSchedule(this,e,t,r,o=>this.uc(o));return this.Zu.push(i),i}oc(){this.Xu&&he(47125,{cc:mP(this.Xu)})}verifyOperationInProgress(){}lc(){return H(this,null,function*(){let e;do e=this.sc,yield e;while(e!==this.sc)})}hc(e){for(let t of this.Zu)if(t.timerId===e)return!0;return!1}Pc(e){return this.lc().then(()=>{this.Zu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(let t of this.Zu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.lc()})}Tc(e){this.nc.push(e)}uc(e){let t=this.Zu.indexOf(e);this.Zu.splice(t,1)}};function mP(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}var tm=class extends od{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new em,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return H(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new em(e),this._firestoreClient=void 0,yield e}})}};function Rk(n,e){let t=typeof n=="object"?n:bN(),r=typeof n=="string"?n:e||Fg,i=_N(t,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=eN("firestore");o&&U5(i,...o)}return i}function B5(n){if(n._terminated)throw new ne($.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||$5(n),n._firestoreClient}function $5(n){var e,t,r;let i=n._freezeSettings(),o=function(a,l,u,d){return new PE(a,l,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,Ak(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new Zb(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&function(a){let l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}}(n._componentsProvider))}var sd=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(rn.fromBase64String(e))}catch(t){throw new ne($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(rn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var nm=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ne($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new lr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var rm=class{constructor(e){this._methodName=e}};var ad=class{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ne($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ne($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Te(this._lat,e._lat)||Te(this._long,e._long)}};var ld=class{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}};var z5=/^__.*__$/;function Nk(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw he(40011,{Ic:n})}}var Xb=class n{constructor(e,t,r,i,o,s){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Ec(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(e){return new n(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.dc({path:r,Rc:!1});return i.Vc(e),i}mc(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.dc({path:r,Rc:!1});return i.Ec(),i}fc(e){return this.dc({path:void 0,Rc:!0})}gc(e){return tC(e,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Ec(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vc(this.path.get(e))}Vc(e){if(e.length===0)throw this.gc("Document fields must not be empty");if(Nk(this.Ic)&&z5.test(e))throw this.gc('Document fields cannot begin and end with "__"')}},eC=class{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||dm(e)}bc(e,t,r,i=!1){return new Xb({Ic:e,methodName:t,wc:r,path:lr.emptyPath(),Rc:!1,yc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function H5(n){let e=n._freezeSettings(),t=dm(n._databaseId);return new eC(n._databaseId,!!e.ignoreUndefinedProperties,t)}function q5(n,e,t,r=!1){return SC(t,n.bc(r?4:3,e))}function SC(n,e){if(Pk(n=Lu(n)))return W5("Unsupported field value:",e,n),G5(n,e);if(n instanceof rm)return function(r,i){if(!Nk(i.Ic))throw i.gc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.gc(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Rc&&e.Ic!==4)throw e.gc("Nested arrays are not supported");return function(r,i){let o=[],s=0;for(let a of r){let l=SC(a,i.fc(s));l==null&&(l={nullValue:"NULL_VALUE"}),o.push(l),s++}return{arrayValue:{values:o}}}(n,e)}return function(r,i){if((r=Lu(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return U6(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=nn.fromDate(r);return{timestampValue:nb(i.serializer,o)}}if(r instanceof nn){let o=new nn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:nb(i.serializer,o)}}if(r instanceof ad)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof sd)return{bytesValue:ak(i.serializer,r._byteString)};if(r instanceof Fi){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.gc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:lk(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof ld)return function(s,a){return{mapValue:{fields:{[hC]:{stringValue:fC},[cl]:{arrayValue:{values:s.toArray().map(u=>{if(typeof u!="number")throw a.gc("VectorValues must only contain numeric values.");return yC(a.serializer,u)})}}}}}}(r,i);throw i.gc(`Unsupported field value: ${fm(r)}`)}(n,e)}function G5(n,e){let t={};return OP(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Cl(n,(r,i)=>{let o=SC(i,e.Ac(r));o!=null&&(t[r]=o)}),{mapValue:{fields:t}}}function Pk(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof nn||n instanceof ad||n instanceof sd||n instanceof Fi||n instanceof rm||n instanceof ld)}function W5(n,e,t){if(!Pk(t)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(t)){let r=fm(t);throw r==="an object"?e.gc(n+" a custom object"):e.gc(n+" "+r)}}var K5=new RegExp("[~\\*/\\[\\]]");function Q5(n,e,t){if(e.search(K5)>=0)throw tC(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new nm(...e.split("."))._internalPath}catch{throw tC(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function tC(n,e,t,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new ne($.INVALID_ARGUMENT,a+n+l)}var im=class{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Fi(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new nC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(TC("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},nC=class extends im{data(){return super.data()}};function TC(n,e){return typeof e=="string"?Q5(n,e):e instanceof nm?e._internalPath:e._delegate._internalPath}function Y5(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new ne($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var cd=class{},rC=class extends cd{};function kk(n,e,...t){let r=[];e instanceof cd&&r.push(e),r=r.concat(t),function(o){let s=o.filter(l=>l instanceof iC).length,a=o.filter(l=>l instanceof om).length;if(s>1||s>0&&a>0)throw new ne($.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let i of r)n=i._apply(n);return n}var om=class n extends rC{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new n(e,t,r)}_apply(e){let t=this._parse(e);return Ok(e._query,t),new wl(e.firestore,e.converter,GE(e._query,t))}_parse(e){let t=H5(e.firestore);return function(o,s,a,l,u,d,f){let p;if(u.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new ne($.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){vP(f,d);let v=[];for(let w of f)v.push(yP(l,o,w));p={arrayValue:{values:v}}}else p=yP(l,o,f)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||vP(f,d),p=q5(a,s,f,d==="in"||d==="not-in");return Tt.create(u,d,p)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}};function AC(n,e,t){let r=e,i=TC("where",n);return om._create(i,r,t)}var iC=class n extends cd{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new n(e,t)}_parse(e){let t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:xr.create(t,this._getOperator())}_apply(e){let t=this._parse(e);return t.getFilters().length===0?e:(function(i,o){let s=i,a=o.getFlattenedFilters();for(let l of a)Ok(s,l),s=GE(s,l)}(e._query,t),new wl(e.firestore,e.converter,GE(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};function yP(n,e,t){if(typeof(t=Lu(t))=="string"){if(t==="")throw new ne($.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!QP(e)&&t.indexOf("/")!==-1)throw new ne($.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);let r=e.path.child(vt.fromString(t));if(!le.isDocumentKey(r))throw new ne($.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return LN(n,new le(r))}if(t instanceof Fi)return LN(n,t._key);throw new ne($.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${fm(t)}.`)}function vP(n,e){if(!Array.isArray(n)||n.length===0)throw new ne($.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Ok(n,e){let t=function(i,o){for(let s of i)for(let a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new ne($.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ne($.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}var oC=class{convertValue(e,t="none"){switch(Eo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ot(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ki(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw he(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let r={};return Cl(e,(i,o)=>{r[i]=this.convertValue(o,t)}),r}convertVectorValue(e){var t,r,i;let o=(i=(r=(t=e.fields)===null||t===void 0?void 0:t[cl].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>ot(s.doubleValue));return new ld(o)}convertGeoPoint(e){return new ad(ot(e.latitude),ot(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":let r=lm(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Qu(e));default:return null}}convertTimestamp(e){let t=Pi(e);return new nn(t.seconds,t.nanos)}convertDocumentKey(e,t){let r=vt.fromString(e);ct(pk(r),9688,{name:e});let i=new Lg(r.get(1),r.get(3)),o=new le(r.popFirst(5));return i.isEqual(t)||Ni(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}};var nl=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},sC=class extends im{constructor(e,t,r,i,o,s){super(e,t,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new sl(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let r=this._document.data.field(TC("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}},sl=class extends sC{data(e={}){return super.data(e)}},aC=class{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new nl(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new sl(this._firestore,this._userDataWriter,r.key,r,new nl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ne($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{let l=new sl(i._firestore,i._userDataWriter,a.doc.key,a.doc,new nl(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let l=new sl(i._firestore,i._userDataWriter,a.doc.key,a.doc,new nl(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),u=-1,d=-1;return a.type!==0&&(u=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),d=s.indexOf(a.doc.key)),{type:Z5(a.type),doc:l,oldIndex:u,newIndex:d}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}};function Z5(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return he(61501,{type:n})}}var lC=class extends oC{constructor(e){super(),this.firestore=e}convertBytes(e){return new sd(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new Fi(this.firestore,null,t)}};function Fk(n){n=Jb(n,wl);let e=Jb(n.firestore,tm),t=B5(e),r=new lC(e);return Y5(n._query),L5(t,n._query).then(i=>new aC(e,r,n,i))}(function(e,t=!0){(function(i){El=i})(EN),Vu(new Si("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new tm(new DE(r.getProvider("auth-internal")),new AE(s,r.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new ne($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Lg(u.options.projectId,d)}(s,i),s);return o=Object.assign({useFetchStreams:t},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),wo(TN,AN,e),wo(TN,AN,"esm2017")})();var hd={posthogHost:"https://eu.i.posthog.com",posthogApiKey:"phc_ozFNiSOBS7VttpZn26DBLRLts4RqIjdXWpqPOZnIivo",production:!1,firebase:{apiKey:"AIzaSyBXO_FMLNahiQxjh_nd_2x-f0-EZB-xUY4",authDomain:"logos-4031b.firebaseapp.com",projectId:"logos-4031b",storageBucket:"logos-4031b.firebasestorage.app",messagingSenderId:"555029229661",appId:"1:555029229661:web:d32e2f2e7a9c3efb805db4",measurementId:"G-RYR7WXW8W0"}};function J5(n,e){n&1&&(C(0,"div",18),T(1," Login jest wymagany. "),I())}function X5(n,e){n&1&&(C(0,"div",18),T(1," Has\u0142o jest wymagane. "),I())}function e8(n,e){if(n&1&&(C(0,"div",18),T(1),I()),n&2){let t=Xe();F(),Ut(" ",t.errorMessage," ")}}var pm=class n{constructor(e,t){this.fb=e;this.router=t;this.loginForm=this.fb.group({username:["",sr.required],password:["",sr.required],remember:[!1]})}loginForm;errorMessage="";db=Rk(dE(hd.firebase));onSubmit(){return H(this,null,function*(){if(this.loginForm.invalid){this.loginForm.markAllAsTouched();return}let{username:e,password:t,remember:r}=this.loginForm.value;try{let i=xk(this.db,"customers"),o=kk(i,AC("login","==",e),AC("password","==",t)),s=yield Fk(o);if(s.empty)this.errorMessage="Nieprawid\u0142owy login lub has\u0142o.";else{let a=s.docs[0].data();r&&localStorage.setItem("user",JSON.stringify(a)),this.router.navigate(["/dashboard"])}}catch(i){console.error(i),this.errorMessage="B\u0142\u0105d logowania. Spr\xF3buj p\xF3\u017Aniej."}})}static \u0275fac=function(t){return new(t||n)(ee(mg),ee(it))};static \u0275cmp=ge({type:n,selectors:[["app-login"]],decls:34,vars:5,consts:[[1,"login"],[1,"login__left"],[1,"login__overlay"],[1,"login__heading"],[1,"login__desc"],[1,"login__right"],[1,"login__title"],[1,"login__form",3,"ngSubmit","formGroup"],["for","username"],[2,"color","red"],["type","text","id","username","formControlName","username","placeholder","np. johndadev","required",""],["class","error",4,"ngIf"],["for","password"],["type","password","id","password","formControlName","password","placeholder","********","required",""],[1,"login__remember"],["type","checkbox","id","remember","formControlName","remember"],["for","remember"],["type","submit",1,"login__btn",3,"disabled"],[1,"error"]],template:function(t,r){if(t&1&&(ie(0,"app-navbar")(1,"app-mobile-nav"),C(2,"div",0)(3,"div",1)(4,"div",2)(5,"h2",3),T(6," Zadbaj o siebie"),ie(7,"br"),T(8,"Zr\xF3b pierwszy krok "),I(),C(9,"p",4),T(10," Wybierz specjalist\u0119, um\xF3w wizyt\u0119 i zacznij \u015Bwiadomie dba\u0107 o swoje zdrowie psychiczne. Tw\xF3j komfort i dobrostan s\u0105 dla nas najwa\u017Cniejsze. "),I()()(),C(11,"div",5)(12,"h2",6),T(13,"Zaloguj si\u0119 do Panelu"),I(),C(14,"form",7),Ve("ngSubmit",function(){return r.onSubmit()}),C(15,"label",8),T(16,"Login "),C(17,"span",9),T(18,"*"),I()(),ie(19,"input",10),Se(20,J5,2,0,"div",11),C(21,"label",12),T(22,"Has\u0142o "),C(23,"span",9),T(24,"*"),I()(),ie(25,"input",13),Se(26,X5,2,0,"div",11),C(27,"div",14),ie(28,"input",15),C(29,"label",16),T(30,"Zapami\u0119taj mnie"),I()(),Se(31,e8,2,1,"div",11),C(32,"button",17),T(33," Zaloguj si\u0119 "),I()()()()),t&2){let i,o;F(14),Q("formGroup",r.loginForm),F(6),Q("ngIf",((i=r.loginForm.get("username"))==null?null:i.touched)&&((i=r.loginForm.get("username"))==null?null:i.invalid)),F(6),Q("ngIf",((o=r.loginForm.get("password"))==null?null:o.touched)&&((o=r.loginForm.get("password"))==null?null:o.invalid)),F(5),Q("ngIf",r.errorMessage),F(),Q("disabled",r.loginForm.invalid)}},dependencies:[$e,Ln,yg,gg,Wa,jw,dg,hg,Pu,Ru,Nu,ir,or],styles:[".login[_ngcontent-%COMP%]{display:flex;min-height:100vh}.login__left[_ngcontent-%COMP%]{flex:1;background-image:url(/assets/login-bg2.png);background-size:cover;background-position:center;display:flex;align-items:end;margin-top:70px;justify-content:center}.login__left[_ngcontent-%COMP%]   .login__overlay[_ngcontent-%COMP%]{color:#fff;padding:60px}.login__left[_ngcontent-%COMP%]   .login__heading[_ngcontent-%COMP%]{font-size:2rem;width:100%;font-weight:700;color:#fff;margin-bottom:20px}.login__left[_ngcontent-%COMP%]   .login__desc[_ngcontent-%COMP%]{font-size:1.2rem;color:#fff;margin-bottom:40px}.login__right[_ngcontent-%COMP%]{flex:1;margin-top:70px;background-color:#eef1f8;display:flex;align-items:center;justify-content:center;padding:60px 30px;flex-direction:column}.login__right[_ngcontent-%COMP%]   .login__title[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;margin-bottom:30px;color:#1e1f4b}.login__right[_ngcontent-%COMP%]   .login__form[_ngcontent-%COMP%]{width:100%;max-width:400px;display:flex;flex-direction:column;gap:15px}.login__right[_ngcontent-%COMP%]   .login__form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:600}.login__right[_ngcontent-%COMP%]   .login__form[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%], .login__right[_ngcontent-%COMP%]   .login__form[_ngcontent-%COMP%]   input[type=password][_ngcontent-%COMP%]{padding:10px;border-radius:8px;border:1px solid #ccc;background:#fff}.login__right[_ngcontent-%COMP%]   .login__form[_ngcontent-%COMP%]   .login__btn[_ngcontent-%COMP%]{margin-top:20px;padding:12px;background-color:#007bff;color:#fff;border:none;font-weight:700;border-radius:8px;cursor:pointer;transition:.3s}.login__right[_ngcontent-%COMP%]   .login__form[_ngcontent-%COMP%]   .login__btn[_ngcontent-%COMP%]:hover{background-color:#0056b3}.login__right[_ngcontent-%COMP%]   .login__form[_ngcontent-%COMP%]   .login__remember[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;font-size:.95rem}.login__right[_ngcontent-%COMP%]   .login__form[_ngcontent-%COMP%]   .error[_ngcontent-%COMP%]{color:red;font-size:.85rem;margin-top:-6px;margin-bottom:10px}@media (max-width: 768px){.login[_ngcontent-%COMP%]{flex-direction:column}.login[_ngcontent-%COMP%]   .login__left[_ngcontent-%COMP%]{min-height:200px;background-image:url(/assets/login-bg2.png);background-size:cover;background-position:center;display:flex;align-items:end;justify-content:center}.login[_ngcontent-%COMP%]   .login__overlay[_ngcontent-%COMP%]{color:#fff;background-color:#0000;padding:20px;text-align:center}.login[_ngcontent-%COMP%]   .login__heading[_ngcontent-%COMP%]{font-size:1.5rem;width:100%;font-weight:700;color:#fff;margin-bottom:10px}.login[_ngcontent-%COMP%]   .login__desc[_ngcontent-%COMP%]{font-size:1rem;color:#fff;margin-bottom:20px}.login[_ngcontent-%COMP%]   .login__right[_ngcontent-%COMP%]{padding:40px 20px}}"]})};function t8(n,e){if(n&1){let t=fs();C(0,"div",11),ie(1,"img",12),C(2,"h3",13),T(3),I(),C(4,"p",14),T(5),I(),C(6,"button",15),Ve("click",function(){let i=wr(t).$implicit,o=Xe();return Er(o.selectedPsychologistId=i.id)}),T(7),I()()}if(n&2){let t=e.$implicit,r=Xe();jt("card--selected",r.selectedPsychologistId===t.id),F(),Q("src",t.avatar,Je)("alt",t.name),F(2),Be(t.name),F(2),Be(t.specialization),F(),jt("card__btn--selected",r.selectedPsychologistId===t.id),F(),Ut(" ",r.selectedPsychologistId===t.id?"Wybrany":"Wybierz"," ")}}function n8(n,e){if(n&1&&(C(0,"p")(1,"strong"),T(2,"Informacje dodatkowe:"),I(),T(3),I()),n&2){let t=Xe(2);F(3),Ut(" ",t.selectedPsychologist.additionalInfo)}}function r8(n,e){if(n&1&&(C(0,"section",16)(1,"h2"),T(2,"Informacje o psychologu"),I(),C(3,"h3"),T(4),I(),C(5,"p")(6,"strong"),T(7,"Specjalizacja:"),I(),T(8),I(),C(9,"p")(10,"strong"),T(11,"Opis:"),I(),T(12),I(),C(13,"p")(14,"strong"),T(15,"Dni pracy:"),I(),T(16),I(),C(17,"p")(18,"strong"),T(19,"Godziny pracy:"),I(),T(20),I(),Se(21,n8,4,1,"p",17),I()),n&2){let t=Xe();F(4),Be(t.selectedPsychologist.name),F(4),Ut(" ",t.selectedPsychologist.specialization),F(4),Ut(" ",t.selectedPsychologist.description),F(4),Ut(" ",t.selectedPsychologist.workingDays.join(", ")," "),F(4),Ut(" ",t.selectedPsychologist.workingHours),F(),Q("ngIf",t.selectedPsychologist.additionalInfo)}}function i8(n,e){if(n&1&&(C(0,"div",18),T(1),I()),n&2){let t=Xe();F(),Be(t.message)}}function o8(n,e){if(n&1&&(C(0,"div",19),T(1),I()),n&2){let t=Xe();F(),Be(t.successMessage)}}var gm=class n{constructor(e,t){this.logos=e;this.router=t;this.psychologists=[{id:"1",name:"Anna Nowak",specialization:"Psycholog kliniczny",avatar:e.specialistImage2,description:"Specjalizuj\u0119 si\u0119 w terapii zaburze\u0144 l\u0119kowych i depresji. Posiadam 10 lat do\u015Bwiadczenia.",workingDays:["Poniedzia\u0142ek","\u015Aroda","Pi\u0105tek"],workingHours:"9:00 - 17:00",additionalInfo:"Sesje prowadzone online oraz stacjonarnie."},{id:"2",name:"Piotr Kowalski",specialization:"Terapeuta poznawczo-behawioralny",avatar:e.specialistImage3,description:"Pomagam w radzeniu sobie ze stresem i kryzysami \u017Cyciowymi.",workingDays:["Wtorek","Czwartek"],workingHours:"10:00 - 18:00",additionalInfo:"Specjalne sesje dla m\u0142odzie\u017Cy."},{id:"3",name:"Magdalena Wi\u015Bniewska",specialization:"Psycholog dzieci\u0119cy",avatar:e.specialistImage4,description:"Pracuj\u0119 z dzie\u0107mi i rodzinami w celu wspierania zdrowia psychicznego.",workingDays:["Poniedzia\u0142ek","Wtorek","Czwartek"],workingHours:"8:00 - 15:00"},{id:"4",name:"Tomasz Lewandowski",specialization:"Psychoterapia par",avatar:e.specialistImage1,description:"Pomagam parom odnale\u017A\u0107 wsp\xF3lny j\u0119zyk i zbudowa\u0107 trwa\u0142e relacje.",workingDays:["\u015Aroda","Pi\u0105tek"],workingHours:"11:00 - 19:00"}]}psychologists=[];selectedPsychologistId="";userName=JSON.parse(localStorage.getItem("user")||"{}")?.firstName||"U\u017Cytkowniku";message="";successMessage="";get selectedPsychologist(){return this.psychologists.find(e=>e.id===this.selectedPsychologistId)}logout(){localStorage.removeItem("user"),this.router.navigate(["/home"])}confirmBooking(){return H(this,null,function*(){if(!this.selectedPsychologistId){this.message="Wybierz psychologa, prosz\u0119.";return}let e=this.selectedPsychologist;window.confirm(`Chcesz um\xF3wi\u0107 spotkanie z ${e.name}?`)&&(yield this.sendMeetingRequest(e),this.successMessage=`Wys\u0142ano pro\u015Bb\u0119 do ${e.name}. Sprawd\u017A maila za link do Teams.`,this.message="")})}sendMeetingRequest(e){return H(this,null,function*(){return new Promise(t=>setTimeout(t,500))})}selectPsychologist(e){this.selectedPsychologistId=e,this.message="",this.successMessage=""}static \u0275fac=function(t){return new(t||n)(ee(ft),ee(it))};static \u0275cmp=ge({type:n,selectors:[["app-dashboard"]],decls:16,vars:5,consts:[[1,"dashboard"],[1,"dashboard__header"],[1,"dashboard__logout",3,"click"],[1,"dashboard__intro"],[1,"dashboard__grid"],["class","card",3,"card--selected",4,"ngFor","ngForOf"],["class","psychologist-details",4,"ngIf"],[1,"dashboard__actions"],[1,"dashboard__book",3,"click"],["class","dashboard__message error",4,"ngIf"],["class","dashboard__message success",4,"ngIf"],[1,"card"],[1,"card__avatar",3,"src","alt"],[1,"card__name"],[1,"card__spec"],[1,"card__btn",3,"click"],[1,"psychologist-details"],[4,"ngIf"],[1,"dashboard__message","error"],[1,"dashboard__message","success"]],template:function(t,r){t&1&&(C(0,"section",0)(1,"header",1)(2,"h1"),T(3),I(),C(4,"button",2),Ve("click",function(){return r.logout()}),T(5,"Wyloguj"),I()(),C(6,"p",3),T(7,"Wybierz psychologa i um\xF3w si\u0119 na sesj\u0119:"),I(),C(8,"div",4),Se(9,t8,8,9,"div",5),I(),Se(10,r8,22,6,"section",6),C(11,"div",7)(12,"button",8),Ve("click",function(){return r.confirmBooking()}),T(13,"Um\xF3w spotkanie"),I(),Se(14,i8,2,1,"div",9)(15,o8,2,1,"div",10),I()()),t&2&&(F(3),Ut("Witaj, ",r.userName,"!"),F(6),Q("ngForOf",r.psychologists),F(),Q("ngIf",r.selectedPsychologist),F(4),Q("ngIf",r.message),F(),Q("ngIf",r.successMessage))},dependencies:[$e,Bt,Ln,vu,qR],styles:[".dashboard[_ngcontent-%COMP%]{max-width:1000px;margin:60px auto;padding:0 20px;text-align:center}.dashboard[_ngcontent-%COMP%]   .psychologist-details[_ngcontent-%COMP%]{background:#f9fbff;border:2px solid #007bff;border-radius:12px;padding:25px;max-width:600px;margin:0 auto 30px;text-align:left;color:#1e1f4b;box-shadow:0 4px 15px #007bff26}.dashboard[_ngcontent-%COMP%]   .psychologist-details[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem;margin-bottom:15px;border-bottom:2px solid #007bff;padding-bottom:5px}.dashboard[_ngcontent-%COMP%]   .psychologist-details[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.3rem;margin-bottom:10px}.dashboard[_ngcontent-%COMP%]   .psychologist-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem;margin:8px 0;line-height:1.4}.dashboard[_ngcontent-%COMP%]   .psychologist-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#0056b3}.dashboard__header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px}.dashboard__header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.8rem;color:#1e1f4b}.dashboard__header[_ngcontent-%COMP%]   .dashboard__logout[_ngcontent-%COMP%]{background:none;border:2px solid #007bff;color:#007bff;padding:8px 16px;border-radius:6px;cursor:pointer;transition:background .3s}.dashboard__header[_ngcontent-%COMP%]   .dashboard__logout[_ngcontent-%COMP%]:hover{background:#007bff;color:#fff}.dashboard__intro[_ngcontent-%COMP%]{font-size:1.1rem;margin-bottom:30px;color:#555}.dashboard__grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:20px;margin-bottom:30px}.dashboard[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 4px 12px #0000000d;padding:20px;text-align:center;transition:transform .3s ease}.dashboard[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:hover{transform:translateY(-4px)}.dashboard[_ngcontent-%COMP%]   .card__avatar[_ngcontent-%COMP%]{width:80px;height:80px;border-radius:50%;object-fit:cover;margin-bottom:15px}.dashboard[_ngcontent-%COMP%]   .card__name[_ngcontent-%COMP%]{font-size:1.1rem;margin-bottom:8px;color:#1e1f4b}.dashboard[_ngcontent-%COMP%]   .card__spec[_ngcontent-%COMP%]{font-size:.95rem;margin-bottom:15px;color:#666}.dashboard[_ngcontent-%COMP%]   .card__btn[_ngcontent-%COMP%]{padding:8px 16px;font-size:.95rem;border:2px solid #007bff;background:none;color:#007bff;border-radius:6px;cursor:pointer;transition:all .3s ease}.dashboard[_ngcontent-%COMP%]   .card__btn--selected[_ngcontent-%COMP%], .dashboard[_ngcontent-%COMP%]   .card__btn[_ngcontent-%COMP%]:hover{background:#007bff;color:#fff}.dashboard[_ngcontent-%COMP%]   .card__btn--selected[_ngcontent-%COMP%]{background:#28a745;color:#fff;border-color:#28a745}.dashboard[_ngcontent-%COMP%]   .card__btn--selected[_ngcontent-%COMP%]:hover{background:#218838;border-color:#1e7e34}.dashboard__actions[_ngcontent-%COMP%]{margin-top:20px}.dashboard__actions[_ngcontent-%COMP%]   .dashboard__book[_ngcontent-%COMP%]{padding:10px 24px;font-size:1rem;background:#007bff;color:#fff;border:none;border-radius:6px;cursor:pointer;transition:background .3s}.dashboard__actions[_ngcontent-%COMP%]   .dashboard__book[_ngcontent-%COMP%]:hover{background:#0056b3}.dashboard__actions[_ngcontent-%COMP%]   .dashboard__message[_ngcontent-%COMP%]{margin-top:15px;font-size:.95rem}.dashboard__actions[_ngcontent-%COMP%]   .dashboard__message.error[_ngcontent-%COMP%]{color:red}.dashboard__actions[_ngcontent-%COMP%]   .dashboard__message.success[_ngcontent-%COMP%]{color:green}"]})};var mm=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=ge({type:n,selectors:[["app-privacy-policy"]],decls:108,vars:0,consts:[[1,"privacy-policy"]],template:function(t,r){t&1&&(ie(0,"app-navbar")(1,"app-mobile-nav"),C(2,"section",0)(3,"h2"),T(4,"\u{1F512} Polityka Prywatno\u015Bci"),I(),C(5,"ol")(6,"li")(7,"strong"),T(8,"Informacje og\xF3lne"),I(),C(9,"ol")(10,"li"),T(11,"Niniejsza Polityka Prywatno\u015Bci okre\u015Bla zasady przetwarzania i ochrony danych osobowych u\u017Cytkownik\xF3w Serwisu dost\u0119pnego pod adresem "),C(12,"strong"),T(13,"[TWOJA_DOMENA.PL]"),I(),T(14,"."),I(),C(15,"li"),T(16,"Administratorem danych jest "),C(17,"strong"),T(18,"[NAZWA FIRMY / OSOBY]"),I(),T(19,", z siedzib\u0105 w "),C(20,"strong"),T(21,"[ADRES]"),I(),T(22,", NIP: "),C(23,"strong"),T(24,"[NIP]"),I(),T(25,". "),I()()(),C(26,"li")(27,"strong"),T(28,"Zakres zbieranych danych"),I(),C(29,"ol")(30,"li"),T(31,"Serwis mo\u017Ce gromadzi\u0107 nast\u0119puj\u0105ce dane u\u017Cytkownik\xF3w: "),C(32,"ul")(33,"li"),T(34,"Imi\u0119 i nazwisko"),I(),C(35,"li"),T(36,"Adres e-mail"),I(),C(37,"li"),T(38,"Adres IP"),I(),C(39,"li"),T(40,"Dane zbierane automatycznie przez pliki cookies"),I()()(),C(41,"li"),T(42,"Podanie danych osobowych jest dobrowolne, ale mo\u017Ce by\u0107 konieczne do skorzystania z niekt\xF3rych funkcji Serwisu."),I()()(),C(43,"li")(44,"strong"),T(45,"Cele przetwarzania danych"),I(),C(46,"ul")(47,"li"),T(48,"\u015Awiadczenia us\u0142ug drog\u0105 elektroniczn\u0105"),I(),C(49,"li"),T(50,"Prowadzenia analiz statystycznych"),I(),C(51,"li"),T(52,"Kontaktu z u\u017Cytkownikami"),I(),C(53,"li"),T(54,"Zabezpieczenia serwisu przed nadu\u017Cyciami"),I()()(),C(55,"li")(56,"strong"),T(57,"Podstawy prawne przetwarzania"),I(),C(58,"ul")(59,"li"),T(60,"Art. 6 ust. 1 lit. a) RODO \u2013 zgoda u\u017Cytkownika"),I(),C(61,"li"),T(62,"Art. 6 ust. 1 lit. b) RODO \u2013 realizacja umowy"),I(),C(63,"li"),T(64,"Art. 6 ust. 1 lit. f) RODO \u2013 prawnie uzasadniony interes Administratora"),I()()(),C(65,"li")(66,"strong"),T(67,"Prawa u\u017Cytkownika"),I(),C(68,"ul")(69,"li"),T(70,"Dost\u0119pu do swoich danych"),I(),C(71,"li"),T(72,"Ich sprostowania, usuni\u0119cia lub ograniczenia przetwarzania"),I(),C(73,"li"),T(74,"Wniesienia sprzeciwu"),I(),C(75,"li"),T(76,"Przenoszenia danych"),I(),C(77,"li"),T(78,"Cofni\u0119cia zgody"),I(),C(79,"li"),T(80,"Z\u0142o\u017Cenia skargi do organu nadzorczego (PUODO)"),I()()(),C(81,"li")(82,"strong"),T(83,"Cookies"),I(),C(84,"ol")(85,"li"),T(86,"Serwis korzysta z plik\xF3w cookies w celu zapewnienia poprawnego dzia\u0142ania, analizy statystycznej i personalizacji tre\u015Bci."),I(),C(87,"li"),T(88,"U\u017Cytkownik mo\u017Ce samodzielnie zarz\u0105dza\u0107 plikami cookies w ustawieniach swojej przegl\u0105darki."),I()()(),C(89,"li")(90,"strong"),T(91,"Przekazywanie danych"),I(),C(92,"ol")(93,"li"),T(94,"Dane mog\u0105 by\u0107 przekazywane zaufanym podmiotom przetwarzaj\u0105cym dane w naszym imieniu (np. dostawcy hostingu, narz\u0119dzia analityczne)."),I(),C(95,"li"),T(96,"Dane nie s\u0105 przekazywane do pa\u0144stw trzecich, chyba \u017Ce u\u017Cytkownik wyra\u017Anie na to zezwoli."),I()()(),C(97,"li")(98,"strong"),T(99,"Okres przechowywania"),I(),ie(100,"br"),T(101," Dane s\u0105 przechowywane tak d\u0142ugo, jak jest to konieczne do realizacji cel\xF3w, dla kt\xF3rych zosta\u0142y zebrane, lub do czasu cofni\u0119cia zgody. "),I(),C(102,"li")(103,"strong"),T(104,"Zmiany w Polityce Prywatno\u015Bci"),I(),ie(105,"br"),T(106," Polityka mo\u017Ce by\u0107 aktualizowana. Nowa wersja b\u0119dzie publikowana na stronie Serwisu. "),I()()(),ie(107,"app-footer"))},dependencies:[ir,Qr,or],styles:[".privacy-policy[_ngcontent-%COMP%]{font-family:Inter,sans-serif;color:#333;padding:40px 20px;max-width:800px;margin:80px auto;background-color:#f9fafc;border-radius:8px;line-height:1.6}.privacy-policy[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.8rem;margin-bottom:20px;color:#1e1f4b}.privacy-policy[_ngcontent-%COMP%]   ol[_ngcontent-%COMP%]{counter-reset:section;padding-left:20px}.privacy-policy[_ngcontent-%COMP%]   ol[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{margin-bottom:20px}.privacy-policy[_ngcontent-%COMP%]   ol[_ngcontent-%COMP%]   ol[_ngcontent-%COMP%]{list-style-type:decimal;padding-left:20px}.privacy-policy[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style-type:disc;padding-left:20px}.privacy-policy[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#007bff}"]})};var ym=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=ge({type:n,selectors:[["app-terms-of-service"]],decls:82,vars:0,consts:[[1,"terms-of-service"]],template:function(t,r){t&1&&(ie(0,"app-navbar")(1,"app-mobile-nav"),C(2,"section",0)(3,"h2"),T(4,"\u{1F4C4} Regulamin"),I(),C(5,"ol")(6,"li")(7,"strong"),T(8,"Postanowienia og\xF3lne"),I(),C(9,"ol")(10,"li"),T(11,"Niniejszy regulamin okre\u015Bla zasady korzystania z serwisu internetowego dost\u0119pnego pod adresem "),C(12,"strong"),T(13,"[TWOJA_DOMENA.PL]"),I(),T(14,". "),I(),C(15,"li"),T(16,"Serwis prowadzony jest przez "),C(17,"strong"),T(18,"[NAZWA FIRMY / OSOBY]"),I(),T(19,", z siedzib\u0105 w "),C(20,"strong"),T(21,"[ADRES]"),I(),T(22,", NIP: "),C(23,"strong"),T(24,"[NIP]"),I(),T(25,", REGON: "),C(26,"strong"),T(27,"[REGON]"),I(),T(28,". "),I(),C(29,"li"),T(30,"Korzystaj\u0105c z serwisu, u\u017Cytkownik akceptuje warunki niniejszego regulaminu."),I()()(),C(31,"li")(32,"strong"),T(33,"Definicje"),I(),C(34,"ul")(35,"li")(36,"strong"),T(37,"Serwis"),I(),T(38," \u2013 strona internetowa dost\u0119pna pod adresem [TWOJA_DOMENA.PL]."),I(),C(39,"li")(40,"strong"),T(41,"U\u017Cytkownik"),I(),T(42," \u2013 ka\u017Cda osoba fizyczna lub prawna korzystaj\u0105ca z Serwisu."),I(),C(43,"li")(44,"strong"),T(45,"Administrator"),I(),T(46," \u2013 w\u0142a\u015Bciciel i operator Serwisu."),I()()(),C(47,"li")(48,"strong"),T(49,"Warunki korzystania"),I(),C(50,"ol")(51,"li"),T(52,"U\u017Cytkownik zobowi\u0105zuje si\u0119 do korzystania z Serwisu zgodnie z obowi\u0105zuj\u0105cym prawem oraz zasadami wsp\xF3\u0142\u017Cycia spo\u0142ecznego."),I(),C(53,"li"),T(54,"Zabrania si\u0119 dostarczania tre\u015Bci o charakterze bezprawnym."),I(),C(55,"li"),T(56,"Administrator zastrzega sobie prawo do wprowadzania zmian w Serwisie bez wcze\u015Bniejszego powiadomienia."),I()()(),C(57,"li")(58,"strong"),T(59,"Odpowiedzialno\u015B\u0107"),I(),C(60,"ol")(61,"li"),T(62,"Administrator nie ponosi odpowiedzialno\u015Bci za przerwy w dzia\u0142aniu Serwisu wynikaj\u0105ce z przyczyn technicznych."),I(),C(63,"li"),T(64,"Administrator nie ponosi odpowiedzialno\u015Bci za dzia\u0142ania U\u017Cytkownik\xF3w niezgodne z Regulaminem."),I()()(),C(65,"li")(66,"strong"),T(67,"Prawa autorskie"),I(),C(68,"ol")(69,"li"),T(70,"Wszystkie tre\u015Bci opublikowane w Serwisie s\u0105 chronione prawem autorskim."),I(),C(71,"li"),T(72,"Kopiowanie, przetwarzanie i rozpowszechnianie tre\u015Bci bez zgody Administratora jest zabronione."),I()()(),C(73,"li")(74,"strong"),T(75,"Postanowienia ko\u0144cowe"),I(),C(76,"ol")(77,"li"),T(78,"Regulamin wchodzi w \u017Cycie z dniem opublikowania na stronie internetowej."),I(),C(79,"li"),T(80,"Administrator zastrzega sobie prawo do zmiany Regulaminu. Zmiany obowi\u0105zuj\u0105 od momentu ich publikacji."),I()()()()(),ie(81,"app-footer"))},dependencies:[ir,Qr,or],styles:[".terms-of-service[_ngcontent-%COMP%]{font-family:Inter,sans-serif;color:#333;padding:40px 20px;max-width:800px;margin:80px auto;background-color:#fffdfb;border-radius:8px;line-height:1.6}.terms-of-service[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.8rem;margin-bottom:20px;color:#1e1f4b}"]})};var Lk=[{path:"",redirectTo:"home",pathMatch:"full"},{path:"home",component:eg},{path:"contactform",component:vg},{path:"login",component:pm},{path:"dashboard",component:gm},{path:"privacy-policy",component:mm},{path:"terms-of-service",component:ym}];var Vk={providers:[o0({eventCoalescing:!0}),tw(Lk),mR()]};var jk=(()=>{let e=class e{constructor(r,i){this.document=r,this.platformId=i,this.documentIsAccessible=lM(this.platformId)}static getCookieRegExp(r){let i=r.replace(/([[\]{}()|=;+?,.*^$\\])/gi,"\\$1");return new RegExp("(?:^"+i+"|;\\s*"+i+")=(.*?)(?:;|$)","g")}static safeDecodeURIComponent(r){try{return decodeURIComponent(r)}catch{return r}}check(r){return this.documentIsAccessible?(r=encodeURIComponent(r),e.getCookieRegExp(r).test(this.document.cookie)):!1}get(r){if(this.check(r)){r=encodeURIComponent(r);let o=e.getCookieRegExp(r).exec(this.document.cookie);return o?.[1]?e.safeDecodeURIComponent(o[1]):""}else return""}getAll(){if(!this.documentIsAccessible)return{};let r={},i=this.document;return i.cookie&&i.cookie!==""&&i.cookie.split(";").forEach(o=>{let[s,a]=o.split("=");r[e.safeDecodeURIComponent(s.replace(/^ /,""))]=e.safeDecodeURIComponent(a)}),r}set(r,i,o,s,a,l,u,d){if(!this.documentIsAccessible)return;if(typeof o=="number"||o instanceof Date||s||a||l||u){let m={expires:o,path:s,domain:a,secure:l,sameSite:u||"Lax",partitioned:d};this.set(r,i,m);return}let f=encodeURIComponent(r)+"="+encodeURIComponent(i)+";",p=o||{};if(p.expires)if(typeof p.expires=="number"){let m=new Date(new Date().getTime()+p.expires*1e3*60*60*24);f+="expires="+m.toUTCString()+";"}else f+="expires="+p.expires.toUTCString()+";";p.path&&(f+="path="+p.path+";"),p.domain&&(f+="domain="+p.domain+";"),p.secure===!1&&p.sameSite==="None"&&(p.secure=!0,console.warn(`[ngx-cookie-service] Cookie ${r} was forced with secure flag because sameSite=None.More details : https://github.com/stevermeister/ngx-cookie-service/issues/86#issuecomment-597720130`)),p.secure&&(f+="secure;"),p.sameSite||(p.sameSite="Lax"),f+="sameSite="+p.sameSite+";",p.partitioned&&(f+="Partitioned;"),this.document.cookie=f}delete(r,i,o,s,a="Lax"){if(!this.documentIsAccessible)return;let l=new Date("Thu, 01 Jan 1970 00:00:01 GMT");this.set(r,"",{expires:l,path:i,domain:o,secure:s,sameSite:a})}deleteAll(r,i,o,s="Lax"){if(!this.documentIsAccessible)return;let a=this.getAll();for(let l in a)a.hasOwnProperty(l)&&this.delete(l,r,i,o,s)}};e.\u0275fac=function(i){return new(i||e)(se(rt),se(oo))},e.\u0275prov=K({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var Dl=class n{constructor(e){this.cookie=e}consentKey="cookie_consent";hasConsented(){return this.cookie.check(this.consentKey)}giveConsent(){let e=new Date;e.setFullYear(e.getFullYear()+1),this.cookie.set(this.consentKey,"true",{expires:e,sameSite:"Lax"})}static \u0275fac=function(t){return new(t||n)(se(jk))};static \u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})};var vm=class n{constructor(e){this.consent=e}accept(){this.consent.giveConsent()}static \u0275fac=function(t){return new(t||n)(ee(Dl))};static \u0275cmp=ge({type:n,selectors:[["app-cookie-banner"]],decls:4,vars:0,consts:[[1,"cookie-banner"],[3,"click"]],template:function(t,r){t&1&&(C(0,"div",0),T(1," Ta strona u\u017Cywa ciasteczek, aby poprawi\u0107 dzia\u0142anie i analizowa\u0107 ruch. "),C(2,"button",1),Ve("click",function(){return r.accept()}),T(3,"Akceptuj\u0119"),I()())},styles:[".cookie-banner[_ngcontent-%COMP%]{position:fixed;bottom:0;left:0;right:0;background:#1e1f4b;color:#fff;padding:15px;text-align:center;z-index:10000}.cookie-banner[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:20px;background:#007bff;border:none;color:#fff;padding:8px 16px;border-radius:4px;cursor:pointer}"]})};var P=typeof window<"u"?window:void 0,An=typeof globalThis<"u"?globalThis:P,HO=Array.prototype,Bk=HO.forEach,$k=HO.indexOf,Hn=An?.navigator,J=An?.document,Tn=An?.location,zC=An?.fetch,HC=An!=null&&An.XMLHttpRequest&&"withCredentials"in new An.XMLHttpRequest?An.XMLHttpRequest:void 0,zk=An?.AbortController,Sn=Hn?.userAgent,we=P??{},Ui={DEBUG:!1,LIB_VERSION:"1.250.2"},MC="$copy_autocapture",a8=["$snapshot","$pageview","$pageleave","$set","survey dismissed","survey sent","survey shown","$identify","$groupidentify","$create_alias","$$client_ingestion_warning","$web_experiment_applied","$feature_enrollment_update","$feature_flag_called"],Bi=function(n){return n.GZipJS="gzip-js",n.Base64="base64",n}({}),l8=["fatal","error","warning","log","info","debug"];function Me(n,e){return n.indexOf(e)!==-1}var Xm=function(n){return n.trim()},qC=function(n){return n.replace(/^\$/,"")},c8=Array.isArray,qO=Object.prototype,GO=qO.hasOwnProperty,ey=qO.toString,st=c8||function(n){return ey.call(n)==="[object Array]"},cr=n=>typeof n=="function",pt=n=>n===Object(n)&&!st(n),Ml=n=>{if(pt(n)){for(var e in n)if(GO.call(n,e))return!1;return!0}return!1},G=n=>n===void 0,gt=n=>ey.call(n)=="[object String]",GC=n=>gt(n)&&n.trim().length===0,No=n=>n===null,He=n=>G(n)||No(n),sn=n=>ey.call(n)=="[object Number]",ti=n=>ey.call(n)==="[object Boolean]",u8=n=>n instanceof FormData,d8=n=>Me(a8,n),WO=n=>{var e={t:function(t){if(P&&(Ui.DEBUG||we.POSTHOG_DEBUG)&&!G(P.console)&&P.console){for(var r=("__rrweb_original__"in P.console[t])?P.console[t].__rrweb_original__:P.console[t],i=arguments.length,o=new Array(i>1?i-1:0),s=1;s<i;s++)o[s-1]=arguments[s];r(n,...o)}},info:function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];e.t("log",...r)},warn:function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];e.t("warn",...r)},error:function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];e.t("error",...r)},critical:function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];console.error(n,...r)},uninitializedWarning:t=>{e.error("You must initialize PostHog before calling "+t)},createLogger:t=>WO(n+" "+t)};return e},re=WO("[PostHog.js]"),Qt=re.createLogger,h8=Qt("[ExternalScriptsLoader]"),Hk=(n,e,t)=>{if(n.config.disable_external_dependency_loading)return h8.warn(e+" was requested but loading of external scripts is disabled."),t("Loading of external scripts is disabled");var r=J?.querySelectorAll("script");if(r){for(var i=0;i<r.length;i++)if(r[i].src===e)return t()}var o=()=>{if(!J)return t("document not found");var s=J.createElement("script");if(s.type="text/javascript",s.crossOrigin="anonymous",s.src=e,s.onload=u=>t(void 0,u),s.onerror=u=>t(u),n.config.prepare_external_dependency_script&&(s=n.config.prepare_external_dependency_script(s)),!s)return t("prepare_external_dependency_script returned null");var a,l=J.querySelectorAll("body > script");l.length>0?(a=l[0].parentNode)==null||a.insertBefore(s,l[0]):J.body.appendChild(s)};J!=null&&J.body?o():J?.addEventListener("DOMContentLoaded",o)};function Y(){return Y=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Y.apply(null,arguments)}function KO(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)!==-1)continue;t[r]=n[r]}return t}we.__PosthogExtensions__=we.__PosthogExtensions__||{},we.__PosthogExtensions__.loadExternalDependency=(n,e,t)=>{var r="/static/"+e+".js?v="+n.version;if(e==="remote-config"&&(r="/array/"+n.config.token+"/config.js"),e==="toolbar"){var i=3e5;r=r+"&t="+Math.floor(Date.now()/i)*i}var o=n.requestRouter.endpointFor("assets",r);Hk(n,o,t)},we.__PosthogExtensions__.loadSiteApp=(n,e,t)=>{var r=n.requestRouter.endpointFor("api",e);Hk(n,r,t)};var Nm={};function Mo(n,e,t){if(st(n)){if(Bk&&n.forEach===Bk)n.forEach(e,t);else if("length"in n&&n.length===+n.length){for(var r=0,i=n.length;r<i;r++)if(r in n&&e.call(t,n[r],r)===Nm)return}}}function Qe(n,e,t){if(!He(n)){if(st(n))return Mo(n,e,t);if(u8(n)){for(var r of n.entries())if(e.call(t,r[1],r[0])===Nm)return}else for(var i in n)if(GO.call(n,i)&&e.call(t,n[i],i)===Nm)return}}var At=function(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),r=1;r<e;r++)t[r-1]=arguments[r];return Mo(t,function(i){for(var o in i)i[o]!==void 0&&(n[o]=i[o])}),n},ty=function(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),r=1;r<e;r++)t[r-1]=arguments[r];return Mo(t,function(i){Mo(i,function(o){n.push(o)})}),n};function Mm(n){for(var e=Object.keys(n),t=e.length,r=new Array(t);t--;)r[t]=[e[t],n[e[t]]];return r}var qk=function(n){try{return n()}catch{return}},f8=function(n){return function(){try{for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return n.apply(this,t)}catch(i){re.critical("Implementation error. Please turn on debug mode and open a ticket on https://app.posthog.com/home#panel=support%3Asupport%3A."),re.critical(i)}}},tD=function(n){var e={};return Qe(n,function(t,r){(gt(t)&&t.length>0||sn(t))&&(e[r]=t)}),e};function p8(n,e){return t=n,r=o=>gt(o)&&!No(e)?o.slice(0,e):o,i=new Set,function o(s,a){return s!==Object(s)?r?r(s,a):s:i.has(s)?void 0:(i.add(s),st(s)?(l=[],Mo(s,u=>{l.push(o(u))})):(l={},Qe(s,(u,d)=>{i.has(u)||(l[d]=o(u,d))})),l);var l}(t);var t,r,i}var g8=["herokuapp.com","vercel.app","netlify.app"];function m8(n){var e=n?.hostname;if(!gt(e))return!1;var t=e.split(".").slice(-2).join(".");for(var r of g8)if(t===r)return!1;return!0}function QO(n,e){for(var t=0;t<n.length;t++)if(e(n[t]))return n[t]}function ut(n,e,t,r){var{capture:i=!1,passive:o=!0}=r??{};n?.addEventListener(e,t,{capture:i,passive:o})}var YO="$people_distinct_id",yd="__alias",vd="__timers",Gk="$autocapture_disabled_server_side",WC="$heatmaps_enabled_server_side",Wk="$exception_capture_enabled_server_side",KC="$error_tracking_suppression_rules",Kk="$web_vitals_enabled_server_side",ZO="$dead_clicks_enabled_server_side",Qk="$web_vitals_allowed_metrics",QC="$session_recording_enabled_server_side",Yk="$console_log_recording_enabled_server_side",Zk="$session_recording_network_payload_capture",Jk="$session_recording_masking",Xk="$session_recording_canvas_recording",eO="$replay_sample_rate",tO="$replay_minimum_duration",nO="$replay_script_config",Pm="$sesid",_d="$session_is_sampled",YC="$session_recording_url_trigger_activated_session",ZC="$session_recording_event_trigger_activated_session",xl="$enabled_feature_flags",xm="$early_access_features",JC="$feature_flag_details",wd="$stored_person_properties",Ls="$stored_group_properties",XC="$surveys",_m="$surveys_activated",km="$flag_call_reported",Vi="$user_state",eI="$client_session_props",tI="$capture_rate_limit",nI="$initial_campaign_params",rI="$initial_referrer_info",Om="$initial_person_info",Fm="$epp",JO="__POSTHOG_TOOLBAR__",rO="$posthog_cookieless",y8=[YO,yd,"__cmpns",vd,QC,WC,Pm,xl,KC,Vi,xm,JC,Ls,wd,XC,km,eI,tI,nI,rI,Fm,Om];function iO(n){return n instanceof Element&&(n.id===JO||!(n.closest==null||!n.closest(".toolbar-global-fade-container")))}function ny(n){return!!n&&n.nodeType===1}function xo(n,e){return!!n&&!!n.tagName&&n.tagName.toLowerCase()===e.toLowerCase()}function XO(n){return!!n&&n.nodeType===3}function eF(n){return!!n&&n.nodeType===11}function nD(n){return n?Xm(n).split(/\s+/):[]}function oO(n){var e=P?.location.href;return!!(e&&n&&n.some(t=>e.match(t)))}function Lm(n){var e="";switch(typeof n.className){case"string":e=n.className;break;case"object":e=(n.className&&"baseVal"in n.className?n.className.baseVal:null)||n.getAttribute("class")||"";break;default:e=""}return nD(e)}function tF(n){return He(n)?null:Xm(n).split(/(\s+)/).filter(e=>kl(e)).join("").replace(/[\r\n]/g," ").replace(/[ ]+/g," ").substring(0,255)}function ry(n){var e="";return oI(n)&&!iF(n)&&n.childNodes&&n.childNodes.length&&Qe(n.childNodes,function(t){var r;XO(t)&&t.textContent&&(e+=(r=tF(t.textContent))!==null&&r!==void 0?r:"")}),Xm(e)}function nF(n){return G(n.target)?n.srcElement||null:(e=n.target)!=null&&e.shadowRoot?n.composedPath()[0]||null:n.target||null;var e}var iI=["a","button","form","input","select","textarea","label"];function rF(n){var e=n.parentNode;return!(!e||!ny(e))&&e}function v8(n,e,t,r,i){var o,s,a;if(t===void 0&&(t=void 0),!P||!n||xo(n,"html")||!ny(n)||(o=t)!=null&&o.url_allowlist&&!oO(t.url_allowlist)||(s=t)!=null&&s.url_ignorelist&&oO(t.url_ignorelist))return!1;if((a=t)!=null&&a.dom_event_allowlist){var l=t.dom_event_allowlist;if(l&&!l.some(A=>e.type===A))return!1}for(var u=!1,d=[n],f=!0,p=n;p.parentNode&&!xo(p,"body");)if(eF(p.parentNode))d.push(p.parentNode.host),p=p.parentNode.host;else{if(!(f=rF(p)))break;if(r||iI.indexOf(f.tagName.toLowerCase())>-1)u=!0;else{var m=P.getComputedStyle(f);m&&m.getPropertyValue("cursor")==="pointer"&&(u=!0)}d.push(f),p=f}if(!function(A,N){var O=N?.element_allowlist;if(G(O))return!0;var U,q=function(ae){if(O.some(D=>ae.tagName.toLowerCase()===D))return{v:!0}};for(var Ee of A)if(U=q(Ee))return U.v;return!1}(d,t)||!function(A,N){var O=N?.css_selector_allowlist;if(G(O))return!0;var U,q=function(ae){if(O.some(D=>ae.matches(D)))return{v:!0}};for(var Ee of A)if(U=q(Ee))return U.v;return!1}(d,t))return!1;var v=P.getComputedStyle(n);if(v&&v.getPropertyValue("cursor")==="pointer"&&e.type==="click")return!0;var w=n.tagName.toLowerCase();switch(w){case"html":return!1;case"form":return(i||["submit"]).indexOf(e.type)>=0;case"input":case"select":case"textarea":return(i||["change","click"]).indexOf(e.type)>=0;default:return u?(i||["click"]).indexOf(e.type)>=0:(i||["click"]).indexOf(e.type)>=0&&(iI.indexOf(w)>-1||n.getAttribute("contenteditable")==="true")}}function oI(n){for(var e=n;e.parentNode&&!xo(e,"body");e=e.parentNode){var t=Lm(e);if(Me(t,"ph-sensitive")||Me(t,"ph-no-capture"))return!1}if(Me(Lm(n),"ph-include"))return!0;var r=n.type||"";if(gt(r))switch(r.toLowerCase()){case"hidden":case"password":return!1}var i=n.name||n.id||"";return!(gt(i)&&/^cc|cardnum|ccnum|creditcard|csc|cvc|cvv|exp|pass|pwd|routing|seccode|securitycode|securitynum|socialsec|socsec|ssn/i.test(i.replace(/[^a-zA-Z0-9]/g,"")))}function iF(n){return!!(xo(n,"input")&&!["button","checkbox","submit","reset"].includes(n.type)||xo(n,"select")||xo(n,"textarea")||n.getAttribute("contenteditable")==="true")}var oF="(4[0-9]{12}(?:[0-9]{3})?)|(5[1-5][0-9]{14})|(6(?:011|5[0-9]{2})[0-9]{12})|(3[47][0-9]{13})|(3(?:0[0-5]|[68][0-9])[0-9]{11})|((?:2131|1800|35[0-9]{3})[0-9]{11})",_8=new RegExp("^(?:"+oF+")$"),w8=new RegExp(oF),sF="\\d{3}-?\\d{2}-?\\d{4}",E8=new RegExp("^("+sF+")$"),b8=new RegExp("("+sF+")");function kl(n,e){return e===void 0&&(e=!0),!(He(n)||gt(n)&&(n=Xm(n),(e?_8:w8).test((n||"").replace(/[- ]/g,""))||(e?E8:b8).test(n)))}function aF(n){var e=ry(n);return kl(e=(e+" "+lF(n)).trim())?e:""}function lF(n){var e="";return n&&n.childNodes&&n.childNodes.length&&Qe(n.childNodes,function(t){var r;if(t&&((r=t.tagName)==null?void 0:r.toLowerCase())==="span")try{var i=ry(t);e=(e+" "+i).trim(),t.childNodes&&t.childNodes.length&&(e=(e+" "+lF(t)).trim())}catch(o){re.error("[AutoCapture]",o)}}),e}function C8(n){return function(e){var t=e.map(r=>{var i,o,s="";if(r.tag_name&&(s+=r.tag_name),r.attr_class)for(var a of(r.attr_class.sort(),r.attr_class))s+="."+a.replace(/"/g,"");var l=Y({},r.text?{text:r.text}:{},{"nth-child":(i=r.nth_child)!==null&&i!==void 0?i:0,"nth-of-type":(o=r.nth_of_type)!==null&&o!==void 0?o:0},r.href?{href:r.href}:{},r.attr_id?{attr_id:r.attr_id}:{},r.attributes),u={};return Mm(l).sort((d,f)=>{var[p]=d,[m]=f;return p.localeCompare(m)}).forEach(d=>{var[f,p]=d;return u[sO(f.toString())]=sO(p.toString())}),s+=":",s+=Mm(u).map(d=>{var[f,p]=d;return f+'="'+p+'"'}).join("")});return t.join(";")}(function(e){return e.map(t=>{var r,i,o={text:(r=t.$el_text)==null?void 0:r.slice(0,400),tag_name:t.tag_name,href:(i=t.attr__href)==null?void 0:i.slice(0,2048),attr_class:I8(t),attr_id:t.attr__id,nth_child:t.nth_child,nth_of_type:t.nth_of_type,attributes:{}};return Mm(t).filter(s=>{var[a]=s;return a.indexOf("attr__")===0}).forEach(s=>{var[a,l]=s;return o.attributes[a]=l}),o})}(n))}function sO(n){return n.replace(/"|\\"/g,'\\"')}function I8(n){var e=n.attr__class;return e?st(e)?e:nD(e):void 0}var Vm=class{constructor(){this.clicks=[]}isRageClick(e,t,r){var i=this.clicks[this.clicks.length-1];if(i&&Math.abs(e-i.x)+Math.abs(t-i.y)<30&&r-i.timestamp<1e3){if(this.clicks.push({x:e,y:t,timestamp:r}),this.clicks.length===3)return!0}else this.clicks=[{x:e,y:t,timestamp:r}];return!1}},D8=["localhost","127.0.0.1"],Ol=n=>{var e=J?.createElement("a");return G(e)?null:(e.href=n,e)},S8=function(n,e){var t,r;e===void 0&&(e="&");var i=[];return Qe(n,function(o,s){G(o)||G(s)||s==="undefined"||(t=encodeURIComponent((a=>a instanceof File)(o)?o.name:o.toString()),r=encodeURIComponent(s),i[i.length]=r+"="+t)}),i.join(e)},jm=function(n,e){for(var t,r=((n.split("#")[0]||"").split(/\?(.*)/)[1]||"").replace(/^\?+/g,"").split("&"),i=0;i<r.length;i++){var o=r[i].split("=");if(o[0]===e){t=o;break}}if(!st(t)||t.length<2)return"";var s=t[1];try{s=decodeURIComponent(s)}catch{re.error("Skipping decoding for malformed query param: "+s)}return s.replace(/\+/g," ")},rD=function(n,e,t){if(!n||!e||!e.length)return n;for(var r=n.split("#"),i=r[0]||"",o=r[1],s=i.split("?"),a=s[1],l=s[0],u=(a||"").split("&"),d=[],f=0;f<u.length;f++){var p=u[f].split("=");st(p)&&(e.includes(p[0])?d.push(p[0]+"="+t):d.push(u[f]))}var m=l;return a!=null&&(m+="?"+d.join("&")),o!=null&&(m+="#"+o),m},Um=function(n,e){var t=n.match(new RegExp(e+"=([^&]*)"));return t?t[1]:null},aO=Qt("[AutoCapture]");function xC(n,e){return e.length>n?e.slice(0,n)+"...":e}function T8(n){if(n.previousElementSibling)return n.previousElementSibling;var e=n;do e=e.previousSibling;while(e&&!ny(e));return e}function A8(n,e,t,r){var i=n.tagName.toLowerCase(),o={tag_name:i};iI.indexOf(i)>-1&&!t&&(i.toLowerCase()==="a"||i.toLowerCase()==="button"?o.$el_text=xC(1024,aF(n)):o.$el_text=xC(1024,ry(n)));var s=Lm(n);s.length>0&&(o.classes=s.filter(function(d){return d!==""})),Qe(n.attributes,function(d){var f;if((!iF(n)||["name","id","class","aria-label"].indexOf(d.name)!==-1)&&(r==null||!r.includes(d.name))&&!e&&kl(d.value)&&(f=d.name,!gt(f)||f.substring(0,10)!=="_ngcontent"&&f.substring(0,7)!=="_nghost")){var p=d.value;d.name==="class"&&(p=nD(p).join(" ")),o["attr__"+d.name]=xC(1024,p)}});for(var a=1,l=1,u=n;u=T8(u);)a++,u.tagName===n.tagName&&l++;return o.nth_child=a,o.nth_of_type=l,o}function M8(n,e){for(var t,r,{e:i,maskAllElementAttributes:o,maskAllText:s,elementAttributeIgnoreList:a,elementsChainAsString:l}=e,u=[n],d=n;d.parentNode&&!xo(d,"body");)eF(d.parentNode)?(u.push(d.parentNode.host),d=d.parentNode.host):(u.push(d.parentNode),d=d.parentNode);var f,p=[],m={},v=!1,w=!1;if(Qe(u,q=>{var Ee=oI(q);q.tagName.toLowerCase()==="a"&&(v=q.getAttribute("href"),v=Ee&&v&&kl(v)&&v),Me(Lm(q),"ph-no-capture")&&(w=!0),p.push(A8(q,o,s,a));var ae=function(D){if(!oI(D))return{};var _={};return Qe(D.attributes,function(E){if(E.name&&E.name.indexOf("data-ph-capture-attribute")===0){var S=E.name.replace("data-ph-capture-attribute-",""),M=E.value;S&&M&&kl(M)&&(_[S]=M)}}),_}(q);At(m,ae)}),w)return{props:{},explicitNoCapture:w};if(s||(n.tagName.toLowerCase()==="a"||n.tagName.toLowerCase()==="button"?p[0].$el_text=aF(n):p[0].$el_text=ry(n)),v){var A,N;p[0].attr__href=v;var O=(A=Ol(v))==null?void 0:A.host,U=P==null||(N=P.location)==null?void 0:N.host;O&&U&&O!==U&&(f=v)}return{props:At({$event_type:i.type,$ce_version:1},l?{}:{$elements:p},{$elements_chain:C8(p)},(t=p[0])!=null&&t.$el_text?{$el_text:(r=p[0])==null?void 0:r.$el_text}:{},f&&i.type==="click"?{$external_click_url:f}:{},m)}}var sI=class{constructor(e){this.i=!1,this.o=null,this.rageclicks=new Vm,this.h=!1,this.instance=e,this.m=null}get S(){var e,t,r=pt(this.instance.config.autocapture)?this.instance.config.autocapture:{};return r.url_allowlist=(e=r.url_allowlist)==null?void 0:e.map(i=>new RegExp(i)),r.url_ignorelist=(t=r.url_ignorelist)==null?void 0:t.map(i=>new RegExp(i)),r}$(){if(this.isBrowserSupported()){if(P&&J){var e=r=>{r=r||P?.event;try{this.k(r)}catch(i){aO.error("Failed to capture event",i)}};if(ut(J,"submit",e,{capture:!0}),ut(J,"change",e,{capture:!0}),ut(J,"click",e,{capture:!0}),this.S.capture_copied_text){var t=r=>{r=r||P?.event,this.k(r,MC)};ut(J,"copy",t,{capture:!0}),ut(J,"cut",t,{capture:!0})}}}else aO.info("Disabling Automatic Event Collection because this browser is not supported")}startIfEnabled(){this.isEnabled&&!this.i&&(this.$(),this.i=!0)}onRemoteConfig(e){e.elementsChainAsString&&(this.h=e.elementsChainAsString),this.instance.persistence&&this.instance.persistence.register({[Gk]:!!e.autocapture_opt_out}),this.o=!!e.autocapture_opt_out,this.startIfEnabled()}setElementSelectors(e){this.m=e}getElementSelectors(e){var t,r=[];return(t=this.m)==null||t.forEach(i=>{var o=J?.querySelectorAll(i);o?.forEach(s=>{e===s&&r.push(i)})}),r}get isEnabled(){var e,t,r=(e=this.instance.persistence)==null?void 0:e.props[Gk],i=this.o;if(No(i)&&!ti(r)&&!this.instance.config.advanced_disable_decide)return!1;var o=(t=this.o)!==null&&t!==void 0?t:!!r;return!!this.instance.config.autocapture&&!o}k(e,t){if(t===void 0&&(t="$autocapture"),this.isEnabled){var r,i=nF(e);XO(i)&&(i=i.parentNode||null),t==="$autocapture"&&e.type==="click"&&e instanceof MouseEvent&&this.instance.config.rageclick&&(r=this.rageclicks)!=null&&r.isRageClick(e.clientX,e.clientY,new Date().getTime())&&this.k(e,"$rageclick");var o=t===MC;if(i&&v8(i,e,this.S,o,o?["copy","cut"]:void 0)){var{props:s,explicitNoCapture:a}=M8(i,{e,maskAllElementAttributes:this.instance.config.mask_all_element_attributes,maskAllText:this.instance.config.mask_all_text,elementAttributeIgnoreList:this.S.element_attribute_ignorelist,elementsChainAsString:this.h});if(a)return!1;var l=this.getElementSelectors(i);if(l&&l.length>0&&(s.$element_selectors=l),t===MC){var u,d=tF(P==null||(u=P.getSelection())==null?void 0:u.toString()),f=e.type||"clipboard";if(!d)return!1;s.$selected_content=d,s.$copy_type=f}return this.instance.capture(t,s),!0}}}isBrowserSupported(){return cr(J?.querySelectorAll)}};Math.trunc||(Math.trunc=function(n){return n<0?Math.ceil(n):Math.floor(n)}),Number.isInteger||(Number.isInteger=function(n){return sn(n)&&isFinite(n)&&Math.floor(n)===n});var lO="0123456789abcdef",aI=class n{constructor(e){if(this.bytes=e,e.length!==16)throw new TypeError("not 128-bit length")}static fromFieldsV7(e,t,r,i){if(!Number.isInteger(e)||!Number.isInteger(t)||!Number.isInteger(r)||!Number.isInteger(i)||e<0||t<0||r<0||i<0||e>0xffffffffffff||t>4095||r>1073741823||i>4294967295)throw new RangeError("invalid field value");var o=new Uint8Array(16);return o[0]=e/Math.pow(2,40),o[1]=e/Math.pow(2,32),o[2]=e/Math.pow(2,24),o[3]=e/Math.pow(2,16),o[4]=e/Math.pow(2,8),o[5]=e,o[6]=112|t>>>8,o[7]=t,o[8]=128|r>>>24,o[9]=r>>>16,o[10]=r>>>8,o[11]=r,o[12]=i>>>24,o[13]=i>>>16,o[14]=i>>>8,o[15]=i,new n(o)}toString(){for(var e="",t=0;t<this.bytes.length;t++)e=e+lO.charAt(this.bytes[t]>>>4)+lO.charAt(15&this.bytes[t]),t!==3&&t!==5&&t!==7&&t!==9||(e+="-");if(e.length!==36)throw new Error("Invalid UUIDv7 was generated");return e}clone(){return new n(this.bytes.slice(0))}equals(e){return this.compareTo(e)===0}compareTo(e){for(var t=0;t<16;t++){var r=this.bytes[t]-e.bytes[t];if(r!==0)return Math.sign(r)}return 0}},lI=class{constructor(){this.I=0,this.P=0,this.R=new cI}generate(){var e=this.generateOrAbort();if(G(e)){this.I=0;var t=this.generateOrAbort();if(G(t))throw new Error("Could not generate UUID after timestamp reset");return t}return e}generateOrAbort(){var e=Date.now();if(e>this.I)this.I=e,this.T();else{if(!(e+1e4>this.I))return;this.P++,this.P>4398046511103&&(this.I++,this.T())}return aI.fromFieldsV7(this.I,Math.trunc(this.P/Math.pow(2,30)),this.P&Math.pow(2,30)-1,this.R.nextUint32())}T(){this.P=1024*this.R.nextUint32()+(1023&this.R.nextUint32())}},cO,cF=n=>{if(typeof UUIDV7_DENY_WEAK_RNG<"u"&&UUIDV7_DENY_WEAK_RNG)throw new Error("no cryptographically strong RNG available");for(var e=0;e<n.length;e++)n[e]=65536*Math.trunc(65536*Math.random())+Math.trunc(65536*Math.random());return n};P&&!G(P.crypto)&&crypto.getRandomValues&&(cF=n=>crypto.getRandomValues(n));var cI=class{constructor(){this.M=new Uint32Array(8),this.C=1/0}nextUint32(){return this.C>=this.M.length&&(cF(this.M),this.C=0),this.M[this.C++]}},Ao=()=>x8().toString(),x8=()=>(cO||(cO=new lI)).generate(),fd="",R8=/[a-z0-9][a-z0-9-]+\.[a-z]{2,}$/i;function N8(n,e){if(e){var t=function(i,o){if(o===void 0&&(o=J),fd)return fd;if(!o||["localhost","127.0.0.1"].includes(i))return"";for(var s=i.split("."),a=Math.min(s.length,8),l="dmn_chk_"+Ao();!fd&&a--;){var u=s.slice(a).join("."),d=l+"=1;domain=."+u+";path=/";o.cookie=d+";max-age=3",o.cookie.includes(l)&&(o.cookie=d+";max-age=0",fd=u)}return fd}(n);if(!t){var r=(i=>{var o=i.match(R8);return o?o[0]:""})(n);r!==t&&re.info("Warning: cookie subdomain discovery mismatch",r,t),t=r}return t?"; domain=."+t:""}return""}var $i={O:()=>!!J,F:function(n){re.error("cookieStore error: "+n)},A:function(n){if(J){try{for(var e=n+"=",t=J.cookie.split(";").filter(o=>o.length),r=0;r<t.length;r++){for(var i=t[r];i.charAt(0)==" ";)i=i.substring(1,i.length);if(i.indexOf(e)===0)return decodeURIComponent(i.substring(e.length,i.length))}}catch{}return null}},D:function(n){var e;try{e=JSON.parse($i.A(n))||{}}catch{}return e},L:function(n,e,t,r,i){if(J)try{var o="",s="",a=N8(J.location.hostname,r);if(t){var l=new Date;l.setTime(l.getTime()+24*t*60*60*1e3),o="; expires="+l.toUTCString()}i&&(s="; secure");var u=n+"="+encodeURIComponent(JSON.stringify(e))+o+"; SameSite=Lax; path=/"+a+s;return u.length>3686.4&&re.warn("cookieStore warning: large cookie, len="+u.length),J.cookie=u,u}catch{return}},N:function(n,e){try{$i.L(n,"",-1,e)}catch{return}}},RC=null,Ft={O:function(){if(!No(RC))return RC;var n=!0;if(G(P))n=!1;else try{var e="__mplssupport__";Ft.L(e,"xyz"),Ft.A(e)!=='"xyz"'&&(n=!1),Ft.N(e)}catch{n=!1}return n||re.error("localStorage unsupported; falling back to cookie store"),RC=n,n},F:function(n){re.error("localStorage error: "+n)},A:function(n){try{return P?.localStorage.getItem(n)}catch(e){Ft.F(e)}return null},D:function(n){try{return JSON.parse(Ft.A(n))||{}}catch{}return null},L:function(n,e){try{P?.localStorage.setItem(n,JSON.stringify(e))}catch(t){Ft.F(t)}},N:function(n){try{P?.localStorage.removeItem(n)}catch(e){Ft.F(e)}}},P8=["distinct_id",Pm,_d,Fm,Om],wm=Y({},Ft,{D:function(n){try{var e={};try{e=$i.D(n)||{}}catch{}var t=At(e,JSON.parse(Ft.A(n)||"{}"));return Ft.L(n,t),t}catch{}return null},L:function(n,e,t,r,i,o){try{Ft.L(n,e,void 0,void 0,o);var s={};P8.forEach(a=>{e[a]&&(s[a]=e[a])}),Object.keys(s).length&&$i.L(n,s,t,r,i,o)}catch(a){Ft.F(a)}},N:function(n,e){try{P?.localStorage.removeItem(n),$i.N(n,e)}catch(t){Ft.F(t)}}}),Em={},k8={O:function(){return!0},F:function(n){re.error("memoryStorage error: "+n)},A:function(n){return Em[n]||null},D:function(n){return Em[n]||null},L:function(n,e){Em[n]=e},N:function(n){delete Em[n]}},ks=null,Kt={O:function(){if(!No(ks))return ks;if(ks=!0,G(P))ks=!1;else try{var n="__support__";Kt.L(n,"xyz"),Kt.A(n)!=='"xyz"'&&(ks=!1),Kt.N(n)}catch{ks=!1}return ks},F:function(n){re.error("sessionStorage error: ",n)},A:function(n){try{return P?.sessionStorage.getItem(n)}catch(e){Kt.F(e)}return null},D:function(n){try{return JSON.parse(Kt.A(n))||null}catch{}return null},L:function(n,e){try{P?.sessionStorage.setItem(n,JSON.stringify(e))}catch(t){Kt.F(t)}},N:function(n){try{P?.sessionStorage.removeItem(n)}catch(e){Kt.F(e)}}},Sl=function(n){return n[n.PENDING=-1]="PENDING",n[n.DENIED=0]="DENIED",n[n.GRANTED=1]="GRANTED",n}({}),uI=class{constructor(e){this._instance=e}get S(){return this._instance.config}get consent(){return this.j()?Sl.DENIED:this.U}isOptedOut(){return this.consent===Sl.DENIED||this.consent===Sl.PENDING&&this.S.opt_out_capturing_by_default}isOptedIn(){return!this.isOptedOut()}optInOut(e){this.q.L(this.B,e?1:0,this.S.cookie_expiration,this.S.cross_subdomain_cookie,this.S.secure_cookie)}reset(){this.q.N(this.B,this.S.cross_subdomain_cookie)}get B(){var{token:e,opt_out_capturing_cookie_prefix:t}=this._instance.config;return(t||"__ph_opt_in_out_")+e}get U(){var e=this.q.A(this.B);return e==="1"?Sl.GRANTED:e==="0"?Sl.DENIED:Sl.PENDING}get q(){if(!this.H){var e=this.S.opt_out_capturing_persistence_type;this.H=e==="localStorage"?Ft:$i;var t=e==="localStorage"?$i:Ft;t.A(this.B)&&(this.H.A(this.B)||this.optInOut(t.A(this.B)==="1"),t.N(this.B,this.S.cross_subdomain_cookie))}return this.H}j(){return!!this.S.respect_dnt&&!!QO([Hn?.doNotTrack,Hn?.msDoNotTrack,we.doNotTrack],e=>Me([!0,1,"1","yes"],e))}},bm=Qt("[Dead Clicks]"),O8=()=>!0,F8=n=>{var e,t=!((e=n.instance.persistence)==null||!e.get_property(ZO)),r=n.instance.config.capture_dead_clicks;return ti(r)?r:t},Bm=class{get lazyLoadedDeadClicksAutocapture(){return this.W}constructor(e,t,r){this.instance=e,this.isEnabled=t,this.onCapture=r,this.startIfEnabled()}onRemoteConfig(e){this.instance.persistence&&this.instance.persistence.register({[ZO]:e?.captureDeadClicks}),this.startIfEnabled()}startIfEnabled(){this.isEnabled(this)&&this.G(()=>{this.J()})}G(e){var t,r;(t=we.__PosthogExtensions__)!=null&&t.initDeadClicksAutocapture&&e(),(r=we.__PosthogExtensions__)==null||r.loadExternalDependency==null||r.loadExternalDependency(this.instance,"dead-clicks-autocapture",i=>{i?bm.error("failed to load script",i):e()})}J(){var e;if(J){if(!this.W&&(e=we.__PosthogExtensions__)!=null&&e.initDeadClicksAutocapture){var t=pt(this.instance.config.capture_dead_clicks)?this.instance.config.capture_dead_clicks:{};t.__onCapture=this.onCapture,this.W=we.__PosthogExtensions__.initDeadClicksAutocapture(this.instance,t),this.W.start(J),bm.info("starting...")}}else bm.error("`document` not found. Cannot start.")}stop(){this.W&&(this.W.stop(),this.W=void 0,bm.info("stopping..."))}};function qn(n,e,t,r,i){return e>t&&(re.warn("min cannot be greater than max."),e=t),sn(n)?n>t?(r&&re.warn(r+" cannot be  greater than max: "+t+". Using max value instead."),t):n<e?(r&&re.warn(r+" cannot be less than min: "+e+". Using min value instead."),e):n:(r&&re.warn(r+" must be a number. using max or fallback. max: "+t+", fallback: "+i),qn(i||t,e,t,r))}var $m=class{constructor(e){this.V={},this.K=()=>{Object.keys(this.V).forEach(t=>{var r=this.Y(t)+this.X;r>=this.Z?delete this.V[t]:this.tt(t,r)})},this.Y=t=>this.V[String(t)],this.tt=(t,r)=>{this.V[String(t)]=r},this.consumeRateLimit=t=>{var r,i=(r=this.Y(t))!==null&&r!==void 0?r:this.Z;if((i=Math.max(i-1,0))===0)return!0;this.tt(t,i);var o,s=i===0;return s&&((o=this.it)==null||o.call(this,t)),s},this.et=e,this.it=this.et.it,this.Z=qn(this.et.bucketSize,0,100,"rate limiter bucket size"),this.X=qn(this.et.refillRate,0,this.Z,"rate limiter refill rate"),this.rt=qn(this.et.refillInterval,0,864e5,"rate limiter refill interval"),setInterval(()=>{this.K()},this.rt)}},Cm=Qt("[ExceptionAutocapture]"),dI=class{constructor(e){var t,r,i;this.st=()=>{var o;if(P&&this.isEnabled&&(o=we.__PosthogExtensions__)!=null&&o.errorWrappingFunctions){var s=we.__PosthogExtensions__.errorWrappingFunctions.wrapOnError,a=we.__PosthogExtensions__.errorWrappingFunctions.wrapUnhandledRejection,l=we.__PosthogExtensions__.errorWrappingFunctions.wrapConsoleError;try{!this.nt&&this.S.capture_unhandled_errors&&(this.nt=s(this.captureException.bind(this))),!this.ot&&this.S.capture_unhandled_rejections&&(this.ot=a(this.captureException.bind(this))),!this.lt&&this.S.capture_console_errors&&(this.lt=l(this.captureException.bind(this)))}catch(u){Cm.error("failed to start",u),this.ut()}}},this._instance=e,this.ht=!((t=this._instance.persistence)==null||!t.props[Wk]),this.S=this.dt(),this.vt=new $m({refillRate:(r=this._instance.config.error_tracking.__exceptionRateLimiterRefillRate)!==null&&r!==void 0?r:1,bucketSize:(i=this._instance.config.error_tracking.__exceptionRateLimiterBucketSize)!==null&&i!==void 0?i:10,refillInterval:1e4}),this.startIfEnabled()}dt(){var e=this._instance.config.capture_exceptions,t={capture_unhandled_errors:!1,capture_unhandled_rejections:!1,capture_console_errors:!1};return pt(e)?t=Y({},t,e):(G(e)?this.ht:e)&&(t=Y({},t,{capture_unhandled_errors:!0,capture_unhandled_rejections:!0})),t}get isEnabled(){return this.S.capture_console_errors||this.S.capture_unhandled_errors||this.S.capture_unhandled_rejections}startIfEnabled(){this.isEnabled&&(Cm.info("enabled"),this.G(this.st))}G(e){var t,r;(t=we.__PosthogExtensions__)!=null&&t.errorWrappingFunctions&&e(),(r=we.__PosthogExtensions__)==null||r.loadExternalDependency==null||r.loadExternalDependency(this._instance,"exception-autocapture",i=>{if(i)return Cm.error("failed to load script",i);e()})}ut(){var e,t,r;(e=this.nt)==null||e.call(this),this.nt=void 0,(t=this.ot)==null||t.call(this),this.ot=void 0,(r=this.lt)==null||r.call(this),this.lt=void 0}onRemoteConfig(e){var t=e.autocaptureExceptions;this.ht=!!t||!1,this.S=this.dt(),this._instance.persistence&&this._instance.persistence.register({[Wk]:this.ht}),this.startIfEnabled()}captureException(e){var t,r=this._instance.requestRouter.endpointFor("ui");e.$exception_personURL=r+"/project/"+this._instance.config.token+"/person/"+this._instance.get_distinct_id();var i=(t=e.$exception_list[0].type)!==null&&t!==void 0?t:"Exception";this.vt.consumeRateLimit(i)?Cm.info("Skipping exception capture because of client rate limiting.",{exception:e.$exception_list[0].type}):this._instance.exceptions.sendExceptionEvent(e)}};function uF(n){return!G(Event)&&dF(n,Event)}function dF(n,e){try{return n instanceof e}catch{return!1}}function hF(n){switch(Object.prototype.toString.call(n)){case"[object Error]":case"[object Exception]":case"[object DOMException]":case"[object DOMError]":return!0;default:return dF(n,Error)}}function Rm(n,e){return Object.prototype.toString.call(n)==="[object "+e+"]"}function NC(n){return Rm(n,"DOMError")}var uO=/\(error: (.*)\)/,dO=50,Rl="?";function PC(n,e,t,r){var i={platform:"web:javascript",filename:n,function:e==="<anonymous>"?Rl:e,in_app:!0};return G(t)||(i.lineno=t),G(r)||(i.colno=r),i}var L8=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,V8=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,j8=/\((\S*)(?::(\d+))(?::(\d+))\)/,U8=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,B8=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,$8=function(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];var r=e.sort((i,o)=>i[0]-o[0]).map(i=>i[1]);return function(i,o){o===void 0&&(o=0);for(var s=[],a=i.split(`
`),l=o;l<a.length;l++){var u=a[l];if(!(u.length>1024)){var d=uO.test(u)?u.replace(uO,"$1"):u;if(!d.match(/\S*Error: /)){for(var f of r){var p=f(d);if(p){s.push(p);break}}if(s.length>=dO)break}}}return function(m){if(!m.length)return[];var v=Array.from(m);return v.reverse(),v.slice(0,dO).map(w=>Y({},w,{filename:w.filename||z8(v).filename,function:w.function||Rl}))}(s)}}([30,n=>{var e=L8.exec(n);if(e){var[,t,r,i]=e;return PC(t,Rl,+r,+i)}var o=V8.exec(n);if(o){if(o[2]&&o[2].indexOf("eval")===0){var s=j8.exec(o[2]);s&&(o[2]=s[1],o[3]=s[2],o[4]=s[3])}var[a,l]=fO(o[1]||Rl,o[2]);return PC(l,a,o[3]?+o[3]:void 0,o[4]?+o[4]:void 0)}}],[50,n=>{var e=U8.exec(n);if(e){if(e[3]&&e[3].indexOf(" > eval")>-1){var t=B8.exec(e[3]);t&&(e[1]=e[1]||"eval",e[3]=t[1],e[4]=t[2],e[5]="")}var r=e[3],i=e[1]||Rl;return[i,r]=fO(i,r),PC(r,i,e[4]?+e[4]:void 0,e[5]?+e[5]:void 0)}}]);function z8(n){return n[n.length-1]||{}}var Im,hO,kC,fO=(n,e)=>{var t=n.indexOf("safari-extension")!==-1,r=n.indexOf("safari-web-extension")!==-1;return t||r?[n.indexOf("@")!==-1?n.split("@")[0]:Rl,t?"safari-extension:"+e:"safari-web-extension:"+e]:[n,e]},H8=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i;function iD(n,e){e===void 0&&(e=0);var t=n.stacktrace||n.stack||"",r=function(s){return s&&q8.test(s.message)?1:0}(n);try{var i=$8,o=function(s,a){var l=function(u){var d=globalThis._posthogChunkIds;if(!d)return{};var f=Object.keys(d);return kC&&f.length===hO||(hO=f.length,kC=f.reduce((p,m)=>{Im||(Im={});var v=Im[m];if(v)p[v[0]]=v[1];else for(var w=u(m),A=w.length-1;A>=0;A--){var N=w[A],O=N?.filename,U=d[m];if(O&&U){p[O]=U,Im[m]=[O,U];break}}return p},{})),kC}(a);return s.forEach(u=>{u.filename&&(u.chunk_id=l[u.filename])}),s}(i(t,r),i);return o.slice(0,o.length-e)}catch{}return[]}var q8=/Minified React error #\d+;/i;function G8(n,e){var t,r,i=iD(n),o=(t=e?.handled)===null||t===void 0||t,s=(r=e?.synthetic)!==null&&r!==void 0&&r;return{type:e!=null&&e.overrideExceptionType?e.overrideExceptionType:n.name,value:function(a){var l=a.message;return l.error&&typeof l.error.message=="string"?String(l.error.message):String(l)}(n),stacktrace:{frames:i,type:"raw"},mechanism:{handled:o,synthetic:s}}}function fF(n,e){var t=G8(n,e);return n.cause&&hF(n.cause)&&n.cause!==n?[t,...fF(n.cause,{handled:e?.handled,synthetic:e?.synthetic})]:[t]}function OC(n,e){return{$exception_list:fF(n,e),$exception_level:"error"}}function FC(n,e){var t,r,i,o=(t=e?.handled)===null||t===void 0||t,s=(r=e?.synthetic)===null||r===void 0||r,a={type:e!=null&&e.overrideExceptionType?e.overrideExceptionType:(i=e?.defaultExceptionType)!==null&&i!==void 0?i:"Error",value:n||e?.defaultExceptionMessage,mechanism:{handled:o,synthetic:s}};if(e!=null&&e.syntheticException){var l=iD(e.syntheticException,1);l.length&&(a.stacktrace={frames:l,type:"raw"})}return{$exception_list:[a],$exception_level:"error"}}function W8(n){return gt(n)&&!GC(n)&&l8.indexOf(n)>=0}function K8(n,e){var t,r,i=(t=e?.handled)===null||t===void 0||t,o=(r=e?.synthetic)===null||r===void 0||r,s=e!=null&&e.overrideExceptionType?e.overrideExceptionType:uF(n)?n.constructor.name:"Error",a="Non-Error 'exception' captured with keys: "+function(d,f){f===void 0&&(f=40);var p=Object.keys(d);if(p.sort(),!p.length)return"[object has no keys]";for(var m=p.length;m>0;m--){var v=p.slice(0,m).join(", ");if(!(v.length>f))return m===p.length||v.length<=f?v:v.slice(0,f)+"..."}return""}(n),l={type:s,value:a,mechanism:{handled:i,synthetic:o}};if(e!=null&&e.syntheticException){var u=iD(e?.syntheticException,1);u.length&&(l.stacktrace={frames:u,type:"raw"})}return{$exception_list:[l],$exception_level:W8(n.level)?n.level:"error"}}function Q8(n,e){var{error:t,event:r}=n,i={$exception_list:[]},o=t||r;if(NC(o)||function(p){return Rm(p,"DOMException")}(o)){var s=o;if(function(p){return"stack"in p}(o))i=OC(o,e);else{var a=s.name||(NC(s)?"DOMError":"DOMException"),l=s.message?a+": "+s.message:a;i=FC(l,Y({},e,{overrideExceptionType:NC(s)?"DOMError":"DOMException",defaultExceptionMessage:l}))}return"code"in s&&(i.$exception_DOMException_code=""+s.code),i}if(function(p){return Rm(p,"ErrorEvent")}(o)&&o.error)return OC(o.error,e);if(hF(o))return OC(o,e);if(function(p){return Rm(p,"Object")}(o)||uF(o))return K8(o,e);if(G(t)&&gt(r)){var u="Error",d=r,f=r.match(H8);return f&&(u=f[1],d=f[2]),FC(d,Y({},e,{overrideExceptionType:u,defaultExceptionMessage:d}))}return FC(o,e)}function pO(n,e,t){try{if(!(e in n))return()=>{};var r=n[e],i=t(r);return cr(i)&&(i.prototype=i.prototype||{},Object.defineProperties(i,{__posthog_wrapped__:{enumerable:!1,value:!0}})),n[e]=i,()=>{n[e]=r}}catch{return()=>{}}}var hI=class{constructor(e){var t;this._instance=e,this.ct=(P==null||(t=P.location)==null?void 0:t.pathname)||""}get isEnabled(){return this._instance.config.capture_pageview==="history_change"}startIfEnabled(){this.isEnabled&&(re.info("History API monitoring enabled, starting..."),this.monitorHistoryChanges())}stop(){this.ft&&this.ft(),this.ft=void 0,re.info("History API monitoring stopped")}monitorHistoryChanges(){var e,t;if(P&&P.history){var r=this;(e=P.history.pushState)!=null&&e.__posthog_wrapped__||pO(P.history,"pushState",i=>function(o,s,a){i.call(this,o,s,a),r._t("pushState")}),(t=P.history.replaceState)!=null&&t.__posthog_wrapped__||pO(P.history,"replaceState",i=>function(o,s,a){i.call(this,o,s,a),r._t("replaceState")}),this.gt()}}_t(e){try{var t,r=P==null||(t=P.location)==null?void 0:t.pathname;if(!r)return;r!==this.ct&&this.isEnabled&&this._instance.capture("$pageview",{navigation_type:e}),this.ct=r}catch(i){re.error("Error capturing "+e+" pageview",i)}}gt(){if(!this.ft){var e=()=>{this._t("popstate")};ut(P,"popstate",e),this.ft=()=>{P&&P.removeEventListener("popstate",e)}}}};function zm(n){var e,t;return((e=JSON.stringify(n,(t=[],function(r,i){if(pt(i)){for(;t.length>0&&t[t.length-1]!==this;)t.pop();return t.includes(i)?"[Circular]":(t.push(i),i)}return i})))==null?void 0:e.length)||0}function fI(n,e){if(e===void 0&&(e=66060288e-1),n.size>=e&&n.data.length>1){var t=Math.floor(n.data.length/2),r=n.data.slice(0,t),i=n.data.slice(t);return[fI({size:zm(r),data:r,sessionId:n.sessionId,windowId:n.windowId}),fI({size:zm(i),data:i,sessionId:n.sessionId,windowId:n.windowId})].flatMap(o=>o)}return[n]}var ji=(n=>(n[n.DomContentLoaded=0]="DomContentLoaded",n[n.Load=1]="Load",n[n.FullSnapshot=2]="FullSnapshot",n[n.IncrementalSnapshot=3]="IncrementalSnapshot",n[n.Meta=4]="Meta",n[n.Custom=5]="Custom",n[n.Plugin=6]="Plugin",n))(ji||{}),Rr=(n=>(n[n.Mutation=0]="Mutation",n[n.MouseMove=1]="MouseMove",n[n.MouseInteraction=2]="MouseInteraction",n[n.Scroll=3]="Scroll",n[n.ViewportResize=4]="ViewportResize",n[n.Input=5]="Input",n[n.TouchMove=6]="TouchMove",n[n.MediaInteraction=7]="MediaInteraction",n[n.StyleSheetRule=8]="StyleSheetRule",n[n.CanvasMutation=9]="CanvasMutation",n[n.Font=10]="Font",n[n.Log=11]="Log",n[n.Drag=12]="Drag",n[n.StyleDeclaration=13]="StyleDeclaration",n[n.Selection=14]="Selection",n[n.AdoptedStyleSheet=15]="AdoptedStyleSheet",n[n.CustomElement=16]="CustomElement",n))(Rr||{}),pI="[SessionRecording]",gI="redacted",Dm={initiatorTypes:["audio","beacon","body","css","early-hint","embed","fetch","frame","iframe","icon","image","img","input","link","navigation","object","ping","script","track","video","xmlhttprequest"],maskRequestFn:n=>n,recordHeaders:!1,recordBody:!1,recordInitialRequests:!1,recordPerformance:!1,performanceEntryTypeToObserve:["first-input","navigation","paint","resource"],payloadSizeLimitBytes:1e6,payloadHostDenyList:[".lr-ingest.io",".ingest.sentry.io",".clarity.ms","analytics.google.com","bam.nr-data.net"]},Y8=["authorization","x-forwarded-for","authorization","cookie","set-cookie","x-api-key","x-real-ip","remote-addr","forwarded","proxy-authorization","x-csrf-token","x-csrftoken","x-xsrf-token"],Z8=["password","secret","passwd","api_key","apikey","auth","credentials","mysql_pwd","privatekey","private_key","token"],J8=["/s/","/e/","/i/"];function gO(n,e,t,r){if(He(n))return n;var i=e?.["content-length"]||function(o){return new Blob([o]).size}(n);return gt(i)&&(i=parseInt(i)),i>t?pI+" "+r+" body too large to record ("+i+" bytes)":n}function mO(n,e){if(He(n))return n;var t=n;return kl(t,!1)||(t=pI+" "+e+" body "+gI),Qe(Z8,r=>{var i,o;(i=t)!=null&&i.length&&((o=t)==null?void 0:o.indexOf(r))!==-1&&(t=pI+" "+e+" body "+gI+" as might contain: "+r)}),t}var X8=(n,e)=>{var t,r,i,o={payloadSizeLimitBytes:Dm.payloadSizeLimitBytes,performanceEntryTypeToObserve:[...Dm.performanceEntryTypeToObserve],payloadHostDenyList:[...e.payloadHostDenyList||[],...Dm.payloadHostDenyList]},s=n.session_recording.recordHeaders!==!1&&e.recordHeaders,a=n.session_recording.recordBody!==!1&&e.recordBody,l=n.capture_performance!==!1&&e.recordPerformance,u=(t=o,i=Math.min(1e6,(r=t.payloadSizeLimitBytes)!==null&&r!==void 0?r:1e6),p=>(p!=null&&p.requestBody&&(p.requestBody=gO(p.requestBody,p.requestHeaders,i,"Request")),p!=null&&p.responseBody&&(p.responseBody=gO(p.responseBody,p.responseHeaders,i,"Response")),p)),d=p=>{return u(((w,A)=>{var N,O=Ol(w.name),U=A.indexOf("http")===0?(N=Ol(A))==null?void 0:N.pathname:A;U==="/"&&(U="");var q=O?.pathname.replace(U||"","");if(!(O&&q&&J8.some(Ee=>q.indexOf(Ee)===0)))return w})((v=(m=p).requestHeaders,He(v)||Qe(Object.keys(v??{}),w=>{Y8.includes(w.toLowerCase())&&(v[w]=gI)}),m),n.api_host));var m,v},f=cr(n.session_recording.maskNetworkRequestFn);return f&&cr(n.session_recording.maskCapturedNetworkRequestFn)&&re.warn("Both `maskNetworkRequestFn` and `maskCapturedNetworkRequestFn` are defined. `maskNetworkRequestFn` will be ignored."),f&&(n.session_recording.maskCapturedNetworkRequestFn=p=>{var m=n.session_recording.maskNetworkRequestFn({url:p.name});return Y({},p,{name:m?.url})}),o.maskRequestFn=cr(n.session_recording.maskCapturedNetworkRequestFn)?p=>{var m,v=d(p);return v&&(m=n.session_recording.maskCapturedNetworkRequestFn==null?void 0:n.session_recording.maskCapturedNetworkRequestFn(v))!==null&&m!==void 0?m:void 0}:p=>function(m){if(!G(m))return m.requestBody=mO(m.requestBody,"Request"),m.responseBody=mO(m.responseBody,"Response"),m}(d(p)),Y({},Dm,o,{recordHeaders:s,recordBody:a,recordPerformance:l,recordInitialRequests:l})},mI=class{constructor(e,t){var r,i;t===void 0&&(t={}),this.bt={},this.yt=o=>{if(!this.bt[o]){var s,a;this.bt[o]=!0;var l=this.wt(o);(s=(a=this.et).onBlockedNode)==null||s.call(a,o,l)}},this.St=o=>{var s=this.wt(o);if(s?.nodeName!=="svg"&&s instanceof Element){var a=s.closest("svg");if(a)return[this._rrweb.mirror.getId(a),a]}return[o,s]},this.wt=o=>this._rrweb.mirror.getNode(o),this.$t=o=>{var s,a,l,u,d,f,p,m;return((s=(a=o.removes)==null?void 0:a.length)!==null&&s!==void 0?s:0)+((l=(u=o.attributes)==null?void 0:u.length)!==null&&l!==void 0?l:0)+((d=(f=o.texts)==null?void 0:f.length)!==null&&d!==void 0?d:0)+((p=(m=o.adds)==null?void 0:m.length)!==null&&p!==void 0?p:0)},this.throttleMutations=o=>{if(o.type!==3||o.data.source!==0)return o;var s=o.data,a=this.$t(s);s.attributes&&(s.attributes=s.attributes.filter(u=>{var[d]=this.St(u.id);return!this.vt.consumeRateLimit(d)&&u}));var l=this.$t(s);return l!==0||a===l?o:void 0},this._rrweb=e,this.et=t,this.vt=new $m({bucketSize:(r=this.et.bucketSize)!==null&&r!==void 0?r:100,refillRate:(i=this.et.refillRate)!==null&&i!==void 0?i:10,refillInterval:1e3,it:this.yt})}},ur=Uint8Array,gn=Uint16Array,Fl=Uint32Array,oD=new ur([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),sD=new ur([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),yO=new ur([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),pF=function(n,e){for(var t=new gn(31),r=0;r<31;++r)t[r]=e+=1<<n[r-1];var i=new Fl(t[30]);for(r=1;r<30;++r)for(var o=t[r];o<t[r+1];++o)i[o]=o-t[r]<<5|r;return[t,i]},gF=pF(oD,2),eq=gF[0],yI=gF[1];eq[28]=258,yI[258]=28;for(vI=pF(sD,0)[1],Hm=new gn(32768),Ye=0;Ye<32768;++Ye)Io=(43690&Ye)>>>1|(21845&Ye)<<1,Io=(61680&(Io=(52428&Io)>>>2|(13107&Io)<<2))>>>4|(3855&Io)<<4,Hm[Ye]=((65280&Io)>>>8|(255&Io)<<8)>>>1;var Io,vI,Hm,Ye,Dd=function(n,e,t){for(var r=n.length,i=0,o=new gn(e);i<r;++i)++o[n[i]-1];var s,a=new gn(e);for(i=0;i<e;++i)a[i]=a[i-1]+o[i-1]<<1;if(t){s=new gn(1<<e);var l=15-e;for(i=0;i<r;++i)if(n[i])for(var u=i<<4|n[i],d=e-n[i],f=a[n[i]-1]++<<d,p=f|(1<<d)-1;f<=p;++f)s[Hm[f]>>>l]=u}else for(s=new gn(r),i=0;i<r;++i)s[i]=Hm[a[n[i]-1]++]>>>15-n[i];return s},Vs=new ur(288);for(Ye=0;Ye<144;++Ye)Vs[Ye]=8;for(Ye=144;Ye<256;++Ye)Vs[Ye]=9;for(Ye=256;Ye<280;++Ye)Vs[Ye]=7;for(Ye=280;Ye<288;++Ye)Vs[Ye]=8;var qm=new ur(32);for(Ye=0;Ye<32;++Ye)qm[Ye]=5;var tq=Dd(Vs,9,0),nq=Dd(qm,5,0),mF=function(n){return(n/8>>0)+(7&n&&1)},yF=function(n,e,t){(t==null||t>n.length)&&(t=n.length);var r=new(n instanceof gn?gn:n instanceof Fl?Fl:ur)(t-e);return r.set(n.subarray(e,t)),r},Li=function(n,e,t){t<<=7&e;var r=e/8>>0;n[r]|=t,n[r+1]|=t>>>8},pd=function(n,e,t){t<<=7&e;var r=e/8>>0;n[r]|=t,n[r+1]|=t>>>8,n[r+2]|=t>>>16},LC=function(n,e){for(var t=[],r=0;r<n.length;++r)n[r]&&t.push({s:r,f:n[r]});var i=t.length,o=t.slice();if(!i)return[new ur(0),0];if(i==1){var s=new ur(t[0].s+1);return s[t[0].s]=1,[s,1]}t.sort(function(Ee,ae){return Ee.f-ae.f}),t.push({s:-1,f:25001});var a=t[0],l=t[1],u=0,d=1,f=2;for(t[0]={s:-1,f:a.f+l.f,l:a,r:l};d!=i-1;)a=t[t[u].f<t[f].f?u++:f++],l=t[u!=d&&t[u].f<t[f].f?u++:f++],t[d++]={s:-1,f:a.f+l.f,l:a,r:l};var p=o[0].s;for(r=1;r<i;++r)o[r].s>p&&(p=o[r].s);var m=new gn(p+1),v=_I(t[d-1],m,0);if(v>e){r=0;var w=0,A=v-e,N=1<<A;for(o.sort(function(Ee,ae){return m[ae.s]-m[Ee.s]||Ee.f-ae.f});r<i;++r){var O=o[r].s;if(!(m[O]>e))break;w+=N-(1<<v-m[O]),m[O]=e}for(w>>>=A;w>0;){var U=o[r].s;m[U]<e?w-=1<<e-m[U]++-1:++r}for(;r>=0&&w;--r){var q=o[r].s;m[q]==e&&(--m[q],++w)}v=e}return[new ur(m),v]},_I=function(n,e,t){return n.s==-1?Math.max(_I(n.l,e,t+1),_I(n.r,e,t+1)):e[n.s]=t},vO=function(n){for(var e=n.length;e&&!n[--e];);for(var t=new gn(++e),r=0,i=n[0],o=1,s=function(l){t[r++]=l},a=1;a<=e;++a)if(n[a]==i&&a!=e)++o;else{if(!i&&o>2){for(;o>138;o-=138)s(32754);o>2&&(s(o>10?o-11<<5|28690:o-3<<5|12305),o=0)}else if(o>3){for(s(i),--o;o>6;o-=6)s(8304);o>2&&(s(o-3<<5|8208),o=0)}for(;o--;)s(i);o=1,i=n[a]}return[t.subarray(0,r),e]},gd=function(n,e){for(var t=0,r=0;r<e.length;++r)t+=n[r]*e[r];return t},wI=function(n,e,t){var r=t.length,i=mF(e+2);n[i]=255&r,n[i+1]=r>>>8,n[i+2]=255^n[i],n[i+3]=255^n[i+1];for(var o=0;o<r;++o)n[i+o+4]=t[o];return 8*(i+4+r)},_O=function(n,e,t,r,i,o,s,a,l,u,d){Li(e,d++,t),++i[256];for(var f=LC(i,15),p=f[0],m=f[1],v=LC(o,15),w=v[0],A=v[1],N=vO(p),O=N[0],U=N[1],q=vO(w),Ee=q[0],ae=q[1],D=new gn(19),_=0;_<O.length;++_)D[31&O[_]]++;for(_=0;_<Ee.length;++_)D[31&Ee[_]]++;for(var E=LC(D,7),S=E[0],M=E[1],x=19;x>4&&!S[yO[x-1]];--x);var b,at,Mt,W,Z=u+5<<3,te=gd(i,Vs)+gd(o,qm)+s,ce=gd(i,p)+gd(o,w)+s+14+3*x+gd(D,S)+(2*D[16]+3*D[17]+7*D[18]);if(Z<=te&&Z<=ce)return wI(e,d,n.subarray(l,l+u));if(Li(e,d,1+(ce<te)),d+=2,ce<te){b=Dd(p,m,0),at=p,Mt=Dd(w,A,0),W=w;var qe=Dd(S,M,0);for(Li(e,d,U-257),Li(e,d+5,ae-1),Li(e,d+10,x-4),d+=14,_=0;_<x;++_)Li(e,d+3*_,S[yO[_]]);d+=3*x;for(var xt=[O,Ee],Ce=0;Ce<2;++Ce){var Ie=xt[Ce];for(_=0;_<Ie.length;++_){var be=31&Ie[_];Li(e,d,qe[be]),d+=S[be],be>15&&(Li(e,d,Ie[_]>>>5&127),d+=Ie[_]>>>12)}}}else b=tq,at=Vs,Mt=nq,W=qm;for(_=0;_<a;++_)if(r[_]>255){be=r[_]>>>18&31,pd(e,d,b[be+257]),d+=at[be+257],be>7&&(Li(e,d,r[_]>>>23&31),d+=oD[be]);var ln=31&r[_];pd(e,d,Mt[ln]),d+=W[ln],ln>3&&(pd(e,d,r[_]>>>5&8191),d+=sD[ln])}else pd(e,d,b[r[_]]),d+=at[r[_]];return pd(e,d,b[256]),d+at[256]},rq=new Fl([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),iq=function(){for(var n=new Fl(256),e=0;e<256;++e){for(var t=e,r=9;--r;)t=(1&t&&3988292384)^t>>>1;n[e]=t}return n}(),oq=function(){var n=4294967295;return{p:function(e){for(var t=n,r=0;r<e.length;++r)t=iq[255&t^e[r]]^t>>>8;n=t},d:function(){return 4294967295^n}}},sq=function(n,e,t,r,i){return function(o,s,a,l,u,d){var f=o.length,p=new ur(l+f+5*(1+Math.floor(f/7e3))+u),m=p.subarray(l,p.length-u),v=0;if(!s||f<8)for(var w=0;w<=f;w+=65535){var A=w+65535;A<f?v=wI(m,v,o.subarray(w,A)):(m[w]=d,v=wI(m,v,o.subarray(w,f)))}else{for(var N=rq[s-1],O=N>>>13,U=8191&N,q=(1<<a)-1,Ee=new gn(32768),ae=new gn(q+1),D=Math.ceil(a/3),_=2*D,E=function(Hs){return(o[Hs]^o[Hs+1]<<D^o[Hs+2]<<_)&q},S=new Fl(25e3),M=new gn(288),x=new gn(32),b=0,at=0,Mt=(w=0,0),W=0,Z=0;w<f;++w){var te=E(w),ce=32767&w,qe=ae[te];if(Ee[ce]=qe,ae[te]=ce,W<=w){var xt=f-w;if((b>7e3||Mt>24576)&&xt>423){v=_O(o,m,0,S,M,x,at,Mt,Z,w-Z,v),Mt=b=at=0,Z=w;for(var Ce=0;Ce<286;++Ce)M[Ce]=0;for(Ce=0;Ce<30;++Ce)x[Ce]=0}var Ie=2,be=0,ln=U,Gn=ce-qe&32767;if(xt>2&&te==E(w-Gn))for(var et=Math.min(O,xt)-1,hr=Math.min(32767,w),Yt=Math.min(258,xt);Gn<=hr&&--ln&&ce!=qe;){if(o[w+Ie]==o[w+Ie-Gn]){for(var Lt=0;Lt<Yt&&o[w+Lt]==o[w+Lt-Gn];++Lt);if(Lt>Ie){if(Ie=Lt,be=Gn,Lt>et)break;var Nr=Math.min(Gn,Lt-2),Bs=0;for(Ce=0;Ce<Nr;++Ce){var Po=w-Gn+Ce+32768&32767,$s=Po-Ee[Po]+32768&32767;$s>Bs&&(Bs=$s,qe=Po)}}}Gn+=(ce=qe)-(qe=Ee[ce])+32768&32767}if(be){S[Mt++]=268435456|yI[Ie]<<18|vI[be];var zs=31&yI[Ie],jl=31&vI[be];at+=oD[zs]+sD[jl],++M[257+zs],++x[jl],W=w+Ie,++b}else S[Mt++]=o[w],++M[o[w]]}}v=_O(o,m,d,S,M,x,at,Mt,Z,w-Z,v)}return yF(p,0,l+mF(v)+u)}(n,e.level==null?6:e.level,e.mem==null?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(n.length)))):12+e.mem,t,r,!i)},EI=function(n,e,t){for(;t;++e)n[e]=t,t>>>=8},aq=function(n,e){var t=e.filename;if(n[0]=31,n[1]=139,n[2]=8,n[8]=e.level<2?4:e.level==9?2:0,n[9]=3,e.mtime!=0&&EI(n,4,Math.floor(new Date(e.mtime||Date.now())/1e3)),t){n[3]=8;for(var r=0;r<=t.length;++r)n[r+10]=t.charCodeAt(r)}},lq=function(n){return 10+(n.filename&&n.filename.length+1||0)};function vF(n,e){e===void 0&&(e={});var t=oq(),r=n.length;t.p(n);var i=sq(n,e,lq(e),8),o=i.length;return aq(i,e),EI(i,o-8,t.d()),EI(i,o-4,r),i}function _F(n,e){var t=n.length;if(typeof TextEncoder<"u")return new TextEncoder().encode(n);for(var r=new ur(n.length+(n.length>>>1)),i=0,o=function(u){r[i++]=u},s=0;s<t;++s){if(i+5>r.length){var a=new ur(i+8+(t-s<<1));a.set(r),r=a}var l=n.charCodeAt(s);l<128||e?o(l):l<2048?(o(192|l>>>6),o(128|63&l)):l>55295&&l<57344?(o(240|(l=65536+(1047552&l)|1023&n.charCodeAt(++s))>>>18),o(128|l>>>12&63),o(128|l>>>6&63),o(128|63&l)):(o(224|l>>>12),o(128|l>>>6&63),o(128|63&l))}return yF(r,0,i)}function cq(n,e){return function(t){for(var r=0,i=0;i<t.length;i++)r=(r<<5)-r+t.charCodeAt(i),r|=0;return Math.abs(r)}(n)%100<qn(100*e,0,100)}var Ro="disabled",aD="sampled",Gm="active",js="buffering",lD="paused",cD="trigger",ri=cD+"_activated",an=cD+"_pending",ii=cD+"_"+Ro;function wO(n,e){return e.some(t=>t.matching==="regex"&&new RegExp(t.url).test(n))}var Wm=class{constructor(e){this.kt=e}triggerStatus(e){var t=this.kt.map(r=>r.triggerStatus(e));return t.includes(ri)?ri:t.includes(an)?an:ii}stop(){this.kt.forEach(e=>e.stop())}},Km=class{constructor(e){this.kt=e}triggerStatus(e){var t=new Set;for(var r of this.kt)t.add(r.triggerStatus(e));switch(t.delete(ii),t.size){case 0:return ii;case 1:return Array.from(t)[0];default:return an}}stop(){this.kt.forEach(e=>e.stop())}},bI=class{triggerStatus(){return an}stop(){}},CI=class{constructor(e){this.xt=[],this.Et=[],this.urlBlocked=!1,this._instance=e}onRemoteConfig(e){var t,r;this.xt=((t=e.sessionRecording)==null?void 0:t.urlTriggers)||[],this.Et=((r=e.sessionRecording)==null?void 0:r.urlBlocklist)||[]}It(e){var t;return this.xt.length===0?ii:((t=this._instance)==null?void 0:t.get_property(YC))===e?ri:an}triggerStatus(e){var t=this.It(e),r=t===ri?ri:t===an?an:ii;return this._instance.register_for_session({$sdk_debug_replay_url_trigger_status:r}),r}checkUrlTriggerConditions(e,t,r){if(P!==void 0&&P.location.href){var i=P.location.href,o=this.urlBlocked,s=wO(i,this.Et);o&&s||(s&&!o?e():!s&&o&&t(),wO(i,this.xt)&&r("url"))}}stop(){}},II=class{constructor(e){this.linkedFlag=null,this.linkedFlagSeen=!1,this.Pt=()=>{},this._instance=e}triggerStatus(){var e=an;return He(this.linkedFlag)&&(e=ii),this.linkedFlagSeen&&(e=ri),this._instance.register_for_session({$sdk_debug_replay_linked_flag_trigger_status:e}),e}onRemoteConfig(e,t){var r;if(this.linkedFlag=((r=e.sessionRecording)==null?void 0:r.linkedFlag)||null,!He(this.linkedFlag)&&!this.linkedFlagSeen){var i=gt(this.linkedFlag)?this.linkedFlag:this.linkedFlag.flag,o=gt(this.linkedFlag)?null:this.linkedFlag.variant;this.Pt=this._instance.onFeatureFlags((s,a)=>{var l=!1;if(pt(a)&&i in a){var u=a[i];l=ti(u)?u===!0:o?u===o:!!u}this.linkedFlagSeen=l,l&&t(i,o)})}}stop(){this.Pt()}},DI=class{constructor(e){this.Rt=[],this._instance=e}onRemoteConfig(e){var t;this.Rt=((t=e.sessionRecording)==null?void 0:t.eventTriggers)||[]}Tt(e){var t;return this.Rt.length===0?ii:((t=this._instance)==null?void 0:t.get_property(ZC))===e?ri:an}triggerStatus(e){var t=this.Tt(e),r=t===ri?ri:t===an?an:ii;return this._instance.register_for_session({$sdk_debug_replay_event_trigger_status:r}),r}stop(){}};function uq(n){return n.isRecordingEnabled?js:Ro}function dq(n){if(!n.receivedDecide)return js;if(!n.isRecordingEnabled)return Ro;if(n.urlTriggerMatching.urlBlocked)return lD;var e=n.isSampled===!0,t=new Wm([n.eventTriggerMatching,n.urlTriggerMatching,n.linkedFlagMatching]).triggerStatus(n.sessionId);return e?aD:t===ri?Gm:t===an?js:n.isSampled===!1?Ro:Gm}function hq(n){if(!n.receivedDecide)return js;if(!n.isRecordingEnabled)return Ro;if(n.urlTriggerMatching.urlBlocked)return lD;var e=new Km([n.eventTriggerMatching,n.urlTriggerMatching,n.linkedFlagMatching]).triggerStatus(n.sessionId),t=e!==ii,r=ti(n.isSampled);return t&&e===an?js:t&&e===ii||r&&!n.isSampled?Ro:n.isSampled===!0?aD:Gm}var Ed="[SessionRecording]",on=Qt(Ed);function Sm(){var n;return we==null||(n=we.__PosthogExtensions__)==null||(n=n.rrweb)==null?void 0:n.record}var fq=3e5,pq=[Rr.MouseMove,Rr.MouseInteraction,Rr.Scroll,Rr.ViewportResize,Rr.Input,Rr.TouchMove,Rr.MediaInteraction,Rr.Drag],EO=n=>({rrwebMethod:n,enqueuedAt:Date.now(),attempt:1});function Os(n){return function(e,t){for(var r="",i=0;i<e.length;){var o=e[i++];o<128||t?r+=String.fromCharCode(o):o<224?r+=String.fromCharCode((31&o)<<6|63&e[i++]):o<240?r+=String.fromCharCode((15&o)<<12|(63&e[i++])<<6|63&e[i++]):(o=((15&o)<<18|(63&e[i++])<<12|(63&e[i++])<<6|63&e[i++])-65536,r+=String.fromCharCode(55296|o>>10,56320|1023&o))}return r}(vF(_F(JSON.stringify(n))),!0)}function bO(n){return n.type===ji.Custom&&n.data.tag==="sessionIdle"}var SI=class{get sessionId(){return this.Mt}get Ct(){return this._instance.config.session_recording.session_idle_threshold_ms||3e5}get started(){return this.Ot}get Ft(){if(!this._instance.sessionManager)throw new Error(Ed+" must be started with a valid sessionManager.");return this._instance.sessionManager}get At(){var e,t;return this.Dt.triggerStatus(this.sessionId)===an?6e4:(e=(t=this._instance.config.session_recording)==null?void 0:t.full_snapshot_interval_millis)!==null&&e!==void 0?e:fq}get Lt(){var e=this._instance.get_property(_d);return ti(e)?e:null}get Nt(){var e,t,r=(e=this.M)==null?void 0:e.data[((t=this.M)==null?void 0:t.data.length)-1],{sessionStartTimestamp:i}=this.Ft.checkAndGetSessionAndWindowId(!0);return r?r.timestamp-i:null}get jt(){var e=!!this._instance.get_property(QC),t=!this._instance.config.disable_session_recording;return P&&e&&t}get zt(){var e=!!this._instance.get_property(Yk),t=this._instance.config.enable_recording_console_log;return t??e}get Ut(){var e,t,r,i,o,s,a=this._instance.config.session_recording.captureCanvas,l=this._instance.get_property(Xk),u=(e=(t=a?.recordCanvas)!==null&&t!==void 0?t:l?.enabled)!==null&&e!==void 0&&e,d=(r=(i=a?.canvasFps)!==null&&i!==void 0?i:l?.fps)!==null&&r!==void 0?r:4,f=(o=(s=a?.canvasQuality)!==null&&s!==void 0?s:l?.quality)!==null&&o!==void 0?o:.4;if(typeof f=="string"){var p=parseFloat(f);f=isNaN(p)?.4:p}return{enabled:u,fps:qn(d,0,12,"canvas recording fps",4),quality:qn(f,0,1,"canvas recording quality",.4)}}get qt(){var e,t,r=this._instance.get_property(Zk),i={recordHeaders:(e=this._instance.config.session_recording)==null?void 0:e.recordHeaders,recordBody:(t=this._instance.config.session_recording)==null?void 0:t.recordBody},o=i?.recordHeaders||r?.recordHeaders,s=i?.recordBody||r?.recordBody,a=pt(this._instance.config.capture_performance)?this._instance.config.capture_performance.network_timing:this._instance.config.capture_performance,l=!!(ti(a)?a:r?.capturePerformance);return o||s||l?{recordHeaders:o,recordBody:s,recordPerformance:l}:void 0}get Bt(){var e,t,r,i,o,s,a=this._instance.get_property(Jk),l={maskAllInputs:(e=this._instance.config.session_recording)==null?void 0:e.maskAllInputs,maskTextSelector:(t=this._instance.config.session_recording)==null?void 0:t.maskTextSelector,blockSelector:(r=this._instance.config.session_recording)==null?void 0:r.blockSelector},u=(i=l?.maskAllInputs)!==null&&i!==void 0?i:a?.maskAllInputs,d=(o=l?.maskTextSelector)!==null&&o!==void 0?o:a?.maskTextSelector,f=(s=l?.blockSelector)!==null&&s!==void 0?s:a?.blockSelector;return G(u)&&G(d)&&G(f)?void 0:{maskAllInputs:u==null||u,maskTextSelector:d,blockSelector:f}}get Ht(){var e=this._instance.get_property(eO);return sn(e)?e:null}get Wt(){var e=this._instance.get_property(tO);return sn(e)?e:null}get status(){return this.Gt?this.Jt({receivedDecide:this.Gt,isRecordingEnabled:this.jt,isSampled:this.Lt,urlTriggerMatching:this.Vt,eventTriggerMatching:this.Kt,linkedFlagMatching:this.Yt,sessionId:this.sessionId}):js}constructor(e){if(this.Jt=uq,this.Gt=!1,this.Xt=[],this.Qt="unknown",this.Zt=Date.now(),this.Dt=new bI,this.ti=void 0,this.ii=void 0,this.ei=void 0,this.ri=void 0,this.si=void 0,this._forceAllowLocalhostNetworkCapture=!1,this.ni=()=>{this.oi()},this.ai=()=>{this.li("browser offline",{})},this.ui=()=>{this.li("browser online",{})},this.hi=()=>{if(J!=null&&J.visibilityState){var i="window "+J.visibilityState;this.li(i,{})}},this._instance=e,this.Ot=!1,this.di="/s/",this.vi=void 0,this.Gt=!1,!this._instance.sessionManager)throw on.error("started without valid sessionManager"),new Error(Ed+" started without valid sessionManager. This is a bug.");if(this._instance.config.__preview_experimental_cookieless_mode)throw new Error(Ed+" cannot be used with __preview_experimental_cookieless_mode.");this.Yt=new II(this._instance),this.Vt=new CI(this._instance),this.Kt=new DI(this._instance);var{sessionId:t,windowId:r}=this.Ft.checkAndGetSessionAndWindowId();this.Mt=t,this.ci=r,this.M=this.fi(),this.Ct>=this.Ft.sessionTimeoutMs&&on.warn("session_idle_threshold_ms ("+this.Ct+") is greater than the session timeout ("+this.Ft.sessionTimeoutMs+"). Session will never be detected as idle")}startIfEnabledOrStop(e){this.jt?(this.pi(e),ut(P,"beforeunload",this.ni),ut(P,"offline",this.ai),ut(P,"online",this.ui),ut(P,"visibilitychange",this.hi),this.gi(),this.mi(),He(this.ti)&&(this.ti=this._instance.on("eventCaptured",t=>{try{if(t.event==="$pageview"){var r=t!=null&&t.properties.$current_url?this.bi(t?.properties.$current_url):"";if(!r)return;this.li("$pageview",{href:r})}}catch(i){on.error("Could not add $pageview to rrweb session",i)}})),this.ii||(this.ii=this.Ft.onSessionId((t,r,i)=>{var o,s;i&&(this.li("$session_id_change",{sessionId:t,windowId:r,changeReason:i}),(o=this._instance)==null||(o=o.persistence)==null||o.unregister(ZC),(s=this._instance)==null||(s=s.persistence)==null||s.unregister(YC))}))):this.stopRecording()}stopRecording(){var e,t,r,i;this.Ot&&this.vi&&(this.vi(),this.vi=void 0,this.Ot=!1,P?.removeEventListener("beforeunload",this.ni),P?.removeEventListener("offline",this.ai),P?.removeEventListener("online",this.ui),P?.removeEventListener("visibilitychange",this.hi),this.fi(),clearInterval(this.yi),(e=this.ti)==null||e.call(this),this.ti=void 0,(t=this.si)==null||t.call(this),this.si=void 0,(r=this.ii)==null||r.call(this),this.ii=void 0,(i=this.ri)==null||i.call(this),this.ri=void 0,this.Kt.stop(),this.Vt.stop(),this.Yt.stop(),on.info("stopped"))}wi(){var e;(e=this._instance.persistence)==null||e.unregister(_d)}Si(e){var t,r=this.Mt!==e,i=this.Ht;if(sn(i)){var o=this.Lt,s=r||!ti(o),a=s?cq(e,i):o;s&&(a?this.$i(aD):on.warn("Sample rate ("+i+") has determined that this sessionId ("+e+") will not be sent to the server."),this.li("samplingDecisionMade",{sampleRate:i,isSampled:a})),(t=this._instance.persistence)==null||t.register({[_d]:a})}else this.wi()}onRemoteConfig(e){var t,r,i,o;this.li("$remote_config_received",e),this.ki(e),(t=e.sessionRecording)!=null&&t.endpoint&&(this.di=(o=e.sessionRecording)==null?void 0:o.endpoint),this.gi(),((r=e.sessionRecording)==null?void 0:r.triggerMatchType)==="any"?(this.Jt=dq,this.Dt=new Wm([this.Kt,this.Vt])):(this.Jt=hq,this.Dt=new Km([this.Kt,this.Vt])),this._instance.register_for_session({$sdk_debug_replay_remote_trigger_matching_config:(i=e.sessionRecording)==null?void 0:i.triggerMatchType}),this.Vt.onRemoteConfig(e),this.Kt.onRemoteConfig(e),this.Yt.onRemoteConfig(e,(s,a)=>{this.$i("linked_flag_matched",{flag:s,variant:a})}),this.Gt=!0,this.startIfEnabledOrStop()}gi(){sn(this.Ht)&&He(this.ri)&&(this.ri=this.Ft.onSessionId(e=>{this.Si(e)}))}ki(e){if(this._instance.persistence){var t,r=this._instance.persistence,i=()=>{var o,s,a,l,u,d,f,p,m,v=(o=e.sessionRecording)==null?void 0:o.sampleRate,w=He(v)?null:parseFloat(v);He(w)&&this.wi();var A=(s=e.sessionRecording)==null?void 0:s.minimumDurationMilliseconds;r.register({[QC]:!!e.sessionRecording,[Yk]:(a=e.sessionRecording)==null?void 0:a.consoleLogRecordingEnabled,[Zk]:Y({capturePerformance:e.capturePerformance},(l=e.sessionRecording)==null?void 0:l.networkPayloadCapture),[Jk]:(u=e.sessionRecording)==null?void 0:u.masking,[Xk]:{enabled:(d=e.sessionRecording)==null?void 0:d.recordCanvas,fps:(f=e.sessionRecording)==null?void 0:f.canvasFps,quality:(p=e.sessionRecording)==null?void 0:p.canvasQuality},[eO]:w,[tO]:G(A)?null:A,[nO]:(m=e.sessionRecording)==null?void 0:m.scriptConfig})};i(),(t=this.ei)==null||t.call(this),this.ei=this.Ft.onSessionId(i)}}log(e,t){var r;t===void 0&&(t="log"),(r=this._instance.sessionRecording)==null||r.onRRwebEmit({type:6,data:{plugin:"rrweb/console@1",payload:{level:t,trace:[],payload:[JSON.stringify(e)]}},timestamp:Date.now()})}pi(e){if(!G(Object.assign)&&!G(Array.from)&&!(this.Ot||this._instance.config.disable_session_recording||this._instance.consent.isOptedOut())){var t;this.Ot=!0,this.Ft.checkAndGetSessionAndWindowId(),Sm()?this.xi():(t=we.__PosthogExtensions__)==null||t.loadExternalDependency==null||t.loadExternalDependency(this._instance,this.Ei,r=>{if(r)return on.error("could not load recorder",r);this.xi()}),on.info("starting"),this.status===Gm&&this.$i(e||"recording_initialized")}}get Ei(){var e;return((e=this._instance)==null||(e=e.persistence)==null||(e=e.get_property(nO))==null?void 0:e.script)||"recorder"}Ii(e){var t;return e.type===3&&pq.indexOf((t=e.data)==null?void 0:t.source)!==-1}Pi(e){var t=this.Ii(e);t||this.Qt||e.timestamp-this.Zt>this.Ct&&(this.Qt=!0,clearInterval(this.yi),this.li("sessionIdle",{eventTimestamp:e.timestamp,lastActivityTimestamp:this.Zt,threshold:this.Ct,bufferLength:this.M.data.length,bufferSize:this.M.size}),this.oi());var r=!1;if(t&&(this.Zt=e.timestamp,this.Qt)){var i=this.Qt==="unknown";this.Qt=!1,i||(this.li("sessionNoLongerIdle",{reason:"user activity",type:e.type}),r=!0)}if(!this.Qt){var{windowId:o,sessionId:s}=this.Ft.checkAndGetSessionAndWindowId(!t,e.timestamp),a=this.Mt!==s,l=this.ci!==o;this.ci=o,this.Mt=s,a||l?(this.stopRecording(),this.startIfEnabledOrStop("session_id_changed")):r&&this.Ri()}}Ti(e){try{return e.rrwebMethod(),!0}catch(t){return this.Xt.length<10?this.Xt.push({enqueuedAt:e.enqueuedAt||Date.now(),attempt:e.attempt++,rrwebMethod:e.rrwebMethod}):on.warn("could not emit queued rrweb event.",t,e),!1}}li(e,t){return this.Ti(EO(()=>Sm().addCustomEvent(e,t)))}Mi(){return this.Ti(EO(()=>Sm().takeFullSnapshot()))}xi(){var e,t,r,i,o={blockClass:"ph-no-capture",blockSelector:void 0,ignoreClass:"ph-ignore-input",maskTextClass:"ph-mask",maskTextSelector:void 0,maskTextFn:void 0,maskAllInputs:!0,maskInputOptions:{password:!0},maskInputFn:void 0,slimDOMOptions:{},collectFonts:!1,inlineStylesheet:!0,recordCrossOriginIframes:!1},s=this._instance.config.session_recording;for(var[a,l]of Object.entries(s||{}))a in o&&(a==="maskInputOptions"?o.maskInputOptions=Y({password:!0},l):o[a]=l);this.Ut&&this.Ut.enabled&&(o.recordCanvas=!0,o.sampling={canvas:this.Ut.fps},o.dataURLOptions={type:"image/webp",quality:this.Ut.quality}),this.Bt&&(o.maskAllInputs=(t=this.Bt.maskAllInputs)===null||t===void 0||t,o.maskTextSelector=(r=this.Bt.maskTextSelector)!==null&&r!==void 0?r:void 0,o.blockSelector=(i=this.Bt.blockSelector)!==null&&i!==void 0?i:void 0);var u=Sm();if(u){this.Ci=(e=this.Ci)!==null&&e!==void 0?e:new mI(u,{refillRate:this._instance.config.session_recording.__mutationThrottlerRefillRate,bucketSize:this._instance.config.session_recording.__mutationThrottlerBucketSize,onBlockedNode:(f,p)=>{var m="Too many mutations on node '"+f+"'. Rate limiting. This could be due to SVG animations or something similar";on.info(m,{node:p}),this.log(Ed+" "+m,"warn")}});var d=this.Oi();this.vi=u(Y({emit:f=>{this.onRRwebEmit(f)},plugins:d},o)),this.Zt=Date.now(),this.Qt=ti(this.Qt)?this.Qt:"unknown",this.li("$session_options",{sessionRecordingOptions:o,activePlugins:d.map(f=>f?.name)}),this.li("$posthog_config",{config:this._instance.config})}else on.error("onScriptLoaded was called but rrwebRecord is not available. This indicates something has gone wrong.")}Ri(){if(this.yi&&clearInterval(this.yi),this.Qt!==!0){var e=this.At;e&&(this.yi=setInterval(()=>{this.Mi()},e))}}Oi(){var e,t,r=[],i=(e=we.__PosthogExtensions__)==null||(e=e.rrwebPlugins)==null?void 0:e.getRecordConsolePlugin;i&&this.zt&&r.push(i());var o=(t=we.__PosthogExtensions__)==null||(t=t.rrwebPlugins)==null?void 0:t.getRecordNetworkPlugin;return this.qt&&cr(o)&&(!D8.includes(location.hostname)||this._forceAllowLocalhostNetworkCapture?r.push(o(X8(this._instance.config,this.qt))):on.info("NetworkCapture not started because we are on localhost.")),r}onRRwebEmit(e){var t;if(this.Fi(),e&&pt(e)){if(e.type===ji.Meta){var r=this.bi(e.data.href);if(this.Ai=r,!r)return;e.data.href=r}else this.Di();if(this.Vt.checkUrlTriggerConditions(()=>this.Li(),()=>this.Ni(),p=>this.ji(p)),!this.Vt.urlBlocked||(i=e).type===ji.Custom&&i.data.tag==="recording paused"){var i;e.type===ji.FullSnapshot&&this.Ri(),e.type===ji.FullSnapshot&&this.Gt&&this.Dt.triggerStatus(this.sessionId)===an&&this.fi();var o=this.Ci?this.Ci.throttleMutations(e):e;if(o){var s=function(p){var m=p;if(m&&pt(m)&&m.type===6&&pt(m.data)&&m.data.plugin==="rrweb/console@1"){m.data.payload.payload.length>10&&(m.data.payload.payload=m.data.payload.payload.slice(0,10),m.data.payload.payload.push("...[truncated]"));for(var v=[],w=0;w<m.data.payload.payload.length;w++)m.data.payload.payload[w]&&m.data.payload.payload[w].length>2e3?v.push(m.data.payload.payload[w].slice(0,2e3)+"...[truncated]"):v.push(m.data.payload.payload[w]);return m.data.payload.payload=v,p}return p}(o);if(this.Pi(s),this.Qt!==!0||bO(s)){if(bO(s)){var a=s.data.payload;if(a){var l=a.lastActivityTimestamp,u=a.threshold;s.timestamp=l+u}}var d=(t=this._instance.config.session_recording.compress_events)===null||t===void 0||t?function(p){if(zm(p)<1024)return p;try{if(p.type===ji.FullSnapshot)return Y({},p,{data:Os(p.data),cv:"2024-10"});if(p.type===ji.IncrementalSnapshot&&p.data.source===Rr.Mutation)return Y({},p,{cv:"2024-10",data:Y({},p.data,{texts:Os(p.data.texts),attributes:Os(p.data.attributes),removes:Os(p.data.removes),adds:Os(p.data.adds)})});if(p.type===ji.IncrementalSnapshot&&p.data.source===Rr.StyleSheetRule)return Y({},p,{cv:"2024-10",data:Y({},p.data,{adds:p.data.adds?Os(p.data.adds):void 0,removes:p.data.removes?Os(p.data.removes):void 0})})}catch(m){on.error("could not compress event - will use uncompressed event",m)}return p}(s):s,f={$snapshot_bytes:zm(d),$snapshot_data:d,$session_id:this.Mt,$window_id:this.ci};this.status!==Ro?this.zi(f):this.fi()}}}}}Di(){if(!this._instance.config.capture_pageview&&P){var e=this.bi(P.location.href);this.Ai!==e&&(this.li("$url_changed",{href:e}),this.Ai=e)}}Fi(){if(this.Xt.length){var e=[...this.Xt];this.Xt=[],e.forEach(t=>{Date.now()-t.enqueuedAt<=2e3&&this.Ti(t)})}}bi(e){var t=this._instance.config.session_recording;if(t.maskNetworkRequestFn){var r,i={url:e};return(r=i=t.maskNetworkRequestFn(i))==null?void 0:r.url}return e}fi(){return this.M={size:0,data:[],sessionId:this.Mt,windowId:this.ci},this.M}oi(){this.Ui&&(clearTimeout(this.Ui),this.Ui=void 0);var e=this.Wt,t=this.Nt,r=sn(t)&&t>=0,i=sn(e)&&r&&t<e;return this.status===js||this.status===lD||this.status===Ro||i?(this.Ui=setTimeout(()=>{this.oi()},2e3),this.M):(this.M.data.length>0&&fI(this.M).forEach(o=>{this.qi({$snapshot_bytes:o.size,$snapshot_data:o.data,$session_id:o.sessionId,$window_id:o.windowId,$lib:"web",$lib_version:Ui.LIB_VERSION})}),this.fi())}zi(e){var t,r=2+(((t=this.M)==null?void 0:t.data.length)||0);!this.Qt&&(this.M.size+e.$snapshot_bytes+r>943718.4||this.M.sessionId!==this.Mt)&&(this.M=this.oi()),this.M.size+=e.$snapshot_bytes,this.M.data.push(e.$snapshot_data),this.Ui||this.Qt||(this.Ui=setTimeout(()=>{this.oi()},2e3))}qi(e){this._instance.capture("$snapshot",e,{_url:this._instance.requestRouter.endpointFor("api",this.di),_noTruncate:!0,_batchKey:"recordings",skip_client_rate_limiting:!0})}ji(e){var t;this.Dt.triggerStatus(this.sessionId)===an&&((t=this._instance)==null||(t=t.persistence)==null||t.register({[e==="url"?YC:ZC]:this.Mt}),this.oi(),this.$i(e+"_trigger_matched"))}Li(){this.Vt.urlBlocked||(this.Vt.urlBlocked=!0,clearInterval(this.yi),on.info("recording paused due to URL blocker"),this.li("recording paused",{reason:"url blocker"}))}Ni(){this.Vt.urlBlocked&&(this.Vt.urlBlocked=!1,this.Mi(),this.Ri(),this.li("recording resumed",{reason:"left blocked url"}),on.info("recording resumed"))}mi(){this.Kt.Rt.length!==0&&He(this.si)&&(this.si=this._instance.on("eventCaptured",e=>{try{this.Kt.Rt.includes(e.event)&&this.ji("event")}catch(t){on.error("Could not activate event trigger",t)}}))}overrideLinkedFlag(){this.Yt.linkedFlagSeen=!0,this.Mi(),this.$i("linked_flag_overridden")}overrideSampling(){var e;(e=this._instance.persistence)==null||e.register({[_d]:!0}),this.Mi(),this.$i("sampling_overridden")}overrideTrigger(e){this.ji(e)}$i(e,t){this._instance.register_for_session({$session_recording_start_reason:e}),on.info(e.replace("_"," "),t),Me(["recording_initialized","session_id_changed"],e)||this.li(e,t)}get sdkDebugProperties(){var{sessionStartTimestamp:e}=this.Ft.checkAndGetSessionAndWindowId(!0);return{$recording_status:this.status,$sdk_debug_replay_internal_buffer_length:this.M.data.length,$sdk_debug_replay_internal_buffer_size:this.M.size,$sdk_debug_current_session_duration:this.Nt,$sdk_debug_session_start:e}}},VC=Qt("[SegmentIntegration]");function gq(n,e){var t=n.config.segment;if(!t)return e();(function(r,i){var o=r.config.segment;if(!o)return i();var s=l=>{var u=()=>l.anonymousId()||Ao();r.config.get_device_id=u,l.id()&&(r.register({distinct_id:l.id(),$device_id:u()}),r.persistence.set_property(Vi,"identified")),i()},a=o.user();"then"in a&&cr(a.then)?a.then(l=>s(l)):s(a)})(n,()=>{t.register((r=>{Promise&&Promise.resolve||VC.warn("This browser does not have Promise support, and can not use the segment integration");var i=(o,s)=>{if(!s)return o;o.event.userId||o.event.anonymousId===r.get_distinct_id()||(VC.info("No userId set, resetting PostHog"),r.reset()),o.event.userId&&o.event.userId!==r.get_distinct_id()&&(VC.info("UserId set, identifying with PostHog"),r.identify(o.event.userId));var a=r.calculateEventProperties(s,o.event.properties);return o.event.properties=Object.assign({},a,o.event.properties),o};return{name:"PostHog JS",type:"enrichment",version:"1.0.0",isLoaded:()=>!0,load:()=>Promise.resolve(),track:o=>i(o,o.event.event),page:o=>i(o,"$pageview"),identify:o=>i(o,"$identify"),screen:o=>i(o,"$screen")}})(n)).then(()=>{e()})})}var wF="posthog-js";function EF(n,e){var{organization:t,projectId:r,prefix:i,severityAllowList:o=["error"]}=e===void 0?{}:e;return s=>{var a,l,u,d,f;if(!(o==="*"||o.includes(s.level))||!n.__loaded)return s;s.tags||(s.tags={});var p=n.requestRouter.endpointFor("ui","/project/"+n.config.token+"/person/"+n.get_distinct_id());s.tags["PostHog Person URL"]=p,n.sessionRecordingStarted()&&(s.tags["PostHog Recording URL"]=n.get_session_replay_url({withTimestamp:!0}));var m=((a=s.exception)==null?void 0:a.values)||[],v=m.map(A=>Y({},A,{stacktrace:A.stacktrace?Y({},A.stacktrace,{type:"raw",frames:(A.stacktrace.frames||[]).map(N=>Y({},N,{platform:"web:javascript"}))}):void 0})),w={$exception_message:((l=m[0])==null?void 0:l.value)||s.message,$exception_type:(u=m[0])==null?void 0:u.type,$exception_personURL:p,$exception_level:s.level,$exception_list:v,$sentry_event_id:s.event_id,$sentry_exception:s.exception,$sentry_exception_message:((d=m[0])==null?void 0:d.value)||s.message,$sentry_exception_type:(f=m[0])==null?void 0:f.type,$sentry_tags:s.tags};return t&&r&&(w.$sentry_url=(i||"https://sentry.io/organizations/")+t+"/issues/?project="+r+"&query="+s.event_id),n.exceptions.sendExceptionEvent(w),s}}var TI=class{constructor(e,t,r,i,o){this.name=wF,this.setupOnce=function(s){s(EF(e,{organization:t,projectId:r,prefix:i,severityAllowList:o}))}}},mq=P!=null&&P.location?Um(P.location.hash,"__posthog")||Um(location.hash,"state"):null,CO="_postHogToolbarParams",IO=Qt("[Toolbar]"),To=function(n){return n[n.UNINITIALIZED=0]="UNINITIALIZED",n[n.LOADING=1]="LOADING",n[n.LOADED=2]="LOADED",n}(To||{}),AI=class{constructor(e){this.instance=e}Bi(e){we.ph_toolbar_state=e}Hi(){var e;return(e=we.ph_toolbar_state)!==null&&e!==void 0?e:To.UNINITIALIZED}maybeLoadToolbar(e,t,r){if(e===void 0&&(e=void 0),t===void 0&&(t=void 0),r===void 0&&(r=void 0),!P||!J)return!1;e=e??P.location,r=r??P.history;try{if(!t){try{P.localStorage.setItem("test","test"),P.localStorage.removeItem("test")}catch{return!1}t=P?.localStorage}var i,o=mq||Um(e.hash,"__posthog")||Um(e.hash,"state"),s=o?qk(()=>JSON.parse(atob(decodeURIComponent(o))))||qk(()=>JSON.parse(decodeURIComponent(o))):null;return s&&s.action==="ph_authorize"?((i=s).source="url",i&&Object.keys(i).length>0&&(s.desiredHash?e.hash=s.desiredHash:r?r.replaceState(r.state,"",e.pathname+e.search):e.hash="")):((i=JSON.parse(t.getItem(CO)||"{}")).source="localstorage",delete i.userIntent),!(!i.token||this.instance.config.token!==i.token)&&(this.loadToolbar(i),!0)}catch{return!1}}Wi(e){var t=we.ph_load_toolbar||we.ph_load_editor;!He(t)&&cr(t)?t(e,this.instance):IO.warn("No toolbar load function found")}loadToolbar(e){var t=!(J==null||!J.getElementById(JO));if(!P||t)return!1;var r=this.instance.requestRouter.region==="custom"&&this.instance.config.advanced_disable_toolbar_metrics,i=Y({token:this.instance.config.token},e,{apiURL:this.instance.requestRouter.endpointFor("ui")},r?{instrument:!1}:{});if(P.localStorage.setItem(CO,JSON.stringify(Y({},i,{source:void 0}))),this.Hi()===To.LOADED)this.Wi(i);else if(this.Hi()===To.UNINITIALIZED){var o;this.Bi(To.LOADING),(o=we.__PosthogExtensions__)==null||o.loadExternalDependency==null||o.loadExternalDependency(this.instance,"toolbar",s=>{if(s)return IO.error("[Toolbar] Failed to load",s),void this.Bi(To.UNINITIALIZED);this.Bi(To.LOADED),this.Wi(i)}),ut(P,"turbolinks:load",()=>{this.Bi(To.UNINITIALIZED),this.loadToolbar(i)})}return!0}Gi(e){return this.loadToolbar(e)}maybeLoadEditor(e,t,r){return e===void 0&&(e=void 0),t===void 0&&(t=void 0),r===void 0&&(r=void 0),this.maybeLoadToolbar(e,t,r)}},yq=Qt("[TracingHeaders]"),MI=class{constructor(e){this.Ji=void 0,this.Vi=void 0,this.st=()=>{var t,r;G(this.Ji)&&((t=we.__PosthogExtensions__)==null||(t=t.tracingHeadersPatchFns)==null||t._patchXHR(this._instance.sessionManager)),G(this.Vi)&&((r=we.__PosthogExtensions__)==null||(r=r.tracingHeadersPatchFns)==null||r._patchFetch(this._instance.sessionManager))},this._instance=e}G(e){var t,r;(t=we.__PosthogExtensions__)!=null&&t.tracingHeadersPatchFns&&e(),(r=we.__PosthogExtensions__)==null||r.loadExternalDependency==null||r.loadExternalDependency(this._instance,"tracing-headers",i=>{if(i)return yq.error("failed to load script",i);e()})}startIfEnabledOrStop(){var e,t;this._instance.config.__add_tracing_headers?this.G(this.st):((e=this.Ji)==null||e.call(this),(t=this.Vi)==null||t.call(this),this.Ji=void 0,this.Vi=void 0)}},Do=Qt("[Web Vitals]"),DO=9e5,xI=class{constructor(e){var t;this.Ki=!1,this.i=!1,this.M={url:void 0,metrics:[],firstMetricTimestamp:void 0},this.Yi=()=>{clearTimeout(this.Xi),this.M.metrics.length!==0&&(this._instance.capture("$web_vitals",this.M.metrics.reduce((r,i)=>Y({},r,{["$web_vitals_"+i.name+"_event"]:Y({},i),["$web_vitals_"+i.name+"_value"]:i.value}),{})),this.M={url:void 0,metrics:[],firstMetricTimestamp:void 0})},this.Qi=r=>{var i,o=(i=this._instance.sessionManager)==null?void 0:i.checkAndGetSessionAndWindowId(!0);if(G(o))Do.error("Could not read session ID. Dropping metrics!");else{this.M=this.M||{url:void 0,metrics:[],firstMetricTimestamp:void 0};var s=this.Zi();G(s)||(He(r?.name)||He(r?.value)?Do.error("Invalid metric received",r):this.te&&r.value>=this.te?Do.error("Ignoring metric with value >= "+this.te,r):(this.M.url!==s&&(this.Yi(),this.Xi=setTimeout(this.Yi,this.flushToCaptureTimeoutMs)),G(this.M.url)&&(this.M.url=s),this.M.firstMetricTimestamp=G(this.M.firstMetricTimestamp)?Date.now():this.M.firstMetricTimestamp,r.attribution&&r.attribution.interactionTargetElement&&(r.attribution.interactionTargetElement=void 0),this.M.metrics.push(Y({},r,{$current_url:s,$session_id:o.sessionId,$window_id:o.windowId,timestamp:Date.now()})),this.M.metrics.length===this.allowedMetrics.length&&this.Yi()))}},this.st=()=>{var r,i,o,s,a=we.__PosthogExtensions__;G(a)||G(a.postHogWebVitalsCallbacks)||({onLCP:r,onCLS:i,onFCP:o,onINP:s}=a.postHogWebVitalsCallbacks),r&&i&&o&&s?(this.allowedMetrics.indexOf("LCP")>-1&&r(this.Qi.bind(this)),this.allowedMetrics.indexOf("CLS")>-1&&i(this.Qi.bind(this)),this.allowedMetrics.indexOf("FCP")>-1&&o(this.Qi.bind(this)),this.allowedMetrics.indexOf("INP")>-1&&s(this.Qi.bind(this)),this.i=!0):Do.error("web vitals callbacks not loaded - not starting")},this._instance=e,this.Ki=!((t=this._instance.persistence)==null||!t.props[Kk]),this.startIfEnabled()}get allowedMetrics(){var e,t,r=pt(this._instance.config.capture_performance)?(e=this._instance.config.capture_performance)==null?void 0:e.web_vitals_allowed_metrics:void 0;return G(r)?((t=this._instance.persistence)==null?void 0:t.props[Qk])||["CLS","FCP","INP","LCP"]:r}get flushToCaptureTimeoutMs(){return(pt(this._instance.config.capture_performance)?this._instance.config.capture_performance.web_vitals_delayed_flush_ms:void 0)||5e3}get te(){var e=pt(this._instance.config.capture_performance)&&sn(this._instance.config.capture_performance.__web_vitals_max_value)?this._instance.config.capture_performance.__web_vitals_max_value:DO;return 0<e&&e<=6e4?DO:e}get isEnabled(){var e=Tn?.protocol;if(e!=="http:"&&e!=="https:")return Do.info("Web Vitals are disabled on non-http/https protocols"),!1;var t=pt(this._instance.config.capture_performance)?this._instance.config.capture_performance.web_vitals:ti(this._instance.config.capture_performance)?this._instance.config.capture_performance:void 0;return ti(t)?t:this.Ki}startIfEnabled(){this.isEnabled&&!this.i&&(Do.info("enabled, starting..."),this.G(this.st))}onRemoteConfig(e){var t=pt(e.capturePerformance)&&!!e.capturePerformance.web_vitals,r=pt(e.capturePerformance)?e.capturePerformance.web_vitals_allowed_metrics:void 0;this._instance.persistence&&(this._instance.persistence.register({[Kk]:t}),this._instance.persistence.register({[Qk]:r})),this.Ki=t,this.startIfEnabled()}G(e){var t,r;(t=we.__PosthogExtensions__)!=null&&t.postHogWebVitalsCallbacks&&e(),(r=we.__PosthogExtensions__)==null||r.loadExternalDependency==null||r.loadExternalDependency(this._instance,"web-vitals",i=>{i?Do.error("failed to load script",i):e()})}Zi(){var e=P?P.location.href:void 0;return e||Do.error("Could not determine current URL"),e}},vq=Qt("[Heatmaps]");function SO(n){return pt(n)&&"clientX"in n&&"clientY"in n&&sn(n.clientX)&&sn(n.clientY)}var RI=class{constructor(e){var t;this.rageclicks=new Vm,this.Ki=!1,this.i=!1,this.ie=null,this.instance=e,this.Ki=!((t=this.instance.persistence)==null||!t.props[WC])}get flushIntervalMilliseconds(){var e=5e3;return pt(this.instance.config.capture_heatmaps)&&this.instance.config.capture_heatmaps.flush_interval_milliseconds&&(e=this.instance.config.capture_heatmaps.flush_interval_milliseconds),e}get isEnabled(){return G(this.instance.config.capture_heatmaps)?G(this.instance.config.enable_heatmaps)?this.Ki:this.instance.config.enable_heatmaps:this.instance.config.capture_heatmaps!==!1}startIfEnabled(){if(this.isEnabled){if(this.i)return;vq.info("starting..."),this.ee(),this.ie=setInterval(this.re.bind(this),this.flushIntervalMilliseconds)}else{var e,t;clearInterval((e=this.ie)!==null&&e!==void 0?e:void 0),(t=this.se)==null||t.stop(),this.getAndClearBuffer()}}onRemoteConfig(e){var t=!!e.heatmaps;this.instance.persistence&&this.instance.persistence.register({[WC]:t}),this.Ki=t,this.startIfEnabled()}getAndClearBuffer(){var e=this.M;return this.M=void 0,e}ne(e){this.oe(e.originalEvent,"deadclick")}ee(){P&&J&&(ut(P,"beforeunload",this.re.bind(this)),ut(J,"click",e=>this.oe(e||P?.event),{capture:!0}),ut(J,"mousemove",e=>this.ae(e||P?.event),{capture:!0}),this.se=new Bm(this.instance,O8,this.ne.bind(this)),this.se.startIfEnabled(),this.i=!0)}le(e,t){var r=this.instance.scrollManager.scrollY(),i=this.instance.scrollManager.scrollX(),o=this.instance.scrollManager.scrollElement(),s=function(a,l,u){for(var d=a;d&&ny(d)&&!xo(d,"body");){if(d===u)return!1;if(Me(l,P?.getComputedStyle(d).position))return!0;d=rF(d)}return!1}(nF(e),["fixed","sticky"],o);return{x:e.clientX+(s?0:i),y:e.clientY+(s?0:r),target_fixed:s,type:t}}oe(e,t){var r;if(t===void 0&&(t="click"),!iO(e.target)&&SO(e)){var i=this.le(e,t);(r=this.rageclicks)!=null&&r.isRageClick(e.clientX,e.clientY,new Date().getTime())&&this.ue(Y({},i,{type:"rageclick"})),this.ue(i)}}ae(e){!iO(e.target)&&SO(e)&&(clearTimeout(this.he),this.he=setTimeout(()=>{this.ue(this.le(e,"mousemove"))},500))}ue(e){if(P){var t=P.location.href;this.M=this.M||{},this.M[t]||(this.M[t]=[]),this.M[t].push(e)}}re(){this.M&&!Ml(this.M)&&this.instance.capture("$$heatmap",{$heatmap_data:this.getAndClearBuffer()})}},NI=class{constructor(e){this._instance=e}doPageView(e,t){var r,i=this.de(e,t);return this.ve={pathname:(r=P?.location.pathname)!==null&&r!==void 0?r:"",pageViewId:t,timestamp:e},this._instance.scrollManager.resetContext(),i}doPageLeave(e){var t;return this.de(e,(t=this.ve)==null?void 0:t.pageViewId)}doEvent(){var e;return{$pageview_id:(e=this.ve)==null?void 0:e.pageViewId}}de(e,t){var r=this.ve;if(!r)return{$pageview_id:t};var i={$pageview_id:t,$prev_pageview_id:r.pageViewId},o=this._instance.scrollManager.getContext();if(o&&!this._instance.config.disable_scroll_properties){var{maxScrollHeight:s,lastScrollY:a,maxScrollY:l,maxContentHeight:u,lastContentY:d,maxContentY:f}=o;if(!(G(s)||G(a)||G(l)||G(u)||G(d)||G(f))){s=Math.ceil(s),a=Math.ceil(a),l=Math.ceil(l),u=Math.ceil(u),d=Math.ceil(d),f=Math.ceil(f);var p=s<=1?1:qn(a/s,0,1),m=s<=1?1:qn(l/s,0,1),v=u<=1?1:qn(d/u,0,1),w=u<=1?1:qn(f/u,0,1);i=At(i,{$prev_pageview_last_scroll:a,$prev_pageview_last_scroll_percentage:p,$prev_pageview_max_scroll:l,$prev_pageview_max_scroll_percentage:m,$prev_pageview_last_content:d,$prev_pageview_last_content_percentage:v,$prev_pageview_max_content:f,$prev_pageview_max_content_percentage:w})}}return r.pathname&&(i.$prev_pageview_pathname=r.pathname),r.timestamp&&(i.$prev_pageview_duration=(e.getTime()-r.timestamp.getTime())/1e3),i}},_q=function(n){var e,t,r,i,o="";for(e=t=0,r=(n=(n+"").replace(/\r\n/g,`
`).replace(/\r/g,`
`)).length,i=0;i<r;i++){var s=n.charCodeAt(i),a=null;s<128?t++:a=s>127&&s<2048?String.fromCharCode(s>>6|192,63&s|128):String.fromCharCode(s>>12|224,s>>6&63|128,63&s|128),No(a)||(t>e&&(o+=n.substring(e,t)),o+=a,e=t=i+1)}return t>e&&(o+=n.substring(e,n.length)),o},wq=!!HC||!!zC,TO="text/plain",Qm=(n,e)=>{var[t,r]=n.split("?"),i=Y({},e);r?.split("&").forEach(s=>{var[a]=s.split("=");delete i[a]});var o=S8(i);return t+"?"+(o=o?(r?r+"&":"")+o:r)},bd=(n,e)=>JSON.stringify(n,(t,r)=>typeof r=="bigint"?r.toString():r,e),jC=n=>{var{data:e,compression:t}=n;if(e){if(t===Bi.GZipJS){var r=vF(_F(bd(e)),{mtime:0}),i=new Blob([r],{type:TO});return{contentType:TO,body:i,estimatedSize:i.size}}if(t===Bi.Base64){var o=function(l){var u,d,f,p,m,v="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",w=0,A=0,N="",O=[];if(!l)return l;l=_q(l);do u=(m=l.charCodeAt(w++)<<16|l.charCodeAt(w++)<<8|l.charCodeAt(w++))>>18&63,d=m>>12&63,f=m>>6&63,p=63&m,O[A++]=v.charAt(u)+v.charAt(d)+v.charAt(f)+v.charAt(p);while(w<l.length);switch(N=O.join(""),l.length%3){case 1:N=N.slice(0,-2)+"==";break;case 2:N=N.slice(0,-1)+"="}return N}(bd(e)),s=(l=>"data="+encodeURIComponent(typeof l=="string"?l:bd(l)))(o);return{contentType:"application/x-www-form-urlencoded",body:s,estimatedSize:new Blob([s]).size}}var a=bd(e);return{contentType:"application/json",body:a,estimatedSize:new Blob([a]).size}}},Sd=[];zC&&Sd.push({transport:"fetch",method:n=>{var e,t,{contentType:r,body:i,estimatedSize:o}=(e=jC(n))!==null&&e!==void 0?e:{},s=new Headers;Qe(n.headers,function(d,f){s.append(f,d)}),r&&s.append("Content-Type",r);var a=n.url,l=null;if(zk){var u=new zk;l={signal:u.signal,timeout:setTimeout(()=>u.abort(),n.timeout)}}zC(a,Y({method:n?.method||"GET",headers:s,keepalive:n.method==="POST"&&(o||0)<52428.8,body:i,signal:(t=l)==null?void 0:t.signal},n.fetchOptions)).then(d=>d.text().then(f=>{var p={statusCode:d.status,text:f};if(d.status===200)try{p.json=JSON.parse(f)}catch(m){re.error(m)}n.callback==null||n.callback(p)})).catch(d=>{re.error(d),n.callback==null||n.callback({statusCode:0,text:d})}).finally(()=>l?clearTimeout(l.timeout):null)}}),HC&&Sd.push({transport:"XHR",method:n=>{var e,t=new HC;t.open(n.method||"GET",n.url,!0);var{contentType:r,body:i}=(e=jC(n))!==null&&e!==void 0?e:{};Qe(n.headers,function(o,s){t.setRequestHeader(s,o)}),r&&t.setRequestHeader("Content-Type",r),n.timeout&&(t.timeout=n.timeout),t.withCredentials=!0,t.onreadystatechange=()=>{if(t.readyState===4){var o={statusCode:t.status,text:t.responseText};if(t.status===200)try{o.json=JSON.parse(t.responseText)}catch{}n.callback==null||n.callback(o)}},t.send(i)}}),Hn!=null&&Hn.sendBeacon&&Sd.push({transport:"sendBeacon",method:n=>{var e=Qm(n.url,{beacon:"1"});try{var t,{contentType:r,body:i}=(t=jC(n))!==null&&t!==void 0?t:{},o=typeof i=="string"?new Blob([i],{type:r}):i;Hn.sendBeacon(e,o)}catch{}}});var Ll=function(n,e){if(!function(t){try{new RegExp(t)}catch{return!1}return!0}(e))return!1;try{return new RegExp(e).test(n)}catch{return!1}};function AO(n,e,t){return bd({distinct_id:n,userPropertiesToSet:e,userPropertiesToSetOnce:t})}var Eq={exact:(n,e)=>e.some(t=>n.some(r=>t===r)),is_not:(n,e)=>e.every(t=>n.every(r=>t!==r)),regex:(n,e)=>e.some(t=>n.some(r=>Ll(t,r))),not_regex:(n,e)=>e.every(t=>n.every(r=>!Ll(t,r))),icontains:(n,e)=>e.map(Tm).some(t=>n.map(Tm).some(r=>t.includes(r))),not_icontains:(n,e)=>e.map(Tm).every(t=>n.map(Tm).every(r=>!t.includes(r)))},Tm=n=>n.toLowerCase(),bq=Qt("[Error tracking]"),PI=class{constructor(e){var t,r;this.ce=[],this._instance=e,this.ce=(t=(r=this._instance.persistence)==null?void 0:r.get_property(KC))!==null&&t!==void 0?t:[]}onRemoteConfig(e){var t,r,i=(t=(r=e.errorTracking)==null?void 0:r.suppressionRules)!==null&&t!==void 0?t:[];this.ce=i,this._instance.persistence&&this._instance.persistence.register({[KC]:this.ce})}sendExceptionEvent(e){this.fe(e)?bq.info("Skipping exception capture because a suppression rule matched"):this._instance.capture("$exception",e,{_noTruncate:!0,_batchKey:"exceptionEvent"})}fe(e){var t=e.$exception_list;if(!t||!st(t)||t.length===0)return!1;var r=t.reduce((i,o)=>{var{type:s,value:a}=o;return gt(s)&&s.length>0&&i.$exception_types.push(s),gt(a)&&a.length>0&&i.$exception_values.push(a),i},{$exception_types:[],$exception_values:[]});return this.ce.some(i=>{var o=i.values.map(s=>{var a,l=Eq[s.operator],u=st(s.value)?s.value:[s.value],d=(a=r[s.key])!==null&&a!==void 0?a:[];return u.length>0&&l(u,d)});return i.type==="OR"?o.some(Boolean):o.every(Boolean)})}},dr="Mobile",Ym="iOS",ni="Android",Md="Tablet",bF=ni+" "+Md,CF="iPad",IF="Apple",DF=IF+" Watch",xd="Safari",Vl="BlackBerry",SF="Samsung",TF=SF+"Browser",AF=SF+" Internet",Us="Chrome",Cq=Us+" OS",MF=Us+" "+Ym,uD="Internet Explorer",xF=uD+" "+dr,dD="Opera",Iq=dD+" Mini",hD="Edge",RF="Microsoft "+hD,Nl="Firefox",NF=Nl+" "+Ym,Rd="Nintendo",Nd="PlayStation",Pl="Xbox",PF=ni+" "+dr,kF=dr+" "+xd,Cd="Windows",kI=Cd+" Phone",MO="Nokia",OI="Ouya",OF="Generic",Dq=OF+" "+dr.toLowerCase(),FF=OF+" "+Md.toLowerCase(),FI="Konqueror",pn="(\\d+(\\.\\d+)?)",UC=new RegExp("Version/"+pn),Sq=new RegExp(Pl,"i"),Tq=new RegExp(Nd+" \\w+","i"),Aq=new RegExp(Rd+" \\w+","i"),fD=new RegExp(Vl+"|PlayBook|BB10","i"),Mq={"NT3.51":"NT 3.11","NT4.0":"NT 4.0","5.0":"2000",5.1:"XP",5.2:"XP","6.0":"Vista",6.1:"7",6.2:"8",6.3:"8.1",6.4:"10","10.0":"10"},xq=(n,e)=>e&&Me(e,IF)||function(t){return Me(t,xd)&&!Me(t,Us)&&!Me(t,ni)}(n),LF=function(n,e){return e=e||"",Me(n," OPR/")&&Me(n,"Mini")?Iq:Me(n," OPR/")?dD:fD.test(n)?Vl:Me(n,"IE"+dr)||Me(n,"WPDesktop")?xF:Me(n,TF)?AF:Me(n,hD)||Me(n,"Edg/")?RF:Me(n,"FBIOS")?"Facebook "+dr:Me(n,"UCWEB")||Me(n,"UCBrowser")?"UC Browser":Me(n,"CriOS")?MF:Me(n,"CrMo")||Me(n,Us)?Us:Me(n,ni)&&Me(n,xd)?PF:Me(n,"FxiOS")?NF:Me(n.toLowerCase(),FI.toLowerCase())?FI:xq(n,e)?Me(n,dr)?kF:xd:Me(n,Nl)?Nl:Me(n,"MSIE")||Me(n,"Trident/")?uD:Me(n,"Gecko")?Nl:""},Rq={[xF]:[new RegExp("rv:"+pn)],[RF]:[new RegExp(hD+"?\\/"+pn)],[Us]:[new RegExp("("+Us+"|CrMo)\\/"+pn)],[MF]:[new RegExp("CriOS\\/"+pn)],"UC Browser":[new RegExp("(UCBrowser|UCWEB)\\/"+pn)],[xd]:[UC],[kF]:[UC],[dD]:[new RegExp("(Opera|OPR)\\/"+pn)],[Nl]:[new RegExp(Nl+"\\/"+pn)],[NF]:[new RegExp("FxiOS\\/"+pn)],[FI]:[new RegExp("Konqueror[:/]?"+pn,"i")],[Vl]:[new RegExp(Vl+" "+pn),UC],[PF]:[new RegExp("android\\s"+pn,"i")],[AF]:[new RegExp(TF+"\\/"+pn)],[uD]:[new RegExp("(rv:|MSIE )"+pn)],Mozilla:[new RegExp("rv:"+pn)]},Nq=function(n,e){var t=LF(n,e),r=Rq[t];if(G(r))return null;for(var i=0;i<r.length;i++){var o=r[i],s=n.match(o);if(s)return parseFloat(s[s.length-2])}return null},xO=[[new RegExp(Pl+"; "+Pl+" (.*?)[);]","i"),n=>[Pl,n&&n[1]||""]],[new RegExp(Rd,"i"),[Rd,""]],[new RegExp(Nd,"i"),[Nd,""]],[fD,[Vl,""]],[new RegExp(Cd,"i"),(n,e)=>{if(/Phone/.test(e)||/WPDesktop/.test(e))return[kI,""];if(new RegExp(dr).test(e)&&!/IEMobile\b/.test(e))return[Cd+" "+dr,""];var t=/Windows NT ([0-9.]+)/i.exec(e);if(t&&t[1]){var r=t[1],i=Mq[r]||"";return/arm/i.test(e)&&(i="RT"),[Cd,i]}return[Cd,""]}],[/((iPhone|iPad|iPod).*?OS (\d+)_(\d+)_?(\d+)?|iPhone)/,n=>{if(n&&n[3]){var e=[n[3],n[4],n[5]||"0"];return[Ym,e.join(".")]}return[Ym,""]}],[/(watch.*\/(\d+\.\d+\.\d+)|watch os,(\d+\.\d+),)/i,n=>{var e="";return n&&n.length>=3&&(e=G(n[2])?n[3]:n[2]),["watchOS",e]}],[new RegExp("("+ni+" (\\d+)\\.(\\d+)\\.?(\\d+)?|"+ni+")","i"),n=>{if(n&&n[2]){var e=[n[2],n[3],n[4]||"0"];return[ni,e.join(".")]}return[ni,""]}],[/Mac OS X (\d+)[_.](\d+)[_.]?(\d+)?/i,n=>{var e=["Mac OS X",""];if(n&&n[1]){var t=[n[1],n[2],n[3]||"0"];e[1]=t.join(".")}return e}],[/Mac/i,["Mac OS X",""]],[/CrOS/,[Cq,""]],[/Linux|debian/i,["Linux",""]]],RO=function(n){return Aq.test(n)?Rd:Tq.test(n)?Nd:Sq.test(n)?Pl:new RegExp(OI,"i").test(n)?OI:new RegExp("("+kI+"|WPDesktop)","i").test(n)?kI:/iPad/.test(n)?CF:/iPod/.test(n)?"iPod Touch":/iPhone/.test(n)?"iPhone":/(watch)(?: ?os[,/]|\d,\d\/)[\d.]+/i.test(n)?DF:fD.test(n)?Vl:/(kobo)\s(ereader|touch)/i.test(n)?"Kobo":new RegExp(MO,"i").test(n)?MO:/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i.test(n)||/(kf[a-z]+)( bui|\)).+silk\//i.test(n)?"Kindle Fire":/(Android|ZTE)/i.test(n)?!new RegExp(dr).test(n)||/(9138B|TB782B|Nexus [97]|pixel c|HUAWEISHT|BTV|noble nook|smart ultra 6)/i.test(n)?/pixel[\daxl ]{1,6}/i.test(n)&&!/pixel c/i.test(n)||/(huaweimed-al00|tah-|APA|SM-G92|i980|zte|U304AA)/i.test(n)||/lmy47v/i.test(n)&&!/QTAQZ3/i.test(n)?ni:bF:ni:new RegExp("(pda|"+dr+")","i").test(n)?Dq:new RegExp(Md,"i").test(n)&&!new RegExp(Md+" pc","i").test(n)?FF:""},Am="https?://(.*)",iy=["gclid","gclsrc","dclid","gbraid","wbraid","fbclid","msclkid","twclid","li_fat_id","igshid","ttclid","rdt_cid","epik","qclid","sccid","irclid","_kx"],Pq=ty(["utm_source","utm_medium","utm_campaign","utm_content","utm_term","gad_source","mc_cid"],iy),pD="<masked>";function VF(n,e,t){if(!J)return{};var r=e?ty([],iy,t||[]):[];return jF(rD(J.URL,r,pD),n)}function jF(n,e){var t=Pq.concat(e||[]),r={};return Qe(t,function(i){var o=jm(n,i);r[i]=o||null}),r}function UF(n){var e=function(o){return o?o.search(Am+"google.([^/?]*)")===0?"google":o.search(Am+"bing.com")===0?"bing":o.search(Am+"yahoo.com")===0?"yahoo":o.search(Am+"duckduckgo.com")===0?"duckduckgo":null:null}(n),t=e!="yahoo"?"q":"p",r={};if(!No(e)){r.$search_engine=e;var i=J?jm(J.referrer,t):"";i.length&&(r.ph_keyword=i)}return r}function NO(){return navigator.language||navigator.userLanguage}function BF(){return J?.referrer||"$direct"}function $F(n,e){var t=n?ty([],iy,e||[]):[],r=Tn?.href.substring(0,1e3);return{r:BF().substring(0,1e3),u:r?rD(r,t,pD):void 0}}function zF(n){var e,{r:t,u:r}=n,i={$referrer:t,$referring_domain:t==null?void 0:t=="$direct"?"$direct":(e=Ol(t))==null?void 0:e.host};if(r){i.$current_url=r;var o=Ol(r);i.$host=o?.host,i.$pathname=o?.pathname;var s=jF(r);At(i,s)}if(t){var a=UF(t);At(i,a)}return i}function HF(){try{return Intl.DateTimeFormat().resolvedOptions().timeZone}catch{return}}function kq(){try{return new Date().getTimezoneOffset()}catch{return}}function Oq(n,e){if(!Sn)return{};var t,r,i,o=n?ty([],iy,e||[]):[],[s,a]=function(l){for(var u=0;u<xO.length;u++){var[d,f]=xO[u],p=d.exec(l),m=p&&(cr(f)?f(p,l):f);if(m)return m}return["",""]}(Sn);return At(tD({$os:s,$os_version:a,$browser:LF(Sn,navigator.vendor),$device:RO(Sn),$device_type:(r=Sn,i=RO(r),i===CF||i===bF||i==="Kobo"||i==="Kindle Fire"||i===FF?Md:i===Rd||i===Pl||i===Nd||i===OI?"Console":i===DF?"Wearable":i?dr:"Desktop"),$timezone:HF(),$timezone_offset:kq()}),{$current_url:rD(Tn?.href,o,pD),$host:Tn?.host,$pathname:Tn?.pathname,$raw_user_agent:Sn.length>1e3?Sn.substring(0,997)+"...":Sn,$browser_version:Nq(Sn,navigator.vendor),$browser_language:NO(),$browser_language_prefix:(t=NO(),typeof t=="string"?t.split("-")[0]:void 0),$screen_height:P?.screen.height,$screen_width:P?.screen.width,$viewport_height:P?.innerHeight,$viewport_width:P?.innerWidth,$lib:"web",$lib_version:Ui.LIB_VERSION,$insert_id:Math.random().toString(36).substring(2,10)+Math.random().toString(36).substring(2,10),$time:Date.now()/1e3})}var ei=Qt("[FeatureFlags]"),BC="$active_feature_flags",Tl="$override_feature_flags",PO="$feature_flag_payloads",md="$override_feature_flag_payloads",kO="$feature_flag_request_id",OO=n=>{var e={};for(var[t,r]of Mm(n||{}))r&&(e[t]=r);return e},Fq=n=>{var e=n.flags;return e?(n.featureFlags=Object.fromEntries(Object.keys(e).map(t=>{var r;return[t,(r=e[t].variant)!==null&&r!==void 0?r:e[t].enabled]})),n.featureFlagPayloads=Object.fromEntries(Object.keys(e).filter(t=>e[t].enabled).filter(t=>{var r;return(r=e[t].metadata)==null?void 0:r.payload}).map(t=>{var r;return[t,(r=e[t].metadata)==null?void 0:r.payload]}))):ei.warn("Using an older version of the feature flags endpoint. Please upgrade your PostHog server to the latest version"),n},Lq=function(n){return n.FeatureFlags="feature_flags",n.Recordings="recordings",n}({}),LI=class{constructor(e){this.pe=!1,this._e=!1,this.ge=!1,this.me=!1,this.be=!1,this.ye=!1,this.we=!1,this._instance=e,this.featureFlagEventHandlers=[]}decide(){if(this._instance.config.__preview_remote_config)this.ye=!0;else{var e=!this.Se&&(this._instance.config.advanced_disable_feature_flags||this._instance.config.advanced_disable_feature_flags_on_first_load);this.$e({disableFlags:e})}}get hasLoadedFlags(){return this._e}getFlags(){return Object.keys(this.getFlagVariants())}getFlagsWithDetails(){var e=this._instance.get_property(JC),t=this._instance.get_property(Tl),r=this._instance.get_property(md);if(!r&&!t)return e||{};var i=At({},e||{}),o=[...new Set([...Object.keys(r||{}),...Object.keys(t||{})])];for(var s of o){var a,l,u=i[s],d=t?.[s],f=G(d)?(a=u?.enabled)!==null&&a!==void 0&&a:!!d,p=G(d)?u.variant:typeof d=="string"?d:void 0,m=r?.[s],v=Y({},u,{enabled:f,variant:f?p??u?.variant:void 0});f!==u?.enabled&&(v.original_enabled=u?.enabled),p!==u?.variant&&(v.original_variant=u?.variant),m&&(v.metadata=Y({},u?.metadata,{payload:m,original_payload:u==null||(l=u.metadata)==null?void 0:l.payload})),i[s]=v}return this.pe||(ei.warn(" Overriding feature flag details!",{flagDetails:e,overriddenPayloads:r,finalDetails:i}),this.pe=!0),i}getFlagVariants(){var e=this._instance.get_property(xl),t=this._instance.get_property(Tl);if(!t)return e||{};for(var r=At({},e),i=Object.keys(t),o=0;o<i.length;o++)r[i[o]]=t[i[o]];return this.pe||(ei.warn(" Overriding feature flags!",{enabledFlags:e,overriddenFlags:t,finalFlags:r}),this.pe=!0),r}getFlagPayloads(){var e=this._instance.get_property(PO),t=this._instance.get_property(md);if(!t)return e||{};for(var r=At({},e||{}),i=Object.keys(t),o=0;o<i.length;o++)r[i[o]]=t[i[o]];return this.pe||(ei.warn(" Overriding feature flag payloads!",{flagPayloads:e,overriddenPayloads:t,finalPayloads:r}),this.pe=!0),r}reloadFeatureFlags(){this.me||this._instance.config.advanced_disable_feature_flags||this.Se||(this.Se=setTimeout(()=>{this.$e()},5))}ke(){clearTimeout(this.Se),this.Se=void 0}ensureFlagsLoaded(){this._e||this.ge||this.Se||this.reloadFeatureFlags()}setAnonymousDistinctId(e){this.$anon_distinct_id=e}setReloadingPaused(e){this.me=e}$e(e){var t;if(this.ke(),!this._instance.config.advanced_disable_decide)if(this.ge)this.be=!0;else{var r={token:this._instance.config.token,distinct_id:this._instance.get_distinct_id(),groups:this._instance.getGroups(),$anon_distinct_id:this.$anon_distinct_id,person_properties:Y({},((t=this._instance.persistence)==null?void 0:t.get_initial_props())||{},this._instance.get_property(wd)||{}),group_properties:this._instance.get_property(Ls)};(e!=null&&e.disableFlags||this._instance.config.advanced_disable_feature_flags)&&(r.disable_flags=!0);var i=this._instance.config.__preview_flags_v2&&this._instance.config.__preview_remote_config,o=i?"/flags/?v=2":"/decide/?v=4",s=this._instance.config.advanced_only_evaluate_survey_feature_flags?"&only_evaluate_survey_feature_flags=true":"",a=this._instance.requestRouter.endpointFor("api",o+s);i&&(r.timezone=HF()),this.ge=!0,this._instance.xe({method:"POST",url:a,data:r,compression:this._instance.config.disable_compression?void 0:Bi.Base64,timeout:this._instance.config.feature_flag_request_timeout_ms,callback:l=>{var u,d,f=!0;if(l.statusCode===200&&(this.be||(this.$anon_distinct_id=void 0),f=!1),this.ge=!1,this.ye||(this.ye=!0,this._instance.Ee((d=l.json)!==null&&d!==void 0?d:{})),!r.disable_flags||this.be)if(this.we=!f,l.json&&(u=l.json.quotaLimited)!=null&&u.includes(Lq.FeatureFlags))ei.warn("You have hit your feature flags quota limit, and will not be able to load feature flags until the quota is reset.  Please visit https://posthog.com/docs/billing/limits-alerts to learn more.");else{var p;r.disable_flags||this.receivedFeatureFlags((p=l.json)!==null&&p!==void 0?p:{},f),this.be&&(this.be=!1,this.$e())}}})}}getFeatureFlag(e,t){if(t===void 0&&(t={}),this._e||this.getFlags()&&this.getFlags().length>0){var r=this.getFlagVariants()[e],i=""+r,o=this._instance.get_property(kO)||void 0,s=this._instance.get_property(km)||{};if((t.send_event||!("send_event"in t))&&(!(e in s)||!s[e].includes(i))){var a,l,u,d,f,p,m,v,w;st(s[e])?s[e].push(i):s[e]=[i],(a=this._instance.persistence)==null||a.register({[km]:s});var A=this.getFeatureFlagDetails(e),N={$feature_flag:e,$feature_flag_response:r,$feature_flag_payload:this.getFeatureFlagPayload(e)||null,$feature_flag_request_id:o,$feature_flag_bootstrapped_response:((l=this._instance.config.bootstrap)==null||(l=l.featureFlags)==null?void 0:l[e])||null,$feature_flag_bootstrapped_payload:((u=this._instance.config.bootstrap)==null||(u=u.featureFlagPayloads)==null?void 0:u[e])||null,$used_bootstrap_value:!this.we};G(A==null||(d=A.metadata)==null?void 0:d.version)||(N.$feature_flag_version=A.metadata.version);var O,U=(f=A==null||(p=A.reason)==null?void 0:p.description)!==null&&f!==void 0?f:A==null||(m=A.reason)==null?void 0:m.code;U&&(N.$feature_flag_reason=U),A!=null&&(v=A.metadata)!=null&&v.id&&(N.$feature_flag_id=A.metadata.id),G(A?.original_variant)&&G(A?.original_enabled)||(N.$feature_flag_original_response=G(A.original_variant)?A.original_enabled:A.original_variant),A!=null&&(w=A.metadata)!=null&&w.original_payload&&(N.$feature_flag_original_payload=A==null||(O=A.metadata)==null?void 0:O.original_payload),this._instance.capture("$feature_flag_called",N)}return r}ei.warn('getFeatureFlag for key "'+e+`" failed. Feature flags didn't load in time.`)}getFeatureFlagDetails(e){return this.getFlagsWithDetails()[e]}getFeatureFlagPayload(e){return this.getFlagPayloads()[e]}getRemoteConfigPayload(e,t){var r=this._instance.config.token;this._instance.xe({method:"POST",url:this._instance.requestRouter.endpointFor("api","/decide/?v=4"),data:{distinct_id:this._instance.get_distinct_id(),token:r},compression:this._instance.config.disable_compression?void 0:Bi.Base64,timeout:this._instance.config.feature_flag_request_timeout_ms,callback:i=>{var o,s=(o=i.json)==null?void 0:o.featureFlagPayloads;t(s?.[e]||void 0)}})}isFeatureEnabled(e,t){if(t===void 0&&(t={}),this._e||this.getFlags()&&this.getFlags().length>0)return!!this.getFeatureFlag(e,t);ei.warn('isFeatureEnabled for key "'+e+`" failed. Feature flags didn't load in time.`)}addFeatureFlagsHandler(e){this.featureFlagEventHandlers.push(e)}removeFeatureFlagsHandler(e){this.featureFlagEventHandlers=this.featureFlagEventHandlers.filter(t=>t!==e)}receivedFeatureFlags(e,t){if(this._instance.persistence){this._e=!0;var r=this.getFlagVariants(),i=this.getFlagPayloads(),o=this.getFlagsWithDetails();(function(s,a,l,u,d){l===void 0&&(l={}),u===void 0&&(u={}),d===void 0&&(d={});var f=Fq(s),p=f.flags,m=f.featureFlags,v=f.featureFlagPayloads;if(m){var w=s.requestId;if(st(m)){ei.warn("v1 of the feature flags endpoint is deprecated. Please use the latest version.");var A={};if(m)for(var N=0;N<m.length;N++)A[m[N]]=!0;a&&a.register({[BC]:m,[xl]:A})}else{var O=m,U=v,q=p;s.errorsWhileComputingFlags&&(O=Y({},l,O),U=Y({},u,U),q=Y({},d,q)),a&&a.register(Y({[BC]:Object.keys(OO(O)),[xl]:O||{},[PO]:U||{},[JC]:q||{}},w?{[kO]:w}:{}))}}})(e,this._instance.persistence,r,i,o),this.Ie(t)}}override(e,t){t===void 0&&(t=!1),ei.warn("override is deprecated. Please use overrideFeatureFlags instead."),this.overrideFeatureFlags({flags:e,suppressWarning:t})}overrideFeatureFlags(e){if(!this._instance.__loaded||!this._instance.persistence)return ei.uninitializedWarning("posthog.featureFlags.overrideFeatureFlags");if(e===!1)return this._instance.persistence.unregister(Tl),this._instance.persistence.unregister(md),void this.Ie();if(e&&typeof e=="object"&&("flags"in e||"payloads"in e)){var t,r=e;if(this.pe=!!((t=r.suppressWarning)!==null&&t!==void 0&&t),"flags"in r){if(r.flags===!1)this._instance.persistence.unregister(Tl);else if(r.flags)if(st(r.flags)){for(var i={},o=0;o<r.flags.length;o++)i[r.flags[o]]=!0;this._instance.persistence.register({[Tl]:i})}else this._instance.persistence.register({[Tl]:r.flags})}return"payloads"in r&&(r.payloads===!1?this._instance.persistence.unregister(md):r.payloads&&this._instance.persistence.register({[md]:r.payloads})),void this.Ie()}this.Ie()}onFeatureFlags(e){if(this.addFeatureFlagsHandler(e),this._e){var{flags:t,flagVariants:r}=this.Pe();e(t,r)}return()=>this.removeFeatureFlagsHandler(e)}updateEarlyAccessFeatureEnrollment(e,t){var r,i=(this._instance.get_property(xm)||[]).find(l=>l.flagKey===e),o={["$feature_enrollment/"+e]:t},s={$feature_flag:e,$feature_enrollment:t,$set:o};i&&(s.$early_access_feature_name=i.name),this._instance.capture("$feature_enrollment_update",s),this.setPersonPropertiesForFlags(o,!1);var a=Y({},this.getFlagVariants(),{[e]:t});(r=this._instance.persistence)==null||r.register({[BC]:Object.keys(OO(a)),[xl]:a}),this.Ie()}getEarlyAccessFeatures(e,t,r){t===void 0&&(t=!1);var i=this._instance.get_property(xm),o=r?"&"+r.map(s=>"stage="+s).join("&"):"";if(i&&!t)return e(i);this._instance.xe({url:this._instance.requestRouter.endpointFor("api","/api/early_access_features/?token="+this._instance.config.token+o),method:"GET",callback:s=>{var a;if(s.json){var l=s.json.earlyAccessFeatures;return(a=this._instance.persistence)==null||a.register({[xm]:l}),e(l)}}})}Pe(){var e=this.getFlags(),t=this.getFlagVariants();return{flags:e.filter(r=>t[r]),flagVariants:Object.keys(t).filter(r=>t[r]).reduce((r,i)=>(r[i]=t[i],r),{})}}Ie(e){var{flags:t,flagVariants:r}=this.Pe();this.featureFlagEventHandlers.forEach(i=>i(t,r,{errorsLoading:e}))}setPersonPropertiesForFlags(e,t){t===void 0&&(t=!0);var r=this._instance.get_property(wd)||{};this._instance.register({[wd]:Y({},r,e)}),t&&this._instance.reloadFeatureFlags()}resetPersonPropertiesForFlags(){this._instance.unregister(wd)}setGroupPropertiesForFlags(e,t){t===void 0&&(t=!0);var r=this._instance.get_property(Ls)||{};Object.keys(r).length!==0&&Object.keys(r).forEach(i=>{r[i]=Y({},r[i],e[i]),delete e[i]}),this._instance.register({[Ls]:Y({},r,e)}),t&&this._instance.reloadFeatureFlags()}resetGroupPropertiesForFlags(e){if(e){var t=this._instance.get_property(Ls)||{};this._instance.register({[Ls]:Y({},t,{[e]:{}})})}else this._instance.unregister(Ls)}},Vq=["cookie","localstorage","localstorage+cookie","sessionstorage","memory"],Td=class{constructor(e){this.S=e,this.props={},this.Re=!1,this.Te=(t=>{var r="";return t.token&&(r=t.token.replace(/\+/g,"PL").replace(/\//g,"SL").replace(/=/g,"EQ")),t.persistence_name?"ph_"+t.persistence_name:"ph_"+r+"_posthog"})(e),this.q=this.Me(e),this.load(),e.debug&&re.info("Persistence loaded",e.persistence,Y({},this.props)),this.update_config(e,e),this.save()}Me(e){Vq.indexOf(e.persistence.toLowerCase())===-1&&(re.critical("Unknown persistence type "+e.persistence+"; falling back to localStorage+cookie"),e.persistence="localStorage+cookie");var t=e.persistence.toLowerCase();return t==="localstorage"&&Ft.O()?Ft:t==="localstorage+cookie"&&wm.O()?wm:t==="sessionstorage"&&Kt.O()?Kt:t==="memory"?k8:t==="cookie"?$i:wm.O()?wm:$i}properties(){var e={};return Qe(this.props,function(t,r){if(r===xl&&pt(t))for(var i=Object.keys(t),o=0;o<i.length;o++)e["$feature/"+i[o]]=t[i[o]];else a=r,l=!1,(No(s=y8)?l:$k&&s.indexOf===$k?s.indexOf(a)!=-1:(Qe(s,function(u){if(l||(l=u===a))return Nm}),l))||(e[r]=t);var s,a,l}),e}load(){if(!this.Ce){var e=this.q.D(this.Te);e&&(this.props=At({},e))}}save(){this.Ce||this.q.L(this.Te,this.props,this.Oe,this.Fe,this.Ae,this.S.debug)}remove(){this.q.N(this.Te,!1),this.q.N(this.Te,!0)}clear(){this.remove(),this.props={}}register_once(e,t,r){if(pt(e)){G(t)&&(t="None"),this.Oe=G(r)?this.De:r;var i=!1;if(Qe(e,(o,s)=>{this.props.hasOwnProperty(s)&&this.props[s]!==t||(this.props[s]=o,i=!0)}),i)return this.save(),!0}return!1}register(e,t){if(pt(e)){this.Oe=G(t)?this.De:t;var r=!1;if(Qe(e,(i,o)=>{e.hasOwnProperty(o)&&this.props[o]!==i&&(this.props[o]=i,r=!0)}),r)return this.save(),!0}return!1}unregister(e){e in this.props&&(delete this.props[e],this.save())}update_campaign_params(){if(!this.Re){var e=VF(this.S.custom_campaign_params,this.S.mask_personal_data_properties,this.S.custom_personal_data_properties);Ml(tD(e))||this.register(e),this.Re=!0}}update_search_keyword(){var e;this.register((e=J?.referrer)?UF(e):{})}update_referrer_info(){var e;this.register_once({$referrer:BF(),$referring_domain:J!=null&&J.referrer&&((e=Ol(J.referrer))==null?void 0:e.host)||"$direct"},void 0)}set_initial_person_info(){this.props[nI]||this.props[rI]||this.register_once({[Om]:$F(this.S.mask_personal_data_properties,this.S.custom_personal_data_properties)},void 0)}get_initial_props(){var e={};Qe([rI,nI],s=>{var a=this.props[s];a&&Qe(a,function(l,u){e["$initial_"+qC(u)]=l})});var t,r,i=this.props[Om];if(i){var o=(t=zF(i),r={},Qe(t,function(s,a){r["$initial_"+qC(a)]=s}),r);At(e,o)}return e}safe_merge(e){return Qe(this.props,function(t,r){r in e||(e[r]=t)}),e}update_config(e,t){if(this.De=this.Oe=e.cookie_expiration,this.set_disabled(e.disable_persistence),this.set_cross_subdomain(e.cross_subdomain_cookie),this.set_secure(e.secure_cookie),e.persistence!==t.persistence){var r=this.Me(e),i=this.props;this.clear(),this.q=r,this.props=i,this.save()}}set_disabled(e){this.Ce=e,this.Ce?this.remove():this.save()}set_cross_subdomain(e){e!==this.Fe&&(this.Fe=e,this.remove(),this.save())}set_secure(e){e!==this.Ae&&(this.Ae=e,this.remove(),this.save())}set_event_timer(e,t){var r=this.props[vd]||{};r[e]=t,this.props[vd]=r,this.save()}remove_event_timer(e){var t=(this.props[vd]||{})[e];return G(t)||(delete this.props[vd][e],this.save()),t}get_property(e){return this.props[e]}set_property(e,t){this.props[e]=t,this.save()}},Zm=class{constructor(){this.Le={},this.Le={}}on(e,t){return this.Le[e]||(this.Le[e]=[]),this.Le[e].push(t),()=>{this.Le[e]=this.Le[e].filter(r=>r!==t)}}emit(e,t){for(var r of this.Le[e]||[])r(t);for(var i of this.Le["*"]||[])i(e,t)}},VI=class n{constructor(e){this.Ne=new Zm,this.je=(t,r)=>this.ze(t,r)&&this.Ue(t,r)&&this.qe(t,r),this.ze=(t,r)=>r==null||!r.event||t?.event===r?.event,this._instance=e,this.Be=new Set,this.He=new Set}init(){var e;if(!G((e=this._instance)==null?void 0:e.We)){var t;(t=this._instance)==null||t.We((r,i)=>{this.on(r,i)})}}register(e){var t,r;if(!G((t=this._instance)==null?void 0:t.We)&&(e.forEach(s=>{var a,l;(a=this.He)==null||a.add(s),(l=s.steps)==null||l.forEach(u=>{var d;(d=this.Be)==null||d.add(u?.event||"")})}),(r=this._instance)!=null&&r.autocapture)){var i,o=new Set;e.forEach(s=>{var a;(a=s.steps)==null||a.forEach(l=>{l!=null&&l.selector&&o.add(l?.selector)})}),(i=this._instance)==null||i.autocapture.setElementSelectors(o)}}on(e,t){var r;t!=null&&e.length!=0&&(this.Be.has(e)||this.Be.has(t?.event))&&this.He&&((r=this.He)==null?void 0:r.size)>0&&this.He.forEach(i=>{this.Ge(t,i)&&this.Ne.emit("actionCaptured",i.name)})}Je(e){this.onAction("actionCaptured",t=>e(t))}Ge(e,t){if(t?.steps==null)return!1;for(var r of t.steps)if(this.je(e,r))return!0;return!1}onAction(e,t){return this.Ne.on(e,t)}Ue(e,t){if(t!=null&&t.url){var r,i=e==null||(r=e.properties)==null?void 0:r.$current_url;if(!i||typeof i!="string"||!n.Ve(i,t?.url,t?.url_matching||"contains"))return!1}return!0}static Ve(e,t,r){switch(r){case"regex":return!!P&&Ll(e,t);case"exact":return t===e;case"contains":var i=n.Ke(t).replace(/_/g,".").replace(/%/g,".*");return Ll(e,i);default:return!1}}static Ke(e){return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}qe(e,t){if((t!=null&&t.href||t!=null&&t.tag_name||t!=null&&t.text)&&!this.Ye(e).some(o=>!(t!=null&&t.href&&!n.Ve(o.href||"",t?.href,t?.href_matching||"exact"))&&(t==null||!t.tag_name||o.tag_name===t?.tag_name)&&!(t!=null&&t.text&&!n.Ve(o.text||"",t?.text,t?.text_matching||"exact")&&!n.Ve(o.$el_text||"",t?.text,t?.text_matching||"exact"))))return!1;if(t!=null&&t.selector){var r,i=e==null||(r=e.properties)==null?void 0:r.$element_selectors;if(!i||!i.includes(t?.selector))return!1}return!0}Ye(e){return e?.properties.$elements==null?[]:e?.properties.$elements}},Ot=Qt("[Surveys]"),jI="seenSurvey_",jq=(n,e)=>{var t="$survey_"+e+"/"+n.id;return n.current_iteration&&n.current_iteration>0&&(t="$survey_"+e+"/"+n.id+"/"+n.current_iteration),t},UI=class{constructor(e){this._instance=e,this.Xe=new Map,this.Qe=new Map}register(e){var t;G((t=this._instance)==null?void 0:t.We)||(this.Ze(e),this.tr(e))}tr(e){var t=e.filter(r=>{var i,o;return((i=r.conditions)==null?void 0:i.actions)&&((o=r.conditions)==null||(o=o.actions)==null||(o=o.values)==null?void 0:o.length)>0});t.length!==0&&(this.ir==null&&(this.ir=new VI(this._instance),this.ir.init(),this.ir.Je(r=>{this.onAction(r)})),t.forEach(r=>{var i,o,s,a,l;r.conditions&&(i=r.conditions)!=null&&i.actions&&(o=r.conditions)!=null&&(o=o.actions)!=null&&o.values&&((s=r.conditions)==null||(s=s.actions)==null||(s=s.values)==null?void 0:s.length)>0&&((a=this.ir)==null||a.register(r.conditions.actions.values),(l=r.conditions)==null||(l=l.actions)==null||(l=l.values)==null||l.forEach(u=>{if(u&&u.name){var d=this.Qe.get(u.name);d&&d.push(r.id),this.Qe.set(u.name,d||[r.id])}}))}))}Ze(e){var t;e.filter(r=>{var i,o;return((i=r.conditions)==null?void 0:i.events)&&((o=r.conditions)==null||(o=o.events)==null||(o=o.values)==null?void 0:o.length)>0}).length!==0&&((t=this._instance)==null||t.We((r,i)=>{this.onEvent(r,i)}),e.forEach(r=>{var i;(i=r.conditions)==null||(i=i.events)==null||(i=i.values)==null||i.forEach(o=>{if(o&&o.name){var s=this.Xe.get(o.name);s&&s.push(r.id),this.Xe.set(o.name,s||[r.id])}})}))}onEvent(e,t){var r,i=((r=this._instance)==null||(r=r.persistence)==null?void 0:r.props[_m])||[];if(e==="survey shown"&&t&&i.length>0){var o;Ot.info("survey event matched, removing survey from activated surveys",{event:e,eventPayload:t,existingActivatedSurveys:i});var s=t==null||(o=t.properties)==null?void 0:o.$survey_id;if(s){var a=i.indexOf(s);a>=0&&(i.splice(a,1),this.er(i))}}else this.Xe.has(e)&&(Ot.info("survey event matched, updating activated surveys",{event:e,surveys:this.Xe.get(e)}),this.er(i.concat(this.Xe.get(e)||[])))}onAction(e){var t,r=((t=this._instance)==null||(t=t.persistence)==null?void 0:t.props[_m])||[];this.Qe.has(e)&&this.er(r.concat(this.Qe.get(e)||[]))}er(e){var t;(t=this._instance)==null||(t=t.persistence)==null||t.register({[_m]:[...new Set(e)]})}getSurveys(){var e,t=(e=this._instance)==null||(e=e.persistence)==null?void 0:e.props[_m];return t||[]}getEventToSurveys(){return this.Xe}rr(){return this.ir}},BI=class{constructor(e){this.sr=null,this.nr=!1,this.ar=!1,this.lr=[],this._instance=e,this._surveyEventReceiver=null}onRemoteConfig(e){var t=e.surveys;if(He(t))return Ot.warn("Decide not loaded yet. Not loading surveys.");var r=st(t);this.ur=r?t.length>0:t,Ot.info("decide response received, hasSurveys: "+this.ur),this.ur&&this.loadIfEnabled()}reset(){localStorage.removeItem("lastSeenSurveyDate");for(var e=[],t=0;t<localStorage.length;t++){var r=localStorage.key(t);(r!=null&&r.startsWith(jI)||r!=null&&r.startsWith("inProgressSurvey_"))&&e.push(r)}e.forEach(i=>localStorage.removeItem(i))}loadIfEnabled(){if(!this.sr)if(this.ar)Ot.info("Already initializing surveys, skipping...");else if(this._instance.config.disable_surveys)Ot.info("Disabled. Not loading surveys.");else if(this.ur){var e=we?.__PosthogExtensions__;if(e){this.ar=!0;try{var t=e.generateSurveys;if(t)return void this.hr(t);var r=e.loadExternalDependency;if(!r)return void this.dr("PostHog loadExternalDependency extension not found.");r(this._instance,"surveys",i=>{i||!e.generateSurveys?this.dr("Could not load surveys script",i):this.hr(e.generateSurveys)})}catch(i){throw this.dr("Error initializing surveys",i),i}finally{this.ar=!1}}else Ot.error("PostHog Extensions not found.")}else Ot.info("No surveys to load.")}hr(e){this.sr=e(this._instance),this._surveyEventReceiver=new UI(this._instance),Ot.info("Surveys loaded successfully"),this.vr({isLoaded:!0})}dr(e,t){Ot.error(e,t),this.vr({isLoaded:!1,error:e})}onSurveysLoaded(e){return this.lr.push(e),this.sr&&this.vr({isLoaded:!0}),()=>{this.lr=this.lr.filter(t=>t!==e)}}getSurveys(e,t){if(t===void 0&&(t=!1),this._instance.config.disable_surveys)return Ot.info("Disabled. Not loading surveys."),e([]);var r=this._instance.get_property(XC);if(r&&!t)return e(r,{isLoaded:!0});if(this.nr)return e([],{isLoaded:!1,error:"Surveys are already being loaded"});try{this.nr=!0,this._instance.xe({url:this._instance.requestRouter.endpointFor("api","/api/surveys/?token="+this._instance.config.token),method:"GET",timeout:this._instance.config.surveys_request_timeout_ms,callback:i=>{var o;this.nr=!1;var s=i.statusCode;if(s!==200||!i.json){var a="Surveys API could not be loaded, status: "+s;return Ot.error(a),e([],{isLoaded:!1,error:a})}var l,u=i.json.surveys||[],d=u.filter(f=>function(p){return!(!p.start_date||p.end_date)}(f)&&(function(p){var m;return!((m=p.conditions)==null||(m=m.events)==null||(m=m.values)==null||!m.length)}(f)||function(p){var m;return!((m=p.conditions)==null||(m=m.actions)==null||(m=m.values)==null||!m.length)}(f)));return d.length>0&&((l=this._surveyEventReceiver)==null||l.register(d)),(o=this._instance.persistence)==null||o.register({[XC]:u}),e(u,{isLoaded:!0})}})}catch(i){throw this.nr=!1,i}}vr(e){for(var t of this.lr)try{e.isLoaded?this.getSurveys(t):t([],e)}catch(r){Ot.error("Error in survey callback",r)}}getActiveMatchingSurveys(e,t){if(t===void 0&&(t=!1),!He(this.sr))return this.sr.getActiveMatchingSurveys(e,t);Ot.warn("init was not called")}cr(e){var t=null;return this.getSurveys(r=>{var i;t=(i=r.find(o=>o.id===e))!==null&&i!==void 0?i:null}),t}pr(e){if(He(this.sr))return{eligible:!1,reason:"SDK is not enabled or survey functionality is not yet loaded"};var t=typeof e=="string"?this.cr(e):e;return t?this.sr.checkSurveyEligibility(t):{eligible:!1,reason:"Survey not found"}}canRenderSurvey(e){if(He(this.sr))return Ot.warn("init was not called"),{visible:!1,disabledReason:"SDK is not enabled or survey functionality is not yet loaded"};var t=this.pr(e);return{visible:t.eligible,disabledReason:t.reason}}canRenderSurveyAsync(e,t){return He(this.sr)?(Ot.warn("init was not called"),Promise.resolve({visible:!1,disabledReason:"SDK is not enabled or survey functionality is not yet loaded"})):new Promise(r=>{this.getSurveys(i=>{var o,s=(o=i.find(l=>l.id===e))!==null&&o!==void 0?o:null;if(s){var a=this.pr(s);r({visible:a.eligible,disabledReason:a.reason})}else r({visible:!1,disabledReason:"Survey not found"})},t)})}renderSurvey(e,t){if(He(this.sr))Ot.warn("init was not called");else{var r=this.cr(e),i=J?.querySelector(t);r?i?this.sr.renderSurvey(r,i):Ot.warn("Survey element not found"):Ot.warn("Survey not found")}}},hue=function(n){return n.Button="button",n.Tab="tab",n.Selector="selector",n}({}),fue=function(n){return n.TopLeft="top_left",n.TopRight="top_right",n.TopCenter="top_center",n.MiddleLeft="middle_left",n.MiddleRight="middle_right",n.MiddleCenter="middle_center",n.Left="left",n.Center="center",n.Right="right",n.NextToTrigger="next_to_trigger",n}({}),pue=function(n){return n.Popover="popover",n.API="api",n.Widget="widget",n}({}),gue=function(n){return n.Open="open",n.MultipleChoice="multiple_choice",n.SingleChoice="single_choice",n.Rating="rating",n.Link="link",n}({}),mue=function(n){return n.NextQuestion="next_question",n.End="end",n.ResponseBased="response_based",n.SpecificQuestion="specific_question",n}({}),yue=function(n){return n.Once="once",n.Recurring="recurring",n.Always="always",n}({}),$C=function(n){return n.SHOWN="survey shown",n.DISMISSED="survey dismissed",n.SENT="survey sent",n}({}),FO=function(n){return n.SURVEY_ID="$survey_id",n.SURVEY_NAME="$survey_name",n.SURVEY_RESPONSE="$survey_response",n.SURVEY_ITERATION="$survey_iteration",n.SURVEY_ITERATION_START_DATE="$survey_iteration_start_date",n.SURVEY_PARTIALLY_COMPLETED="$survey_partially_completed",n.SURVEY_SUBMISSION_ID="$survey_submission_id",n.SURVEY_QUESTIONS="$survey_questions",n.SURVEY_COMPLETED="$survey_completed",n}({}),LO=Qt("[RateLimiter]"),$I=class{constructor(e){var t,r;this.serverLimits={},this.lastEventRateLimited=!1,this.checkForLimiting=i=>{var o=i.text;if(o&&o.length)try{(JSON.parse(o).quota_limited||[]).forEach(s=>{LO.info((s||"events")+" is quota limited."),this.serverLimits[s]=new Date().getTime()+6e4})}catch(s){return void LO.warn('could not rate limit - continuing. Error: "'+s?.message+'"',{text:o})}},this.instance=e,this.captureEventsPerSecond=((t=e.config.rate_limiting)==null?void 0:t.events_per_second)||10,this.captureEventsBurstLimit=Math.max(((r=e.config.rate_limiting)==null?void 0:r.events_burst_limit)||10*this.captureEventsPerSecond,this.captureEventsPerSecond),this.lastEventRateLimited=this.clientRateLimitContext(!0).isRateLimited}clientRateLimitContext(e){var t,r,i;e===void 0&&(e=!1);var o=new Date().getTime(),s=(t=(r=this.instance.persistence)==null?void 0:r.get_property(tI))!==null&&t!==void 0?t:{tokens:this.captureEventsBurstLimit,last:o};s.tokens+=(o-s.last)/1e3*this.captureEventsPerSecond,s.last=o,s.tokens>this.captureEventsBurstLimit&&(s.tokens=this.captureEventsBurstLimit);var a=s.tokens<1;return a||e||(s.tokens=Math.max(0,s.tokens-1)),!a||this.lastEventRateLimited||e||this.instance.capture("$$client_ingestion_warning",{$$client_ingestion_warning_message:"posthog-js client rate limited. Config is set to "+this.captureEventsPerSecond+" events per second and "+this.captureEventsBurstLimit+" events burst limit."},{skip_client_rate_limiting:!0}),this.lastEventRateLimited=a,(i=this.instance.persistence)==null||i.set_property(tI,s),{isRateLimited:a,remainingTokens:s.tokens}}isServerRateLimited(e){var t=this.serverLimits[e||"events"]||!1;return t!==!1&&new Date().getTime()<t}},Fs=Qt("[RemoteConfig]"),zI=class{constructor(e){this._instance=e}get remoteConfig(){var e;return(e=we._POSTHOG_REMOTE_CONFIG)==null||(e=e[this._instance.config.token])==null?void 0:e.config}_r(e){var t,r;(t=we.__PosthogExtensions__)!=null&&t.loadExternalDependency?(r=we.__PosthogExtensions__)==null||r.loadExternalDependency==null||r.loadExternalDependency(this._instance,"remote-config",()=>e(this.remoteConfig)):(Fs.error("PostHog Extensions not found. Cannot load remote config."),e())}gr(e){this._instance.xe({method:"GET",url:this._instance.requestRouter.endpointFor("assets","/array/"+this._instance.config.token+"/config"),callback:t=>{e(t.json)}})}load(){try{if(this.remoteConfig)return Fs.info("Using preloaded remote config",this.remoteConfig),void this.Ee(this.remoteConfig);if(this._instance.config.advanced_disable_decide)return void Fs.warn("Remote config is disabled. Falling back to local config.");this._r(e=>{if(!e)return Fs.info("No config found after loading remote JS config. Falling back to JSON."),void this.gr(t=>{this.Ee(t)});this.Ee(e)})}catch(e){Fs.error("Error loading remote config",e)}}Ee(e){e?this._instance.config.__preview_remote_config?(this._instance.Ee(e),e.hasFeatureFlags!==!1&&this._instance.featureFlags.ensureFlagsLoaded()):Fs.info("__preview_remote_config is disabled. Logging config instead",e):Fs.error("Failed to fetch remote config from PostHog.")}},HI=3e3,qI=class{constructor(e,t){this.mr=!0,this.br=[],this.yr=qn(t?.flush_interval_ms||HI,250,5e3,"flush interval",HI),this.wr=e}enqueue(e){this.br.push(e),this.Sr||this.$r()}unload(){this.kr();var e=this.br.length>0?this.Er():{},t=Object.values(e);[...t.filter(r=>r.url.indexOf("/e")===0),...t.filter(r=>r.url.indexOf("/e")!==0)].map(r=>{this.wr(Y({},r,{transport:"sendBeacon"}))})}enable(){this.mr=!1,this.$r()}$r(){var e=this;this.mr||(this.Sr=setTimeout(()=>{if(this.kr(),this.br.length>0){var t=this.Er(),r=function(){var o=t[i],s=new Date().getTime();o.data&&st(o.data)&&Qe(o.data,a=>{a.offset=Math.abs(a.timestamp-s),delete a.timestamp}),e.wr(o)};for(var i in t)r()}},this.yr))}kr(){clearTimeout(this.Sr),this.Sr=void 0}Er(){var e={};return Qe(this.br,t=>{var r,i=t,o=(i?i.batchKey:null)||i.url;G(e[o])&&(e[o]=Y({},i,{data:[]})),(r=e[o].data)==null||r.push(i.data)}),this.br=[],e}},Uq=["retriesPerformedSoFar"],GI=class{constructor(e){this.Ir=!1,this.Pr=3e3,this.br=[],this._instance=e,this.br=[],this.Rr=!0,!G(P)&&"onLine"in P.navigator&&(this.Rr=P.navigator.onLine,ut(P,"online",()=>{this.Rr=!0,this.re()}),ut(P,"offline",()=>{this.Rr=!1}))}get length(){return this.br.length}retriableRequest(e){var{retriesPerformedSoFar:t}=e,r=KO(e,Uq);sn(t)&&t>0&&(r.url=Qm(r.url,{retry_count:t})),this._instance.xe(Y({},r,{callback:i=>{i.statusCode!==200&&(i.statusCode<400||i.statusCode>=500)&&(t??0)<10?this.Tr(Y({retriesPerformedSoFar:t},r)):r.callback==null||r.callback(i)}}))}Tr(e){var t=e.retriesPerformedSoFar||0;e.retriesPerformedSoFar=t+1;var r=function(s){var a=3e3*Math.pow(2,s),l=a/2,u=Math.min(18e5,a),d=(Math.random()-.5)*(u-l);return Math.ceil(u+d)}(t),i=Date.now()+r;this.br.push({retryAt:i,requestOptions:e});var o="Enqueued failed request for retry in "+r;navigator.onLine||(o+=" (Browser is offline)"),re.warn(o),this.Ir||(this.Ir=!0,this.Mr())}Mr(){this.Cr&&clearTimeout(this.Cr),this.Cr=setTimeout(()=>{this.Rr&&this.br.length>0&&this.re(),this.Mr()},this.Pr)}re(){var e=Date.now(),t=[],r=this.br.filter(o=>o.retryAt<e||(t.push(o),!1));if(this.br=t,r.length>0)for(var{requestOptions:i}of r)this.retriableRequest(i)}unload(){for(var{requestOptions:e}of(this.Cr&&(clearTimeout(this.Cr),this.Cr=void 0),this.br))try{this._instance.xe(Y({},e,{transport:"sendBeacon"}))}catch(t){re.error(t)}this.br=[]}},WI=class{constructor(e){this.Or=()=>{var t,r,i,o;this.Fr||(this.Fr={});var s=this.scrollElement(),a=this.scrollY(),l=s?Math.max(0,s.scrollHeight-s.clientHeight):0,u=a+(s?.clientHeight||0),d=s?.scrollHeight||0;this.Fr.lastScrollY=Math.ceil(a),this.Fr.maxScrollY=Math.max(a,(t=this.Fr.maxScrollY)!==null&&t!==void 0?t:0),this.Fr.maxScrollHeight=Math.max(l,(r=this.Fr.maxScrollHeight)!==null&&r!==void 0?r:0),this.Fr.lastContentY=u,this.Fr.maxContentY=Math.max(u,(i=this.Fr.maxContentY)!==null&&i!==void 0?i:0),this.Fr.maxContentHeight=Math.max(d,(o=this.Fr.maxContentHeight)!==null&&o!==void 0?o:0)},this._instance=e}getContext(){return this.Fr}resetContext(){var e=this.Fr;return setTimeout(this.Or,0),e}startMeasuringScrollPosition(){ut(P,"scroll",this.Or,{capture:!0}),ut(P,"scrollend",this.Or,{capture:!0}),ut(P,"resize",this.Or)}scrollElement(){if(!this._instance.config.scroll_root_selector)return P?.document.documentElement;var e=st(this._instance.config.scroll_root_selector)?this._instance.config.scroll_root_selector:[this._instance.config.scroll_root_selector];for(var t of e){var r=P?.document.querySelector(t);if(r)return r}}scrollY(){if(this._instance.config.scroll_root_selector){var e=this.scrollElement();return e&&e.scrollTop||0}return P&&(P.scrollY||P.pageYOffset||P.document.documentElement.scrollTop)||0}scrollX(){if(this._instance.config.scroll_root_selector){var e=this.scrollElement();return e&&e.scrollLeft||0}return P&&(P.scrollX||P.pageXOffset||P.document.documentElement.scrollLeft)||0}},Bq=n=>$F(n?.config.mask_personal_data_properties,n?.config.custom_personal_data_properties),KI=class{constructor(e,t,r,i){this.Ar=o=>{var s=this.Dr();if(!s||s.sessionId!==o){var a={sessionId:o,props:this.Lr(this._instance)};this.Nr.register({[eI]:a})}},this._instance=e,this.jr=t,this.Nr=r,this.Lr=i||Bq,this.jr.onSessionId(this.Ar)}Dr(){return this.Nr.props[eI]}getSetOnceProps(){var e,t=(e=this.Dr())==null?void 0:e.props;return t?"r"in t?zF(t):{$referring_domain:t.referringDomain,$pathname:t.initialPathName,utm_source:t.utm_source,utm_campaign:t.utm_campaign,utm_medium:t.utm_medium,utm_content:t.utm_content,utm_term:t.utm_term}:{}}getSessionProps(){var e={};return Qe(tD(this.getSetOnceProps()),(t,r)=>{r==="$current_url"&&(r="url"),e["$session_entry_"+qC(r)]=t}),e}},VO=Qt("[SessionId]"),QI=class{constructor(e,t,r){var i;if(this.zr=[],!e.persistence)throw new Error("SessionIdManager requires a PostHogPersistence instance");if(e.config.__preview_experimental_cookieless_mode)throw new Error("SessionIdManager cannot be used with __preview_experimental_cookieless_mode");this.S=e.config,this.Nr=e.persistence,this.ci=void 0,this.Mt=void 0,this._sessionStartTimestamp=null,this._sessionActivityTimestamp=null,this.Ur=t||Ao,this.qr=r||Ao;var o=this.S.persistence_name||this.S.token,s=this.S.session_idle_timeout_seconds||1800;if(this._sessionTimeoutMs=1e3*qn(s,60,36e3,"session_idle_timeout_seconds",1800),e.register({$configured_session_timeout_ms:this._sessionTimeoutMs}),this.Br(),this.Hr="ph_"+o+"_window_id",this.Wr="ph_"+o+"_primary_window_exists",this.Gr()){var a=Kt.D(this.Hr),l=Kt.D(this.Wr);a&&!l?this.ci=a:Kt.N(this.Hr),Kt.L(this.Wr,!0)}if((i=this.S.bootstrap)!=null&&i.sessionID)try{var u=(d=>{var f=d.replace(/-/g,"");if(f.length!==32)throw new Error("Not a valid UUID");if(f[12]!=="7")throw new Error("Not a UUIDv7");return parseInt(f.substring(0,12),16)})(this.S.bootstrap.sessionID);this.Jr(this.S.bootstrap.sessionID,new Date().getTime(),u)}catch(d){VO.error("Invalid sessionID in bootstrap",d)}this.Vr()}get sessionTimeoutMs(){return this._sessionTimeoutMs}onSessionId(e){return G(this.zr)&&(this.zr=[]),this.zr.push(e),this.Mt&&e(this.Mt,this.ci),()=>{this.zr=this.zr.filter(t=>t!==e)}}Gr(){return this.S.persistence!=="memory"&&!this.Nr.Ce&&Kt.O()}Kr(e){e!==this.ci&&(this.ci=e,this.Gr()&&Kt.L(this.Hr,e))}Yr(){return this.ci?this.ci:this.Gr()?Kt.D(this.Hr):null}Jr(e,t,r){e===this.Mt&&t===this._sessionActivityTimestamp&&r===this._sessionStartTimestamp||(this._sessionStartTimestamp=r,this._sessionActivityTimestamp=t,this.Mt=e,this.Nr.register({[Pm]:[t,e,r]}))}Xr(){if(this.Mt&&this._sessionActivityTimestamp&&this._sessionStartTimestamp)return[this._sessionActivityTimestamp,this.Mt,this._sessionStartTimestamp];var e=this.Nr.props[Pm];return st(e)&&e.length===2&&e.push(e[0]),e||[0,null,0]}resetSessionId(){this.Jr(null,null,null)}Vr(){ut(P,"beforeunload",()=>{this.Gr()&&Kt.N(this.Wr)},{capture:!1})}checkAndGetSessionAndWindowId(e,t){if(e===void 0&&(e=!1),t===void 0&&(t=null),this.S.__preview_experimental_cookieless_mode)throw new Error("checkAndGetSessionAndWindowId should not be called in __preview_experimental_cookieless_mode");var r=t||new Date().getTime(),[i,o,s]=this.Xr(),a=this.Yr(),l=sn(s)&&s>0&&Math.abs(r-s)>864e5,u=!1,d=!o,f=!e&&Math.abs(r-i)>this.sessionTimeoutMs;d||f||l?(o=this.Ur(),a=this.qr(),VO.info("new session ID generated",{sessionId:o,windowId:a,changeReason:{noSessionId:d,activityTimeout:f,sessionPastMaximumLength:l}}),s=r,u=!0):a||(a=this.qr(),u=!0);var p=i===0||!e||l?r:i,m=s===0?new Date().getTime():s;return this.Kr(a),this.Jr(o,p,m),e||this.Br(),u&&this.zr.forEach(v=>v(o,a,u?{noSessionId:d,activityTimeout:f,sessionPastMaximumLength:l}:void 0)),{sessionId:o,windowId:a,sessionStartTimestamp:m,changeReason:u?{noSessionId:d,activityTimeout:f,sessionPastMaximumLength:l}:void 0,lastActivityTimestamp:i}}Br(){clearTimeout(this.Qr),this.Qr=setTimeout(()=>{this.resetSessionId()},1.1*this.sessionTimeoutMs)}},$q=["$set_once","$set"],So=Qt("[SiteApps]"),YI=class{constructor(e){this._instance=e,this.Zr=[],this.apps={}}get isEnabled(){return!!this._instance.config.opt_in_site_apps}ts(e,t){if(t){var r=this.globalsForEvent(t);this.Zr.push(r),this.Zr.length>1e3&&(this.Zr=this.Zr.slice(10))}}get siteAppLoaders(){var e;return(e=we._POSTHOG_REMOTE_CONFIG)==null||(e=e[this._instance.config.token])==null?void 0:e.siteApps}init(){if(this.isEnabled){var e=this._instance.We(this.ts.bind(this));this.es=()=>{e(),this.Zr=[],this.es=void 0}}}globalsForEvent(e){var t,r,i,o,s,a,l;if(!e)throw new Error("Event payload is required");var u={},d=this._instance.get_property("$groups")||[],f=this._instance.get_property("$stored_group_properties")||{};for(var[p,m]of Object.entries(f))u[p]={id:d[p],type:p,properties:m};var{$set_once:v,$set:w}=e;return{event:Y({},KO(e,$q),{properties:Y({},e.properties,w?{$set:Y({},(t=(r=e.properties)==null?void 0:r.$set)!==null&&t!==void 0?t:{},w)}:{},v?{$set_once:Y({},(i=(o=e.properties)==null?void 0:o.$set_once)!==null&&i!==void 0?i:{},v)}:{}),elements_chain:(s=(a=e.properties)==null?void 0:a.$elements_chain)!==null&&s!==void 0?s:"",distinct_id:(l=e.properties)==null?void 0:l.distinct_id}),person:{properties:this._instance.get_property("$stored_person_properties")},groups:u}}setupSiteApp(e){var t=this.apps[e.id],r=()=>{var a;!t.errored&&this.Zr.length&&(So.info("Processing "+this.Zr.length+" events for site app with id "+e.id),this.Zr.forEach(l=>t.processEvent==null?void 0:t.processEvent(l)),t.processedBuffer=!0),Object.values(this.apps).every(l=>l.processedBuffer||l.errored)&&((a=this.es)==null||a.call(this))},i=!1,o=a=>{t.errored=!a,t.loaded=!0,So.info("Site app with id "+e.id+" "+(a?"loaded":"errored")),i&&r()};try{var{processEvent:s}=e.init({posthog:this._instance,callback:a=>{o(a)}});s&&(t.processEvent=s),i=!0}catch(a){So.error("Error while initializing PostHog app with config id "+e.id,a),o(!1)}if(i&&t.loaded)try{r()}catch(a){So.error("Error while processing buffered events PostHog app with config id "+e.id,a),t.errored=!0}}rs(){var e=this.siteAppLoaders||[];for(var t of e)this.apps[t.id]={id:t.id,loaded:!1,errored:!1,processedBuffer:!1};for(var r of e)this.setupSiteApp(r)}ss(e){if(Object.keys(this.apps).length!==0){var t=this.globalsForEvent(e);for(var r of Object.values(this.apps))try{r.processEvent==null||r.processEvent(t)}catch(i){So.error("Error while processing event "+e.event+" for site app "+r.id,i)}}}onRemoteConfig(e){var t,r,i,o=this;if((t=this.siteAppLoaders)!=null&&t.length)return this.isEnabled?(this.rs(),void this._instance.on("eventCaptured",u=>this.ss(u))):void So.error('PostHog site apps are disabled. Enable the "opt_in_site_apps" config to proceed.');if((r=this.es)==null||r.call(this),(i=e.siteApps)!=null&&i.length)if(this.isEnabled){var s=function(u){var d;we["__$$ph_site_app_"+u]=o._instance,(d=we.__PosthogExtensions__)==null||d.loadSiteApp==null||d.loadSiteApp(o._instance,l,f=>{if(f)return So.error("Error while initializing PostHog app with config id "+u,f)})};for(var{id:a,url:l}of e.siteApps)s(a)}else So.error('PostHog site apps are disabled. Enable the "opt_in_site_apps" config to proceed.')}},zq=["amazonbot","amazonproductbot","app.hypefactors.com","applebot","archive.org_bot","awariobot","backlinksextendedbot","baiduspider","bingbot","bingpreview","chrome-lighthouse","dataforseobot","deepscan","duckduckbot","facebookexternal","facebookcatalog","http://yandex.com/bots","hubspot","ia_archiver","leikibot","linkedinbot","meta-externalagent","mj12bot","msnbot","nessus","petalbot","pinterest","prerender","rogerbot","screaming frog","sebot-wa","sitebulb","slackbot","slurp","trendictionbot","turnitin","twitterbot","vercelbot","yahoo! slurp","yandexbot","zoombot","bot.htm","bot.php","(bot;","bot/","crawler","ahrefsbot","ahrefssiteaudit","semrushbot","siteauditbot","splitsignalbot","gptbot","oai-searchbot","chatgpt-user","perplexitybot","better uptime bot","sentryuptimebot","uptimerobot","headlesschrome","cypress","google-hoteladsverifier","adsbot-google","apis-google","duplexweb-google","feedfetcher-google","google favicon","google web preview","google-read-aloud","googlebot","googleother","google-cloudvertexbot","googleweblight","mediapartners-google","storebot-google","google-inspectiontool","bytespider"],jO=function(n,e){if(!n)return!1;var t=n.toLowerCase();return zq.concat(e||[]).some(r=>{var i=r.toLowerCase();return t.indexOf(i)!==-1})},qF=function(n,e){if(!n)return!1;var t=n.userAgent;if(t&&jO(t,e))return!0;try{var r=n?.userAgentData;if(r!=null&&r.brands&&r.brands.some(i=>jO(i?.brand,e)))return!0}catch{}return!!n.webdriver},Id=function(n){return n.US="us",n.EU="eu",n.CUSTOM="custom",n}({}),UO="i.posthog.com",ZI=class{constructor(e){this.ns={},this.instance=e}get apiHost(){var e=this.instance.config.api_host.trim().replace(/\/$/,"");return e==="https://app.posthog.com"?"https://us.i.posthog.com":e}get uiHost(){var e,t=(e=this.instance.config.ui_host)==null?void 0:e.replace(/\/$/,"");return t||(t=this.apiHost.replace("."+UO,".posthog.com")),t==="https://app.posthog.com"?"https://us.posthog.com":t}get region(){return this.ns[this.apiHost]||(/https:\/\/(app|us|us-assets)(\.i)?\.posthog\.com/i.test(this.apiHost)?this.ns[this.apiHost]=Id.US:/https:\/\/(eu|eu-assets)(\.i)?\.posthog\.com/i.test(this.apiHost)?this.ns[this.apiHost]=Id.EU:this.ns[this.apiHost]=Id.CUSTOM),this.ns[this.apiHost]}endpointFor(e,t){if(t===void 0&&(t=""),t&&(t=t[0]==="/"?t:"/"+t),e==="ui")return this.uiHost+t;if(this.region===Id.CUSTOM)return this.apiHost+t;var r=UO+t;switch(e){case"assets":return"https://"+this.region+"-assets."+r;case"api":return"https://"+this.region+"."+r}}},Hq={icontains:(n,e)=>!!P&&e.href.toLowerCase().indexOf(n.toLowerCase())>-1,not_icontains:(n,e)=>!!P&&e.href.toLowerCase().indexOf(n.toLowerCase())===-1,regex:(n,e)=>!!P&&Ll(e.href,n),not_regex:(n,e)=>!!P&&!Ll(e.href,n),exact:(n,e)=>e.href===n,is_not:(n,e)=>e.href!==n},JI=class n{constructor(e){var t=this;this.getWebExperimentsAndEvaluateDisplayLogic=function(r){r===void 0&&(r=!1),t.getWebExperiments(i=>{n.os("retrieved web experiments from the server"),t.ls=new Map,i.forEach(o=>{if(o.feature_flag_key){var s;t.ls&&(n.os("setting flag key ",o.feature_flag_key," to web experiment ",o),(s=t.ls)==null||s.set(o.feature_flag_key,o));var a=t._instance.getFeatureFlag(o.feature_flag_key);gt(a)&&o.variants[a]&&t.us(o.name,a,o.variants[a].transforms)}else if(o.variants)for(var l in o.variants){var u=o.variants[l];n.hs(u)&&t.us(o.name,l,u.transforms)}})},r)},this._instance=e,this._instance.onFeatureFlags(r=>{this.onFeatureFlags(r)})}onFeatureFlags(e){if(this._is_bot())n.os("Refusing to render web experiment since the viewer is a likely bot");else if(!this._instance.config.disable_web_experiments){if(He(this.ls))return this.ls=new Map,this.loadIfEnabled(),void this.previewWebExperiment();n.os("applying feature flags",e),e.forEach(t=>{var r;if(this.ls&&(r=this.ls)!=null&&r.has(t)){var i,o=this._instance.getFeatureFlag(t),s=(i=this.ls)==null?void 0:i.get(t);o&&s!=null&&s.variants[o]&&this.us(s.name,o,s.variants[o].transforms)}})}}previewWebExperiment(){var e=n.getWindowLocation();if(e!=null&&e.search){var t=jm(e?.search,"__experiment_id"),r=jm(e?.search,"__experiment_variant");t&&r&&(n.os("previewing web experiments "+t+" && "+r),this.getWebExperiments(i=>{this.ds(parseInt(t),r,i)},!1,!0))}}loadIfEnabled(){this._instance.config.disable_web_experiments||this.getWebExperimentsAndEvaluateDisplayLogic()}getWebExperiments(e,t,r){if(this._instance.config.disable_web_experiments&&!r)return e([]);var i=this._instance.get_property("$web_experiments");if(i&&!t)return e(i);this._instance.xe({url:this._instance.requestRouter.endpointFor("api","/api/web_experiments/?token="+this._instance.config.token),method:"GET",callback:o=>{if(o.statusCode!==200||!o.json)return e([]);var s=o.json.experiments||[];return e(s)}})}ds(e,t,r){var i=r.filter(o=>o.id===e);i&&i.length>0&&(n.os("Previewing web experiment ["+i[0].name+"] with variant ["+t+"]"),this.us(i[0].name,t,i[0].variants[t].transforms))}static hs(e){return!He(e.conditions)&&n.vs(e)&&n.cs(e)}static vs(e){var t;if(He(e.conditions)||He((t=e.conditions)==null?void 0:t.url))return!0;var r,i,o,s=n.getWindowLocation();return!!s&&((r=e.conditions)==null||!r.url||Hq[(i=(o=e.conditions)==null?void 0:o.urlMatchType)!==null&&i!==void 0?i:"icontains"](e.conditions.url,s))}static getWindowLocation(){return P?.location}static cs(e){var t;if(He(e.conditions)||He((t=e.conditions)==null?void 0:t.utm))return!0;var r=VF();if(r.utm_source){var i,o,s,a,l,u,d,f,p=(i=e.conditions)==null||(i=i.utm)==null||!i.utm_campaign||((o=e.conditions)==null||(o=o.utm)==null?void 0:o.utm_campaign)==r.utm_campaign,m=(s=e.conditions)==null||(s=s.utm)==null||!s.utm_source||((a=e.conditions)==null||(a=a.utm)==null?void 0:a.utm_source)==r.utm_source,v=(l=e.conditions)==null||(l=l.utm)==null||!l.utm_medium||((u=e.conditions)==null||(u=u.utm)==null?void 0:u.utm_medium)==r.utm_medium,w=(d=e.conditions)==null||(d=d.utm)==null||!d.utm_term||((f=e.conditions)==null||(f=f.utm)==null?void 0:f.utm_term)==r.utm_term;return p&&v&&w&&m}return!1}static os(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];re.info("[WebExperiments] "+e,r)}us(e,t,r){this._is_bot()?n.os("Refusing to render web experiment since the viewer is a likely bot"):t!=="control"?r.forEach(i=>{if(i.selector){var o;n.os("applying transform of variant "+t+" for experiment "+e+" ",i);var s=(o=document)==null?void 0:o.querySelectorAll(i.selector);s?.forEach(a=>{var l=a;i.html&&(l.innerHTML=i.html),i.css&&l.setAttribute("style",i.css)})}}):n.os("Control variants leave the page unmodified.")}_is_bot(){return Hn&&this._instance?qF(Hn,this._instance.config.custom_blocked_useragents):void 0}},Ad={},XI=()=>{},Al="posthog",GF=!wq&&Sn?.indexOf("MSIE")===-1&&Sn?.indexOf("Mozilla")===-1,BO=n=>{var e;return{api_host:"https://us.i.posthog.com",ui_host:null,token:"",autocapture:!0,rageclick:!0,cross_subdomain_cookie:m8(J?.location),persistence:"localStorage+cookie",persistence_name:"",loaded:XI,save_campaign_params:!0,custom_campaign_params:[],custom_blocked_useragents:[],save_referrer:!0,capture_pageview:n!=="2025-05-24"||"history_change",capture_pageleave:"if_capture_pageview",defaults:n??"unset",debug:Tn&&gt(Tn?.search)&&Tn.search.indexOf("__posthog_debug=true")!==-1||!1,cookie_expiration:365,upgrade:!1,disable_session_recording:!1,disable_persistence:!1,disable_web_experiments:!0,disable_surveys:!1,disable_external_dependency_loading:!1,enable_recording_console_log:void 0,secure_cookie:(P==null||(e=P.location)==null?void 0:e.protocol)==="https:",ip:!0,opt_out_capturing_by_default:!1,opt_out_persistence_by_default:!1,opt_out_useragent_filter:!1,opt_out_capturing_persistence_type:"localStorage",opt_out_capturing_cookie_prefix:null,opt_in_site_apps:!1,property_denylist:[],respect_dnt:!1,sanitize_properties:null,request_headers:{},request_batching:!0,properties_string_max_length:65535,session_recording:{},mask_all_element_attributes:!1,mask_all_text:!1,mask_personal_data_properties:!1,custom_personal_data_properties:[],advanced_disable_decide:!1,advanced_disable_feature_flags:!1,advanced_disable_feature_flags_on_first_load:!1,advanced_only_evaluate_survey_feature_flags:!1,advanced_disable_toolbar_metrics:!1,feature_flag_request_timeout_ms:3e3,surveys_request_timeout_ms:1e4,on_request_error:t=>{var r="Bad HTTP status: "+t.statusCode+" "+t.text;re.error(r)},get_device_id:t=>t,capture_performance:void 0,name:"posthog",bootstrap:{},disable_compression:!1,session_idle_timeout_seconds:1800,person_profiles:"identified_only",before_send:void 0,request_queue_config:{flush_interval_ms:HI},error_tracking:{},_onCapture:XI}},$O=n=>{var e={};G(n.process_person)||(e.person_profiles=n.process_person),G(n.xhr_headers)||(e.request_headers=n.xhr_headers),G(n.cookie_name)||(e.persistence_name=n.cookie_name),G(n.disable_cookie)||(e.disable_persistence=n.disable_cookie),G(n.store_google)||(e.save_campaign_params=n.store_google),G(n.verbose)||(e.debug=n.verbose);var t=At({},e,n);return st(n.property_blacklist)&&(G(n.property_denylist)?t.property_denylist=n.property_blacklist:st(n.property_denylist)?t.property_denylist=[...n.property_blacklist,...n.property_denylist]:re.error("Invalid value for property_denylist config: "+n.property_denylist)),t},eD=class{constructor(){this.__forceAllowLocalhost=!1}get fs(){return this.__forceAllowLocalhost}set fs(e){re.error("WebPerformanceObserver is deprecated and has no impact on network capture. Use `_forceAllowLocalhostNetworkCapture` on `posthog.sessionRecording`"),this.__forceAllowLocalhost=e}},Jm=class n{get decideEndpointWasHit(){var e,t;return(e=(t=this.featureFlags)==null?void 0:t.hasLoadedFlags)!==null&&e!==void 0&&e}constructor(){this.webPerformance=new eD,this.ps=!1,this.version=Ui.LIB_VERSION,this._s=new Zm,this._calculate_event_properties=this.calculateEventProperties.bind(this),this.config=BO(),this.SentryIntegration=TI,this.sentryIntegration=e=>function(t,r){var i=EF(t,r);return{name:wF,processEvent:o=>i(o)}}(this,e),this.__request_queue=[],this.__loaded=!1,this.analyticsDefaultEndpoint="/e/",this.gs=!1,this.bs=null,this.ys=null,this.ws=null,this.featureFlags=new LI(this),this.toolbar=new AI(this),this.scrollManager=new WI(this),this.pageViewManager=new NI(this),this.surveys=new BI(this),this.experiments=new JI(this),this.exceptions=new PI(this),this.rateLimiter=new $I(this),this.requestRouter=new ZI(this),this.consent=new uI(this),this.people={set:(e,t,r)=>{var i=gt(e)?{[e]:t}:e;this.setPersonProperties(i),r?.({})},set_once:(e,t,r)=>{var i=gt(e)?{[e]:t}:e;this.setPersonProperties(void 0,i),r?.({})}},this.on("eventCaptured",e=>re.info('send "'+e?.event+'"',e))}init(e,t,r){if(r&&r!==Al){var i,o=(i=Ad[r])!==null&&i!==void 0?i:new n;return o._init(e,t,r),Ad[r]=o,Ad[Al][r]=o,o}return this._init(e,t,r)}_init(e,t,r){var i,o;if(t===void 0&&(t={}),G(e)||GC(e))return re.critical("PostHog was initialized without a token. This likely indicates a misconfiguration. Please check the first argument passed to posthog.init()"),this;if(this.__loaded)return re.warn("You have already initialized PostHog! Re-initializing is a no-op"),this;this.__loaded=!0,this.config={},this.Ss=[],t.person_profiles&&(this.ys=t.person_profiles),this.set_config(At({},BO(t.defaults),$O(t),{name:r,token:e})),this.config.on_xhr_error&&re.error("on_xhr_error is deprecated. Use on_request_error instead"),this.compression=t.disable_compression?void 0:Bi.GZipJS,this.persistence=new Td(this.config),this.sessionPersistence=this.config.persistence==="sessionStorage"||this.config.persistence==="memory"?this.persistence:new Td(Y({},this.config,{persistence:"sessionStorage"}));var s=Y({},this.persistence.props),a=Y({},this.sessionPersistence.props);if(this.register({$initialization_time:new Date().toISOString()}),this.$s=new qI(N=>this.ks(N),this.config.request_queue_config),this.xs=new GI(this),this.__request_queue=[],this.config.__preview_experimental_cookieless_mode||(this.sessionManager=new QI(this),this.sessionPropsManager=new KI(this,this.sessionManager,this.persistence)),new MI(this).startIfEnabledOrStop(),this.siteApps=new YI(this),(i=this.siteApps)==null||i.init(),this.config.__preview_experimental_cookieless_mode||(this.sessionRecording=new SI(this),this.sessionRecording.startIfEnabledOrStop()),this.config.disable_scroll_properties||this.scrollManager.startMeasuringScrollPosition(),this.autocapture=new sI(this),this.autocapture.startIfEnabled(),this.surveys.loadIfEnabled(),this.heatmaps=new RI(this),this.heatmaps.startIfEnabled(),this.webVitalsAutocapture=new xI(this),this.exceptionObserver=new dI(this),this.exceptionObserver.startIfEnabled(),this.deadClicksAutocapture=new Bm(this,F8),this.deadClicksAutocapture.startIfEnabled(),this.historyAutocapture=new hI(this),this.historyAutocapture.startIfEnabled(),Ui.DEBUG=Ui.DEBUG||this.config.debug,Ui.DEBUG&&re.info("Starting in debug mode",{this:this,config:t,thisC:Y({},this.config),p:s,s:a}),this.Es(),((o=t.bootstrap)==null?void 0:o.distinctID)!==void 0){var l,u,d=this.config.get_device_id(Ao()),f=(l=t.bootstrap)!=null&&l.isIdentifiedID?d:t.bootstrap.distinctID;this.persistence.set_property(Vi,(u=t.bootstrap)!=null&&u.isIdentifiedID?"identified":"anonymous"),this.register({distinct_id:t.bootstrap.distinctID,$device_id:f})}if(this.Is()){var p,m,v=Object.keys(((p=t.bootstrap)==null?void 0:p.featureFlags)||{}).filter(N=>{var O;return!((O=t.bootstrap)==null||(O=O.featureFlags)==null||!O[N])}).reduce((N,O)=>{var U;return N[O]=((U=t.bootstrap)==null||(U=U.featureFlags)==null?void 0:U[O])||!1,N},{}),w=Object.keys(((m=t.bootstrap)==null?void 0:m.featureFlagPayloads)||{}).filter(N=>v[N]).reduce((N,O)=>{var U,q;return(U=t.bootstrap)!=null&&(U=U.featureFlagPayloads)!=null&&U[O]&&(N[O]=(q=t.bootstrap)==null||(q=q.featureFlagPayloads)==null?void 0:q[O]),N},{});this.featureFlags.receivedFeatureFlags({featureFlags:v,featureFlagPayloads:w})}if(this.config.__preview_experimental_cookieless_mode)this.register_once({distinct_id:rO,$device_id:null},"");else if(!this.get_distinct_id()){var A=this.config.get_device_id(Ao());this.register_once({distinct_id:A,$device_id:A},""),this.persistence.set_property(Vi,"anonymous")}return ut(P,"onpagehide"in self?"pagehide":"unload",this._handle_unload.bind(this),{passive:!1}),this.toolbar.maybeLoadToolbar(),t.segment?gq(this,()=>this.Ps()):this.Ps(),cr(this.config._onCapture)&&this.config._onCapture!==XI&&(re.warn("onCapture is deprecated. Please use `before_send` instead"),this.on("eventCaptured",N=>this.config._onCapture(N.event,N))),this}Ee(e){var t,r,i,o,s,a,l,u;if(!J||!J.body)return re.info("document not ready yet, trying again in 500 milliseconds..."),void setTimeout(()=>{this.Ee(e)},500);this.compression=void 0,e.supportedCompression&&!this.config.disable_compression&&(this.compression=Me(e.supportedCompression,Bi.GZipJS)?Bi.GZipJS:Me(e.supportedCompression,Bi.Base64)?Bi.Base64:void 0),(t=e.analytics)!=null&&t.endpoint&&(this.analyticsDefaultEndpoint=e.analytics.endpoint),this.set_config({person_profiles:this.ys?this.ys:"identified_only"}),(r=this.siteApps)==null||r.onRemoteConfig(e),(i=this.sessionRecording)==null||i.onRemoteConfig(e),(o=this.autocapture)==null||o.onRemoteConfig(e),(s=this.heatmaps)==null||s.onRemoteConfig(e),this.surveys.onRemoteConfig(e),(a=this.webVitalsAutocapture)==null||a.onRemoteConfig(e),(l=this.exceptionObserver)==null||l.onRemoteConfig(e),this.exceptions.onRemoteConfig(e),(u=this.deadClicksAutocapture)==null||u.onRemoteConfig(e)}Ps(){try{this.config.loaded(this)}catch(e){re.critical("`loaded` function failed",e)}this.Rs(),this.config.capture_pageview&&setTimeout(()=>{this.consent.isOptedIn()&&this.Ts()},1),new zI(this).load(),this.featureFlags.decide()}Rs(){var e;this.has_opted_out_capturing()||this.config.request_batching&&((e=this.$s)==null||e.enable())}_dom_loaded(){this.has_opted_out_capturing()||Mo(this.__request_queue,e=>this.ks(e)),this.__request_queue=[],this.Rs()}_handle_unload(){var e,t;this.config.request_batching?(this.Ms()&&this.capture("$pageleave"),(e=this.$s)==null||e.unload(),(t=this.xs)==null||t.unload()):this.Ms()&&this.capture("$pageleave",null,{transport:"sendBeacon"})}xe(e){this.__loaded&&(GF?this.__request_queue.push(e):this.rateLimiter.isServerRateLimited(e.batchKey)||(e.transport=e.transport||this.config.api_transport,e.url=Qm(e.url,{ip:this.config.ip?1:0}),e.headers=Y({},this.config.request_headers),e.compression=e.compression==="best-available"?this.compression:e.compression,e.fetchOptions=e.fetchOptions||this.config.fetch_options,(t=>{var r,i,o,s=Y({},t);s.timeout=s.timeout||6e4,s.url=Qm(s.url,{_:new Date().getTime().toString(),ver:Ui.LIB_VERSION,compression:s.compression});var a=(r=s.transport)!==null&&r!==void 0?r:"fetch",l=(i=(o=QO(Sd,u=>u.transport===a))==null?void 0:o.method)!==null&&i!==void 0?i:Sd[0].method;if(!l)throw new Error("No available transport method");l(s)})(Y({},e,{callback:t=>{var r,i;this.rateLimiter.checkForLimiting(t),t.statusCode>=400&&((r=(i=this.config).on_request_error)==null||r.call(i,t)),e.callback==null||e.callback(t)}}))))}ks(e){this.xs?this.xs.retriableRequest(e):this.xe(e)}_execute_array(e){var t,r=[],i=[],o=[];Mo(e,a=>{a&&(t=a[0],st(t)?o.push(a):cr(a)?a.call(this):st(a)&&t==="alias"?r.push(a):st(a)&&t.indexOf("capture")!==-1&&cr(this[t])?o.push(a):i.push(a))});var s=function(a,l){Mo(a,function(u){if(st(u[0])){var d=l;Qe(u,function(f){d=d[f[0]].apply(d,f.slice(1))})}else this[u[0]].apply(this,u.slice(1))},l)};s(r,this),s(i,this),s(o,this)}Is(){var e,t;return((e=this.config.bootstrap)==null?void 0:e.featureFlags)&&Object.keys((t=this.config.bootstrap)==null?void 0:t.featureFlags).length>0||!1}push(e){this._execute_array([e])}capture(e,t,r){var i;if(this.__loaded&&this.persistence&&this.sessionPersistence&&this.$s){if(!this.consent.isOptedOut())if(!G(e)&&gt(e)){if(this.config.opt_out_useragent_filter||!this._is_bot()){var o=r!=null&&r.skip_client_rate_limiting?void 0:this.rateLimiter.clientRateLimitContext();if(o==null||!o.isRateLimited){t!=null&&t.$current_url&&!gt(t?.$current_url)&&(re.error("Invalid `$current_url` property provided to `posthog.capture`. Input must be a string. Ignoring provided value."),t==null||delete t.$current_url),this.sessionPersistence.update_search_keyword(),this.config.save_campaign_params&&this.sessionPersistence.update_campaign_params(),this.config.save_referrer&&this.sessionPersistence.update_referrer_info(),(this.config.save_campaign_params||this.config.save_referrer)&&this.persistence.set_initial_person_info();var s=new Date,a=r?.timestamp||s,l=Ao(),u={uuid:l,event:e,properties:this.calculateEventProperties(e,t||{},a,l)};o&&(u.properties.$lib_rate_limit_remaining_tokens=o.remainingTokens),r?.$set&&(u.$set=r?.$set);var d,f,p=this.Cs(r?.$set_once);if(p&&(u.$set_once=p),(u=p8(u,r!=null&&r._noTruncate?null:this.config.properties_string_max_length)).timestamp=a,G(r?.timestamp)||(u.properties.$event_time_override_provided=!0,u.properties.$event_time_override_system_time=s),e===$C.DISMISSED||e===$C.SENT){var m=t?.[FO.SURVEY_ID],v=t?.[FO.SURVEY_ITERATION];localStorage.setItem((f=""+jI+(d={id:m,current_iteration:v}).id,d.current_iteration&&d.current_iteration>0&&(f=""+jI+d.id+"_"+d.current_iteration),f),"true"),u.$set=Y({},u.$set,{[jq({id:m,current_iteration:v},e===$C.SENT?"responded":"dismissed")]:!0})}var w=Y({},u.properties.$set,u.$set);if(Ml(w)||this.setPersonPropertiesForFlags(w),!He(this.config.before_send)){var A=this.Os(u);if(!A)return;u=A}this._s.emit("eventCaptured",u);var N={method:"POST",url:(i=r?._url)!==null&&i!==void 0?i:this.requestRouter.endpointFor("api",this.analyticsDefaultEndpoint),data:u,compression:"best-available",batchKey:r?._batchKey};return!this.config.request_batching||r&&(r==null||!r._batchKey)||r!=null&&r.send_instantly?this.ks(N):this.$s.enqueue(N),u}re.critical("This capture call is ignored due to client rate limiting.")}}else re.error("No event name provided to posthog.capture")}else re.uninitializedWarning("posthog.capture")}We(e){return this.on("eventCaptured",t=>e(t.event,t))}calculateEventProperties(e,t,r,i,o){if(r=r||new Date,!this.persistence||!this.sessionPersistence)return t;var s=o?void 0:this.persistence.remove_event_timer(e),a=Y({},t);if(a.token=this.config.token,a.$config_defaults=this.config.defaults,this.config.__preview_experimental_cookieless_mode&&(a.$cookieless_mode=!0),e==="$snapshot"){var l=Y({},this.persistence.properties(),this.sessionPersistence.properties());return a.distinct_id=l.distinct_id,(!gt(a.distinct_id)&&!sn(a.distinct_id)||GC(a.distinct_id))&&re.error("Invalid distinct_id for replay event. This indicates a bug in your implementation"),a}var u,d=Oq(this.config.mask_personal_data_properties,this.config.custom_personal_data_properties);if(this.sessionManager){var{sessionId:f,windowId:p}=this.sessionManager.checkAndGetSessionAndWindowId(o,r.getTime());a.$session_id=f,a.$window_id=p}this.sessionPropsManager&&At(a,this.sessionPropsManager.getSessionProps());try{var m;this.sessionRecording&&At(a,this.sessionRecording.sdkDebugProperties),a.$sdk_debug_retry_queue_size=(m=this.xs)==null?void 0:m.length}catch(N){a.$sdk_debug_error_capturing_properties=String(N)}if(this.requestRouter.region===Id.CUSTOM&&(a.$lib_custom_api_host=this.config.api_host),u=e!=="$pageview"||o?e!=="$pageleave"||o?this.pageViewManager.doEvent():this.pageViewManager.doPageLeave(r):this.pageViewManager.doPageView(r,i),a=At(a,u),e==="$pageview"&&J&&(a.title=J.title),!G(s)){var v=r.getTime()-s;a.$duration=parseFloat((v/1e3).toFixed(3))}Sn&&this.config.opt_out_useragent_filter&&(a.$browser_type=this._is_bot()?"bot":"browser"),(a=At({},d,this.persistence.properties(),this.sessionPersistence.properties(),a)).$is_identified=this._isIdentified(),st(this.config.property_denylist)?Qe(this.config.property_denylist,function(N){delete a[N]}):re.error("Invalid value for property_denylist config: "+this.config.property_denylist+" or property_blacklist config: "+this.config.property_blacklist);var w=this.config.sanitize_properties;w&&(re.error("sanitize_properties is deprecated. Use before_send instead"),a=w(a,e));var A=this.Fs();return a.$process_person_profile=A,A&&!o&&this.As("_calculate_event_properties"),a}Cs(e){var t;if(!this.persistence||!this.Fs()||this.ps)return e;var r=this.persistence.get_initial_props(),i=(t=this.sessionPropsManager)==null?void 0:t.getSetOnceProps(),o=At({},r,i||{},e||{}),s=this.config.sanitize_properties;return s&&(re.error("sanitize_properties is deprecated. Use before_send instead"),o=s(o,"$set_once")),this.ps=!0,Ml(o)?void 0:o}register(e,t){var r;(r=this.persistence)==null||r.register(e,t)}register_once(e,t,r){var i;(i=this.persistence)==null||i.register_once(e,t,r)}register_for_session(e){var t;(t=this.sessionPersistence)==null||t.register(e)}unregister(e){var t;(t=this.persistence)==null||t.unregister(e)}unregister_for_session(e){var t;(t=this.sessionPersistence)==null||t.unregister(e)}Ds(e,t){this.register({[e]:t})}getFeatureFlag(e,t){return this.featureFlags.getFeatureFlag(e,t)}getFeatureFlagPayload(e){var t=this.featureFlags.getFeatureFlagPayload(e);try{return JSON.parse(t)}catch{return t}}isFeatureEnabled(e,t){return this.featureFlags.isFeatureEnabled(e,t)}reloadFeatureFlags(){this.featureFlags.reloadFeatureFlags()}updateEarlyAccessFeatureEnrollment(e,t){this.featureFlags.updateEarlyAccessFeatureEnrollment(e,t)}getEarlyAccessFeatures(e,t,r){return t===void 0&&(t=!1),this.featureFlags.getEarlyAccessFeatures(e,t,r)}on(e,t){return this._s.on(e,t)}onFeatureFlags(e){return this.featureFlags.onFeatureFlags(e)}onSurveysLoaded(e){return this.surveys.onSurveysLoaded(e)}onSessionId(e){var t,r;return(t=(r=this.sessionManager)==null?void 0:r.onSessionId(e))!==null&&t!==void 0?t:()=>{}}getSurveys(e,t){t===void 0&&(t=!1),this.surveys.getSurveys(e,t)}getActiveMatchingSurveys(e,t){t===void 0&&(t=!1),this.surveys.getActiveMatchingSurveys(e,t)}renderSurvey(e,t){this.surveys.renderSurvey(e,t)}canRenderSurvey(e){return this.surveys.canRenderSurvey(e)}canRenderSurveyAsync(e,t){return t===void 0&&(t=!1),this.surveys.canRenderSurveyAsync(e,t)}identify(e,t,r){if(!this.__loaded||!this.persistence)return re.uninitializedWarning("posthog.identify");if(sn(e)&&(e=e.toString(),re.warn("The first argument to posthog.identify was a number, but it should be a string. It has been converted to a string.")),e){if(["distinct_id","distinctid"].includes(e.toLowerCase()))re.critical('The string "'+e+'" was set in posthog.identify which indicates an error. This ID should be unique to the user and not a hardcoded string.');else if(this.As("posthog.identify")){var i=this.get_distinct_id();if(this.register({$user_id:e}),!this.get_property("$device_id")){var o=i;this.register_once({$had_persisted_distinct_id:!0,$device_id:o},"")}e!==i&&e!==this.get_property(yd)&&(this.unregister(yd),this.register({distinct_id:e}));var s=(this.persistence.get_property(Vi)||"anonymous")==="anonymous";e!==i&&s?(this.persistence.set_property(Vi,"identified"),this.setPersonPropertiesForFlags(Y({},r||{},t||{}),!1),this.capture("$identify",{distinct_id:e,$anon_distinct_id:i},{$set:t||{},$set_once:r||{}}),this.ws=AO(e,t,r),this.featureFlags.setAnonymousDistinctId(i)):(t||r)&&this.setPersonProperties(t,r),e!==i&&(this.reloadFeatureFlags(),this.unregister(km))}}else re.error("Unique user id has not been set in posthog.identify")}setPersonProperties(e,t){if((e||t)&&this.As("posthog.setPersonProperties")){var r=AO(this.get_distinct_id(),e,t);this.ws!==r?(this.setPersonPropertiesForFlags(Y({},t||{},e||{})),this.capture("$set",{$set:e||{},$set_once:t||{}}),this.ws=r):re.info("A duplicate setPersonProperties call was made with the same properties. It has been ignored.")}}group(e,t,r){if(e&&t){if(this.As("posthog.group")){var i=this.getGroups();i[e]!==t&&this.resetGroupPropertiesForFlags(e),this.register({$groups:Y({},i,{[e]:t})}),r&&(this.capture("$groupidentify",{$group_type:e,$group_key:t,$group_set:r}),this.setGroupPropertiesForFlags({[e]:r})),i[e]===t||r||this.reloadFeatureFlags()}}else re.error("posthog.group requires a group type and group key")}resetGroups(){this.register({$groups:{}}),this.resetGroupPropertiesForFlags(),this.reloadFeatureFlags()}setPersonPropertiesForFlags(e,t){t===void 0&&(t=!0),this.featureFlags.setPersonPropertiesForFlags(e,t)}resetPersonPropertiesForFlags(){this.featureFlags.resetPersonPropertiesForFlags()}setGroupPropertiesForFlags(e,t){t===void 0&&(t=!0),this.As("posthog.setGroupPropertiesForFlags")&&this.featureFlags.setGroupPropertiesForFlags(e,t)}resetGroupPropertiesForFlags(e){this.featureFlags.resetGroupPropertiesForFlags(e)}reset(e){var t,r,i,o;if(re.info("reset"),!this.__loaded)return re.uninitializedWarning("posthog.reset");var s=this.get_property("$device_id");if(this.consent.reset(),(t=this.persistence)==null||t.clear(),(r=this.sessionPersistence)==null||r.clear(),this.surveys.reset(),(i=this.persistence)==null||i.set_property(Vi,"anonymous"),(o=this.sessionManager)==null||o.resetSessionId(),this.ws=null,this.config.__preview_experimental_cookieless_mode)this.register_once({distinct_id:rO,$device_id:null},"");else{var a=this.config.get_device_id(Ao());this.register_once({distinct_id:a,$device_id:e?a:s},"")}this.register({$last_posthog_reset:new Date().toISOString()},1)}get_distinct_id(){return this.get_property("distinct_id")}getGroups(){return this.get_property("$groups")||{}}get_session_id(){var e,t;return(e=(t=this.sessionManager)==null?void 0:t.checkAndGetSessionAndWindowId(!0).sessionId)!==null&&e!==void 0?e:""}get_session_replay_url(e){if(!this.sessionManager)return"";var{sessionId:t,sessionStartTimestamp:r}=this.sessionManager.checkAndGetSessionAndWindowId(!0),i=this.requestRouter.endpointFor("ui","/project/"+this.config.token+"/replay/"+t);if(e!=null&&e.withTimestamp&&r){var o,s=(o=e.timestampLookBack)!==null&&o!==void 0?o:10;if(!r)return i;i+="?t="+Math.max(Math.floor((new Date().getTime()-r)/1e3)-s,0)}return i}alias(e,t){return e===this.get_property(YO)?(re.critical("Attempting to create alias for existing People user - aborting."),-2):this.As("posthog.alias")?(G(t)&&(t=this.get_distinct_id()),e!==t?(this.Ds(yd,e),this.capture("$create_alias",{alias:e,distinct_id:t})):(re.warn("alias matches current distinct_id - skipping api call."),this.identify(e),-1)):void 0}set_config(e){var t,r,i,o,s=Y({},this.config);pt(e)&&(At(this.config,$O(e)),(t=this.persistence)==null||t.update_config(this.config,s),this.sessionPersistence=this.config.persistence==="sessionStorage"||this.config.persistence==="memory"?this.persistence:new Td(Y({},this.config,{persistence:"sessionStorage"})),Ft.O()&&Ft.A("ph_debug")==="true"&&(this.config.debug=!0),this.config.debug&&(Ui.DEBUG=!0,re.info("set_config",JSON.stringify({config:e,oldConfig:s,newConfig:Y({},this.config)},null,2))),(r=this.sessionRecording)==null||r.startIfEnabledOrStop(),(i=this.autocapture)==null||i.startIfEnabled(),(o=this.heatmaps)==null||o.startIfEnabled(),this.surveys.loadIfEnabled(),this.Es())}startSessionRecording(e){var t=e===!0,r={sampling:t||!(e==null||!e.sampling),linked_flag:t||!(e==null||!e.linked_flag),url_trigger:t||!(e==null||!e.url_trigger),event_trigger:t||!(e==null||!e.event_trigger)};if(Object.values(r).some(Boolean)){var i,o,s,a,l;(i=this.sessionManager)==null||i.checkAndGetSessionAndWindowId(),r.sampling&&((o=this.sessionRecording)==null||o.overrideSampling()),r.linked_flag&&((s=this.sessionRecording)==null||s.overrideLinkedFlag()),r.url_trigger&&((a=this.sessionRecording)==null||a.overrideTrigger("url")),r.event_trigger&&((l=this.sessionRecording)==null||l.overrideTrigger("event"))}this.set_config({disable_session_recording:!1})}stopSessionRecording(){this.set_config({disable_session_recording:!0})}sessionRecordingStarted(){var e;return!((e=this.sessionRecording)==null||!e.started)}captureException(e,t){var r=new Error("PostHog syntheticException");this.exceptions.sendExceptionEvent(Y({},Q8((i=>i instanceof Error)(e)?{error:e,event:e.message}:{event:e},{syntheticException:r}),t))}loadToolbar(e){return this.toolbar.loadToolbar(e)}get_property(e){var t;return(t=this.persistence)==null?void 0:t.props[e]}getSessionProperty(e){var t;return(t=this.sessionPersistence)==null?void 0:t.props[e]}toString(){var e,t=(e=this.config.name)!==null&&e!==void 0?e:Al;return t!==Al&&(t=Al+"."+t),t}_isIdentified(){var e,t;return((e=this.persistence)==null?void 0:e.get_property(Vi))==="identified"||((t=this.sessionPersistence)==null?void 0:t.get_property(Vi))==="identified"}Fs(){var e,t;return!(this.config.person_profiles==="never"||this.config.person_profiles==="identified_only"&&!this._isIdentified()&&Ml(this.getGroups())&&((e=this.persistence)==null||(e=e.props)==null||!e[yd])&&((t=this.persistence)==null||(t=t.props)==null||!t[Fm]))}Ms(){return this.config.capture_pageleave===!0||this.config.capture_pageleave==="if_capture_pageview"&&(this.config.capture_pageview===!0||this.config.capture_pageview==="history_change")}createPersonProfile(){this.Fs()||this.As("posthog.createPersonProfile")&&this.setPersonProperties({},{})}As(e){return this.config.person_profiles==="never"?(re.error(e+' was called, but process_person is set to "never". This call will be ignored.'),!1):(this.Ds(Fm,!0),!0)}Es(){var e,t,r,i,o=this.consent.isOptedOut(),s=this.config.opt_out_persistence_by_default,a=this.config.disable_persistence||o&&!!s;((e=this.persistence)==null?void 0:e.Ce)!==a&&((r=this.persistence)==null||r.set_disabled(a)),((t=this.sessionPersistence)==null?void 0:t.Ce)!==a&&((i=this.sessionPersistence)==null||i.set_disabled(a))}opt_in_capturing(e){var t;this.consent.optInOut(!0),this.Es(),(G(e?.captureEventName)||e!=null&&e.captureEventName)&&this.capture((t=e?.captureEventName)!==null&&t!==void 0?t:"$opt_in",e?.captureProperties,{send_instantly:!0}),this.config.capture_pageview&&this.Ts()}opt_out_capturing(){this.consent.optInOut(!1),this.Es()}has_opted_in_capturing(){return this.consent.isOptedIn()}has_opted_out_capturing(){return this.consent.isOptedOut()}clear_opt_in_out_capturing(){this.consent.reset(),this.Es()}_is_bot(){return Hn?qF(Hn,this.config.custom_blocked_useragents):void 0}Ts(){J&&(J.visibilityState==="visible"?this.gs||(this.gs=!0,this.capture("$pageview",{title:J.title},{send_instantly:!0}),this.bs&&(J.removeEventListener("visibilitychange",this.bs),this.bs=null)):this.bs||(this.bs=this.Ts.bind(this),ut(J,"visibilitychange",this.bs)))}debug(e){e===!1?(P?.console.log("You've disabled debug mode."),localStorage&&localStorage.removeItem("ph_debug"),this.set_config({debug:!1})):(P?.console.log("You're now in debug mode. All calls to PostHog will be logged in your console.\nYou can disable this with `posthog.debug(false)`."),localStorage&&localStorage.setItem("ph_debug","true"),this.set_config({debug:!0}))}Os(e){if(He(this.config.before_send))return e;var t=st(this.config.before_send)?this.config.before_send:[this.config.before_send],r=e;for(var i of t){if(r=i(r),He(r)){var o="Event '"+e.event+"' was rejected in beforeSend function";return d8(e.event)?re.warn(o+". This can cause unexpected behavior."):re.info(o),null}r.properties&&!Ml(r.properties)||re.warn("Event '"+e.event+"' has no properties after beforeSend function, this is likely an error.")}return r}getPageViewId(){var e;return(e=this.pageViewManager.ve)==null?void 0:e.pageViewId}captureTraceFeedback(e,t){this.capture("$ai_feedback",{$ai_trace_id:String(e),$ai_feedback_text:t})}captureTraceMetric(e,t,r){this.capture("$ai_metric",{$ai_trace_id:String(e),$ai_metric_name:t,$ai_metric_value:String(r)})}};(function(n,e){for(var t=0;t<e.length;t++)n.prototype[e[t]]=f8(n.prototype[e[t]])})(Jm,["identify"]);var zO,oi=(zO=Ad[Al]=new Jm,function(){function n(){n.done||(n.done=!0,GF=!1,Qe(Ad,function(e){e._dom_loaded()}))}J!=null&&J.addEventListener?J.readyState==="complete"?n():ut(J,"DOMContentLoaded",n,{capture:!1}):P&&re.error("Browser doesn't support `document.addEventListener` so PostHog couldn't be initialized")}(),zO);var oy=class n{pageView(e){oi&&oi.has_opted_in_capturing()&&oi.capture("$pageview",{path:e})}identify(e,t={}){oi.identify(e,t)}track(e,t={}){oi&&oi.has_opted_in_capturing()&&oi.capture(e,t)}static \u0275fac=function(t){return new(t||n)};static \u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})};function Gq(n,e){n&1&&ie(0,"app-cookie-banner")}var sy=class n{constructor(e,t,r){this.cookieConsent=e;t.events.subscribe(i=>{i instanceof Cn&&r.pageView(i.urlAfterRedirects)})}title="logos";static \u0275fac=function(t){return new(t||n)(ee(Dl),ee(it),ee(oy))};static \u0275cmp=ge({type:n,selectors:[["app-root"]],decls:2,vars:1,consts:[[4,"ngIf"]],template:function(t,r){t&1&&(Se(0,Gq,1,0,"app-cookie-banner",0),ie(1,"router-outlet")),t&2&&Q("ngIf",!r.cookieConsent.hasConsented())},dependencies:[fu,vm,$e,Ln],styles:['@font-face{font-family:Inter;font-style:normal;font-weight:200;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v19/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa2JL7SUc.woff2) format("woff2");unicode-range:U+0460-052F,U+1C80-1C8A,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:Inter;font-style:normal;font-weight:200;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v19/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa0ZL7SUc.woff2) format("woff2");unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:Inter;font-style:normal;font-weight:200;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v19/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa2ZL7SUc.woff2) format("woff2");unicode-range:U+1F00-1FFF}@font-face{font-family:Inter;font-style:normal;font-weight:200;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v19/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa1pL7SUc.woff2) format("woff2");unicode-range:U+0370-0377,U+037A-037F,U+0384-038A,U+038C,U+038E-03A1,U+03A3-03FF}@font-face{font-family:Inter;font-style:normal;font-weight:200;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v19/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa2pL7SUc.woff2) format("woff2");unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB}@font-face{font-family:Inter;font-style:normal;font-weight:200;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v19/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa25L7SUc.woff2) format("woff2");unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Inter;font-style:normal;font-weight:200;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v19/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa1ZL7.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:Inter;font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v19/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa2JL7SUc.woff2) format("woff2");unicode-range:U+0460-052F,U+1C80-1C8A,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:Inter;font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v19/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa0ZL7SUc.woff2) format("woff2");unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:Inter;font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v19/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa2ZL7SUc.woff2) format("woff2");unicode-range:U+1F00-1FFF}@font-face{font-family:Inter;font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v19/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa1pL7SUc.woff2) format("woff2");unicode-range:U+0370-0377,U+037A-037F,U+0384-038A,U+038C,U+038E-03A1,U+03A3-03FF}@font-face{font-family:Inter;font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v19/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa2pL7SUc.woff2) format("woff2");unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB}@font-face{font-family:Inter;font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v19/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa25L7SUc.woff2) format("woff2");unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Inter;font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v19/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa1ZL7.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:Inter;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v19/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa2JL7SUc.woff2) format("woff2");unicode-range:U+0460-052F,U+1C80-1C8A,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:Inter;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v19/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa0ZL7SUc.woff2) format("woff2");unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:Inter;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v19/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa2ZL7SUc.woff2) format("woff2");unicode-range:U+1F00-1FFF}@font-face{font-family:Inter;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v19/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa1pL7SUc.woff2) format("woff2");unicode-range:U+0370-0377,U+037A-037F,U+0384-038A,U+038C,U+038E-03A1,U+03A3-03FF}@font-face{font-family:Inter;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v19/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa2pL7SUc.woff2) format("woff2");unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB}@font-face{font-family:Inter;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v19/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa25L7SUc.woff2) format("woff2");unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Inter;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v19/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa1ZL7.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:Inter;font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v19/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa2JL7SUc.woff2) format("woff2");unicode-range:U+0460-052F,U+1C80-1C8A,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:Inter;font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v19/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa0ZL7SUc.woff2) format("woff2");unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:Inter;font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v19/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa2ZL7SUc.woff2) format("woff2");unicode-range:U+1F00-1FFF}@font-face{font-family:Inter;font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v19/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa1pL7SUc.woff2) format("woff2");unicode-range:U+0370-0377,U+037A-037F,U+0384-038A,U+038C,U+038E-03A1,U+03A3-03FF}@font-face{font-family:Inter;font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v19/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa2pL7SUc.woff2) format("woff2");unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB}@font-face{font-family:Inter;font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v19/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa25L7SUc.woff2) format("woff2");unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Inter;font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v19/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa1ZL7.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}body[_ngcontent-%COMP%]{width:auto;height:auto;font-family:Inter,sans-serif;margin:0;padding:0;font-style:normal}html[_ngcontent-%COMP%]{min-height:100%;outline:none}']})};oi.init(hd.posthogApiKey,{api_host:hd.posthogHost,autocapture:!0,capture_pageview:!1});T0(sy,Vk).catch(n=>console.error(n));
